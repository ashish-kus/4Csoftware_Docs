{"/about/":{"data":{"":"","1-pcl-procedure-call-language#1. PCL (Procedure Call Language)":"A proprietary server-side programming language used to write business logic. It includes:\nFile handling Embedded SQL Encryption and security primitives UI control Networking utilities System-level operations","1-what-is-4c-software#1. What is 4C Software?":"4C Software is a proprietary, full-stack enterprise application development and runtime platform designed for building and running mission-critical business systems. It provides a complete ecosystem — including its own programming language, database engine, security framework, client interface, and deployment tools — all tightly integrated into a unified architecture.\nRather than being just a programming language or just a database, 4C is an entire application platform. Organizations use it to develop custom line-of-business systems such as inventory management, accounting, distribution control, logistics tracking, customer management, reporting, and transaction-heavy enterprise workflows.\nIt belongs to the class of platforms often compared to classic 4GL environments (like PowerBuilder or Progress OpenEdge), but with deeper control over runtime execution, file systems, and security.","2-architectural-philosophy#2. Architectural Philosophy":"At its core, 4C follows a centralized client–server model:\nThe server executes all application logic. The client is primarily responsible for user interface rendering. Data integrity, transaction control, locking, and security are handled server-side. This architecture ensures:\nStrong multi-user consistency Controlled record locking Centralized security enforcement Predictable performance under concurrent load The client acts as a graphical terminal, while the server manages sessions, file access, transaction logs, and application execution.","2-jisam-file-system#2. JISAM File System":"4C’s native indexed file system optimized for transactional, multi-user access. It supports both 32-bit and 64-bit formats and includes built-in recovery, repair, and backup tools.","3-cisam-support#3. CISAM Support":"Integration with Informix C-ISAM for transactional file management in earlier or specialized configurations.","3-core-building-blocks#3. Core Building Blocks":"The platform is composed of several tightly integrated components:","4-external-database-integration#4. External Database Integration":"Connectivity to:\nMySQL / MariaDB PostgreSQL SQLite ODBC-based systems (including Microsoft SQL Server) This allows 4C applications to interact with modern relational databases while preserving native application logic.","4-platform-scope#4. Platform Scope":"4C is not just a development toolkit — it is an application runtime environment. It includes:\nSession management Logging and profiling tools Transaction monitoring Record lock inspection Source control Auto-update mechanisms PDF generation JSON handling REST communication support Everything required to build, deploy, secure, and maintain enterprise software is contained within the platform.","5-security-framework#5. Security Framework":"Enterprise-grade features including:\nRole-based access control Record and field-level encryption RSA and symmetric encryption Secure client-server communication PAM authentication (Linux) Host key identity model","5-target-use-cases#5. Target Use Cases":"4C is designed for:\nHigh-concurrency business applications Transaction-heavy systems Custom enterprise solutions Industry-specific vertical software Long-running operational systems with strict data consistency requirements It is particularly well-suited for environments where reliability, control, and multi-user data integrity are more important than modern web-first architecture trends.","6-why-it-matters#6. Why It Matters":"Despite being a mature and long-standing platform, 4C continues to evolve, supporting modern operating systems (including Win64 and macOS clients) and updated cryptographic standards.\nIts longevity suggests:\nA stable enterprise customer base Proven architecture for real-world operations Strong backward compatibility Ongoing maintenance and feature development 4C represents a traditional but powerful approach to enterprise application engineering — emphasizing stability, centralized control, and integrated system design over distributed or microservice-based complexity.","closing-perspective#Closing Perspective":"This chapter provides a high-level orientation to the 4C ecosystem. In the chapters that follow, we will explore:\nThe internal architecture in depth The PCL language structure and programming model JISAM file internals and transaction handling Security mechanisms and cryptographic operations External database connectivity Application monitoring and profiling Real-world development workflows Understanding 4C requires viewing it not as a single tool, but as a complete enterprise software environment — one designed to build and run serious business systems at scale."},"title":"Introduction to 4C Software Platform"},"/docs/":{"data":{"":"This is a demo of the theme’s documentation layout.","hello-world#Hello, World":"main.gopackage main import \"fmt\" func main() { fmt.Println(\"Hello, World!\") }"},"title":"Documentation"},"/docs/first-page/":{"data":{"":"A simple page for later review."},"title":"Extra"},"/docs/globalpcls/":{"data":{"":"","what-is-global-pcl-#What is Global PCL ?":""},"title":"Global PCLs"},"/docs/globalpcls/sys-app_log/":{"data":{"":"","arguments#Arguments":"Argument Type Description alpha An application specific type up to 20 chars. alpha Detail of the type if needed. Up to 30 chars. integer A value indicating how important the log message is. The higher the severity the more important the message. alpha A detailed message up to 200 characters.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Every 4C application maintains an application log starting with 4C server version 6.2.7. The application log is automatically purged as needed and you can configure the frequency of the purging through the System Configuration for the application.\nYou can view entries in the application log by running the Application Log entry under Logging in the main sys.menu.tv developers menu. Most entries in the application log are made by the application programs mostly for the purpose of logging events that can be reviewed later. However, there are some exceptional conditions that are automatically logged by the system.","example#Example":"The sys.app_trace() Global PCL calls sys.app_log().","purpose#Purpose":"sys.app_log() adds an entry to the application log.","requirements#Requirements":"4C server version 6.2.7 or later.","returns#Returns":"None","see-also#See Also":"sys.app_trace()","sysapp_log#sys.app_log()":"","usage#Usage":"sys.app_log(\u003ctype\u003e, \u003ctypedet\u003e, \u003cseverity\u003e, \u003cmessage\u003e);","where-used#Where Used":"sys.app_log() can be called from anywhere."},"title":"sys.app_log"},"/docs/globalpcls/sys-app_trace/":{"data":{"":"","arguments#Arguments":"alpha - An application specific type up 20 chars. alpha - Detail of the type if needed. Up to 30 chars. integer - a value indicating how important the log message is. The higher the severity the more important the message. alpha - A detailed message up to 200 characters. alpha - currently Verbose or NoVerbose","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"sys.app_trace uses the 1st 4 arguments to write a record to the application log. It then creates a full trace of the current state of the 4csrvr process and writes this to a trace file in the FC_TEMP directory. Finally, it writes another record to the application log with a type of “TraceFile” and a message indicating the full path of the trace file.","example#Example":"The demo.dbg.main program has an example of calling sys.app_trace().","purpose#Purpose":"sys.app_trace() creates a trace file of the state of the 4csrvr process when it is called and it writes to log records to the application log.","returns#Returns":"None","see-also#See Also":"sys.app_log()","sysapp_trace#sys.app_trace()":"","usage#Usage":"sys.app_trace(\u003ctype\u003e,\u003ctypedet\u003e,\u003cseverity\u003e,\u003cmessage\u003e,\u003coption\u003e);","where-used#Where Used":"sys.app_trace() can be called from anywhere."},"title":"sys.app_trace"},"/docs/systempcls/":{"data":{"":"","what-is-system-pcl-#What is System PCL ?":"System PCL refers to the built-in, core procedures provided by the 4C runtime environment that allow applications to interact directly with the system. These functions are prefixed with sys. and handle essential operations such as file access, record locking, transaction control, screen and UI management, encryption, logging, networking, and process control. Unlike user-written PCLs, System PCLs are part of the platform itself and are precompiled into the server, serving as the foundational API that all 4C application logic relies on."},"title":"System PCLs"},"/docs/systempcls/atodate/":{"data":{"":"","arguments#Arguments":"alpha - An alpha date in “mm/dd/yy” or “mm/dd/yyyy” format.","atodate#atodate()":"","bugs--features--comments#Bugs / Features / Comments":"There is no way to specify the in anything besides American date format.","description#Description":"atodate() converts an alpha date to the 4C date format. The 4C date format is an integer representing the number of days since Dec 31, 1799. Thus, Jan 1, 1800 is represented by 1. 4C Does not deal with dates earlier than Jan 1, 1800.","example#Example":"None","purpose#Purpose":"atodate() converts an alpha date to the internal integer format.","returns#Returns":"date - internal date - which is an integer.\n0 - The internal date representation of 0 - Error - bad format or Illegal date.","see-also#See Also":"atodate() atotime() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","usage#Usage":"idate = atodate();","where-used#Where Used":"atodate() can be called from anywhere."},"title":"atodate"},"/docs/systempcls/atof/":{"data":{"":"","arguments#Arguments":"alpha aval;","atof#atof()":"","bugs--features--comments#Bugs / Features / Comments":"atof() does not verify the format of aval.","description#Description":"This PCL takes one alpha argument and converts it to a float, returning the float. A leading or trailing sign can be used. It is possible to get garbage in the return if the alpha argument was garbage also.","example#Example":"fl = atof(\"3.24\");","purpose#Purpose":"atof() converts an alpha field to a float field, and returns the float field.","returns#Returns":"float fval;\nThere are no error returns from this PCL.","see-also#See Also":"atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","usage#Usage":"fval = atof(aval);","where-used#Where Used":"atof() can be called from anywhere."},"title":"atof"},"/docs/systempcls/atoi/":{"data":{"":"","arguments#Arguments":"alpha aval;","atoi#atoi()":"","bugs--features--comments#Bugs / Features / Comments":"atoi() does not verify the format of aval.","description#Description":"This PCL takes one alpha argument and converts it to an integer, returning the integer.","example#Example":"fromdate = atoi(argv[3]);","purpose#Purpose":"atoi() converts an alpha field to an integer field, and returns the integer field.","returns#Returns":"integer ival;\nThere are no error returns from atoi().","see-also#See Also":"atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","usage#Usage":"ival = atoi(aval);","where-used#Where Used":"atoi() can be called from anywhere."},"title":"atoi"},"/docs/systempcls/atotime/":{"data":{"":"","arguments#Arguments":"alpha - An alpha representation of a time.","atotime#atotime()":"","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"atotime() converts a string to a 4c time value similar. It is fairly flexible, but expects the to have only digits, spaces, ‘:’s and an optional “am”, “a”, “pm” or “p” suffix.","example#Example":"None","purpose#Purpose":"atotime() converts a string to a 4C time.","returns#Returns":"-1 - Invalid time string\n= 0 - The 4c time.","see-also#See Also":"atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","usage#Usage":"tval = atotime();","where-used#Where Used":"atotime() can be called from anywhere."},"title":"atotime"},"/docs/systempcls/beep/":{"data":{"":"","arguments#Arguments":"None","beep#beep()":"","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Sends a beep to the terminal. Currently this is done by writing a ^G to the std err device. Possibly in the future a visible bell could be sent if it is defined for the terminal.","example#Example":"if (cm_read(cmcode \u003c 0)) { beep(); sys.exit_field(sys.cur_field); }","purpose#Purpose":"beep() beeps the terminal.","returns#Returns":"None","see-also#See Also":"sys.err_msg() sys.msg()","usage#Usage":"beep();","where-used#Where Used":"beep() can be called from anywhere."},"title":"beep"},"/docs/systempcls/ftoa/":{"data":{"":"","arguments#Arguments":"float fval;","bugs--features--comments#Bugs / Features / Comments":"ftoa() does not allow specifying a format, but sys.fmt_float() can be called if this is necessary.","description#Description":"This PCL takes one float argument and converts it to an alpha, returning the alpha. It is mostly useful in converting float fields to alpha for display in error messages and in passing arguments.","example#Example":"sys.err_msg(\"fl =\",ftoa(fl));","ftoa#ftoa()":"","purpose#Purpose":"ftoa() converts a float field to an alpha field, and returns the alpha field.","returns#Returns":"alpha aval;","see-also#See Also":"atodate() itoa() atoi() atof() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","usage#Usage":"aval = ftoa(fval);","where-used#Where Used":"ftoa() can be called from anywhere."},"title":"ftoa"},"/docs/systempcls/isdigit/":{"data":{"":"","arguments#Arguments":"alpha - The alpha var to check.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"isdigit() returns 1 if is composed of ONLY digits. If there are any characters other than 0-9, then isdigit() returns 0. If is NULL, then isdigit() will return 1 because there are no non-digit characters.","example#Example":"None","isdigit#isdigit()":"","purpose#Purpose":"isdigit() indicates if is all digits or not.","returns#Returns":"integer 0 - is not composed of ONLY digits.\n1 - is composed of ONLY digits.","see-also#See Also":"islower() isupper() toupper()","usage#Usage":"ret = isdigit(\u003cstr\u003e);","where-used#Where Used":"isdigit() can be called from anywhere."},"title":"isdigit"},"/docs/systempcls/islower/":{"data":{"":"","arguments#Arguments":"alpha - The alpha var to check.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"islower() returns 1 if is composed of ONLY lowercase letters. If there are any characters other than A-Z, then islower() returns 0. If is NULL, then islower() will return 1 because there are no non-lowercase letters.","example#Example":"None","islower#islower()":"","purpose#Purpose":"islower() indicates if is all lowercase letters or not.","returns#Returns":"integer 0 - is not composed of ONLY lowercase letters.\n1 - is composed of ONLY lowercase letters.","see-also#See Also":"isdigit() isupper() toupper()","usage#Usage":"ret = islower();","where-used#Where Used":"islower() can be called from anywhere."},"title":"islower"},"/docs/systempcls/isupper/":{"data":{"":"","arguments#Arguments":"alpha - The alpha var to check.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"isupper() returns 1 if is composed of ONLY uppercase letters. If there are any characters other than A-Z, then isupper() returns 0. If is NULL, then isupper() will return 1 because there are no non-uppercase letters.","example#Example":"None","isupper#isupper()":"","purpose#Purpose":"isupper() indicates if is all uppercase letters or not.","returns#Returns":"integer 0 - is not composed of ONLY uppercase letters.\n1 - is composed of ONLY uppercase letters.","see-also#See Also":"isdigit() islower() toupper()","usage#Usage":"ret = isupper();","where-used#Where Used":"isupper() can be called from anywhere."},"title":"isupper"},"/docs/systempcls/itoa/":{"data":{"":"","arguments#Arguments":"integer ival;","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"This PCL takes one integer argument and converts it to an alpha, returning the alpha.","example#Example":"push_prog(\"an.call.de.1\",itoa($row_ofst+1),\"0\");","itoa#itoa()":"","purpose#Purpose":"itoa() converts an integer field to an alpha field, and returns the alpha field.","returns#Returns":"- alpha representation of","see-also#See Also":"atodate() atoi() atof() ftoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","usage#Usage":"aval = itoa(ival);","where-used#Where Used":"itoa() can be called from anywhere."},"title":"itoa"},"/docs/systempcls/lsh/":{"data":{"":"","arguments#Arguments":"- The cmd to run, including all arguments. The arguments and the command name must be separated by spaces.\n- This is an optional argument that must be either: LSH_DEFAULT or any combination of the following flags:\nLSH_WAIT - Wait for the lsh process to terminate before continuing. LSH_NOWAIT - Do not wait for the lsh process to terminate before continuing. LSH_CONNECT - Specify this if the client program you are starting will be connecting to a new 4c server process on the 4c server machine. If security allows a user to connect using the ConnectedUser auth method, then the new client program will be able to connect without having to specify a user name or passwd. LSH_NOEXPAND - Specify this to prevent the client from expanding env vars embedded in . LSH_NOCONVERT - Don’t convert special characters before running command. This is important if it is necessary to leave embedded single quotes in the command. If not specified, LSH_DEFAULT is used. Currently LSH_DEFAULT is the same as LSH_NOWAIT.","bugs--features--comments#Bugs / Features / Comments":"Currently, there is no way to get the exit status of a command run on the client machine.","description#Description":"lsh() runs a local command on the client machine. If LSH_WAIT is specified as an option, then control will not return to the 4csrvr process until the local command finishes. Don’t use this option when calling a program that uses DDE. If you do, both w4ccl and the called program may hang. Otherwise, control returns immediately to the 4csrvr process.\nRequirements\nOnly clients at version 4.8.0 or higher will expand env vars embedded in .\nThe 4c server needs to be at version 4.8.0 or higher in order to use LSH_NOEXPAND.","example#Example":"None","lsh#lsh()":"","purpose#Purpose":"lsh() runs a command on the local client machine.","returns#Returns":"0 - Command Submitted to Client\n-1 - Error - Communication error with client.","see-also#See Also":"sys.cl_open() sh()","usage#Usage":"ret = lsh(\u003ccmd\u003e, [\u003coptions\u003e]);","where-used#Where Used":"lsh() can be called from anywhere."},"title":"lsh"},"/docs/systempcls/mathfunc/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"All of the above functions are implemented using calls to standard C library routines. 4C type floats are converted to C type double before calling the routine. C type results of double are converted back to 4C type floats. Because of this conversion, precision may be lost since the C type double is less precise than the 4C type of float.","example#Example":"result = pow(x,y); // returns x raised to the power of y. result = log(x); // returns the natural logarithm of x; result = log10(x); // returns the base 10 logarithm of x; result = exp(x); // returns the exponential function of x result = ldexp(x,y); // returns x * (2 raised to the y power) y is an integer result = sqrt(x); // returns the square root of x srand(x); // starts a new sequence of pseudo random numbers using x as seed x is a non negative integer n = rand(); // returns the next pseudo random integer n is a non negative integer \u003c= 32767 result = sin(x); // returns the sine of x result = sinh(x); // returns the hyperbolic sine of x result = cos(x); // returns the cosine of x result = cosh(x); // returns the hyperbolic cosine of x result = tan(x); // returns the tangent of x result = tanh(x); // returns the hyperbolic tangent of x result = atan(x); // returns the arc tangent of x result = atanh(x); // returns the inverse hyperbolic tangent of x result = acos(x); // returns the arc cosine of x result = asin(x); // returns the arc sine of x result = atan2(y,x); // returns the arc tangent of the two variables x and y. result = asinh(x); // returns the inverse hyperbolic sine of x result = acosh(x); // returns the inverse hyperbolic cosine of x","mathfunc#mathfunc()":"","purpose#Purpose":"mathfunc() Miscellaneous Math Functions","returns#Returns":"None","see-also#See Also":"pow() log() log10() exp() ldexp() sqrt() srand() rand() sin() sinh() cos() cosh() tan() tanh() atan() atanh() acos() asin() atan2() asinh() acosh()","usage#Usage":"None","where-used#Where Used":"Any of the above math functions can be called from anywhere in the application."},"title":"mathfunc"},"/docs/systempcls/max/":{"data":{"":"","arguments#Arguments":"float - - The numerics to compare and get the max of.","bugs--features--comments#Bugs / Features / Comments":"Prior to 4C Server version 4.4.7 max() is not reliable. Do not use max() unless your server is version 4.4.7 or higher.\nPrior to 4C Server version 4.4.7, max() only works with float args. You will get a compile error if you try to use it with other types of args.","description#Description":"max() returns the maximum float/integer of its arguments. max() can be used with integers, dates, times, and floats.\nArguments can be passed as integers/dates/times instead of floats because 4C will do the numeric conversions.\nThis type conversion works on returns also.","example#Example":"None","max#max()":"","purpose#Purpose":"max() returns the maximum float/integer of its arguments.","returns#Returns":"float - The maximum of all passed args.","see-also#See Also":"min() strmax() strmin()","usage#Usage":"maxval = max( [, […, []] …]);","where-used#Where Used":"max() can be called from anywhere."},"title":"max"},"/docs/systempcls/min/":{"data":{"":"","arguments#Arguments":"float - - The numerics to compare and get the min of.\nYou can pass integers instead of floats because 4C will do the numeric conversions.","bugs--features--comments#Bugs / Features / Comments":"Prior to 4C Server version 4.4.7 min() is not reliable. Do not use min() unless your server is version 4.4.7 or higher.\nPrior to 4C Server version 4.4.7, min() only works with float args. You will get a compile error if you try to use it with other types of args.","description#Description":"min() returns the minimum float/integer of its arguments. min() can be used with integers, dates, times, and floats.\nArguments can be passed as integers/dates/times instead of floats because 4C will do the numeric conversions.\nThis type conversion works on returns also.","example#Example":"None","min#min()":"","purpose#Purpose":"min() returns the minimum float/integer of its arguments.","returns#Returns":"float - The minimum of all passed args.\n4C returns a float, but you can assign this to an integer instead since 4C will convert it.","see-also#See Also":"max() strmax() strmin()","usage#Usage":"minval = min(\u003carg1\u003e [,\u003carg2\u003e [, ..., [\u003carg16\u003e]] ... ]);","where-used#Where Used":"min() can be called from anywhere."},"title":"min"},"/docs/systempcls/pclname/":{"data":{"":"","arguments#Arguments":"utf8 - A valid utf8 string utf8 - The starting item in a utf8array to store the utf8 characters into integer - The starting item in an integer array to store the codepoints into Both and are optional arguments but at least one of them must be specified.","bugs--features--comments#Bugs / Features / Comments":"Requirements: 4csrvr version 6.4.3 or later","description#Description":"sys.utf8_split() splits a UTF8 string into an array of UTF8 characters and/or an array of Unicode codepoints.","example#Example":"None","pclname#pclname()":"","purpose#Purpose":"None","returns#Returns":"integer - -1 on error, or the total number of items stored in either of the two arrays passed in.","see-also#See Also":"sys.cp_toutf8() sys.utf8_charat() sys.utf8_count() sys.utf8_fix() sys.utf8_join() sys.utf8_split() sys.utf8_tocp() sys.utf8_verify()","usage#Usage":"ret = sys.utf8_split(\u003cutf8str\u003e [, \u003cutf8array[idx]\u003e [, \u003ccparray[idx]\u003e]);","where-used#Where Used":"sys.utf8_split() can be called from anywhere."},"title":"pclname"},"/docs/systempcls/round/":{"data":{"":"","arguments#Arguments":"- The float that you want to round. This will be left unchanged.\n- The number of decimal places that you want to round to. If is less than 0, will be rounded to 0 decimal places.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"round() takes a float arg, and an integer arg, returning a rounded float. The original float is left unchanged.","example#Example":"printtot = round(amount, 2);","purpose#Purpose":"round() takes a float arg, and an integer arg, returning a rounded float. The original float is left unchanged.","returns#Returns":"round() returns rounded to in .\nThere are no error returns from round().","round#round()":"","see-also#See Also":"None","usage#Usage":"flret = round(,);","where-used#Where Used":"round() can be called from anywhere."},"title":"round"},"/docs/systempcls/sh/":{"data":{"":"","arguments#Arguments":"- The cmd to run, including all arguments. The arguments and the command name must be separated by spaces.\nThe argument is optional, and if not used, an interactive copy of the shell is started. This can be useful for a menu entry.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sh() starts a copy of the shell to run a command. If arguments are passed to sh(), they are assumed to make up a command. The shell will be started with the ‘-c’ option, passing all arguments to the shell to parse. If no arguments are passed to sh(), then an interactive copy of the shell is started. Which shell is used depends on the environment variable ‘SHELL’. If not set, then ‘/bin/sh’ is started. It is better to use sh() to run a command than sys.make_task() because you do not need to know the absolute path name of the command to run. The shell will use the ‘PATH’ environment variable.","example#Example":"cmd = \"xled sys.pcl_stmt \" + sys.ph_prname + ' ' + sys.ph_pclname; sh(cmd);","purpose#Purpose":"sh() starts a copy of the shell to run a command.","returns#Returns":"0 - 255 - The exit status of the shell.\n-1 - Error starting shell or shell terminated with a signal.","see-also#See Also":"lsh()","sh#sh()":"","usage#Usage":"ret = sh(); or\nret = sh();","where-used#Where Used":"sh() can be called from anywhere."},"title":"sh"},"/docs/systempcls/sleep/":{"data":{"":"","arguments#Arguments":"integer - The number of seconds to sleep for.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sleep() pauses for seconds.","example#Example":"sleep(3);","purpose#Purpose":"sleep() pauses for seconds.","returns#Returns":"sleep always returns 0.","see-also#See Also":"None","sleep#sleep()":"","usage#Usage":"sleep(\u003ccount\u003e);","where-used#Where Used":"sleep() can be called from anywhere."},"title":"sleep"},"/docs/systempcls/strlen/":{"data":{"":"","arguments#Arguments":"alpha - The field to get the length of.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"strlen() returns the length of an alpha field.","example#Example":"None","purpose#Purpose":"strlen() returns the length of an alpha variable.","returns#Returns":"integer len - the length of","see-also#See Also":"strmin() strmax()","strlen#strlen()":"","usage#Usage":"len = strlen();","where-used#Where Used":"strlen() can be called from anywhere."},"title":"strlen"},"/docs/systempcls/strmax/":{"data":{"":"","arguments#Arguments":"alpha - - The alphas to compare and get the max of.","bugs--features--comments#Bugs / Features / Comments":"Prior to 4C Server version 4.4.7 strmax() is not reliable. Do not use strmax() unless your server is version 4.4.7 or higher.","description#Description":"strmax() returns the maximum alpha of its arguments. The comparison is a standard lexical comparison.","example#Example":"None","purpose#Purpose":"strmax() returns the maximum alpha of its arguments.","returns#Returns":"alpha - The maximum of all passed args.","see-also#See Also":"max() min() strmin() strlen()","strmax#strmax()":"","usage#Usage":"maxval = strmax( [, […, []]]);","where-used#Where Used":"strmax() can be called from anywhere."},"title":"strmax"},"/docs/systempcls/strmin/":{"data":{"":"","arguments#Arguments":"alpha - - The alphas to compare and get the min of.","bugs--features--comments#Bugs / Features / Comments":"Prior to 4C Server version 4.4.7 strmin() is not reliable. Do not use strmin() unless your server is version 4.4.7 or higher.","description#Description":"strmin() returns the minimum alpha of its arguments. The comparison is a standard lexical comparison.","example#Example":"None","purpose#Purpose":"strmin() returns the minimum alpha of its arguments.","returns#Returns":"alpha - The minimum of all passed args.","see-also#See Also":"max() min() strmax() strlen()","strmin#strmin()":"","usage#Usage":"minval = strmin(\u003carg1\u003e [,\u003carg2\u003e [, ..., [\u003carg16\u003e]] ... ]);","where-used#Where Used":"strmin() can be called from anywhere."},"title":"strmin"},"/docs/systempcls/sys-abort_task/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"No Nested transactions.\nBeware of ENORMOUS log files.\n4C will eventually need to accommodate other file systems that allow transaction processing. A new more general call will probably replace sys.abort_task().","description#Description":"sys.abort_task() aborts a CISAM transaction. sys.abort_task() calls isrollback(). You should read and understand the isrollback() documentation in the CISAM manuals.","example#Example":"None","purpose#Purpose":"sys.abort_task() aborts a CISAM transaction.","returns#Returns":"ret\n0 - OK\n-1 - CISAM Not Available or CISAM ERROR\nFor CISAM errors, a message has been displayed including the CISAM errno.","see-also#See Also":"sys.open_log() sys.close_log() sys.start_task() sys.end_task()","sysabort_task#sys.abort_task()":"","usage#Usage":"ret = sys.abort_task();","where-used#Where Used":"sys.abort_task() can be called from anywhere as long as a CISAM task is in progress."},"title":"sys.abort_task"},"/docs/systempcls/sys-acc_mode/":{"data":{"":"","arguments#Arguments":"alpha - Optional asprog name of the program to find in. The default is the current program.\nasfile - The asfile name of the file to return the last access mode for.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.acc_mode() returns the mode that will be updated in if you were to call sys.upd_file() at the same pt in your program. Thus a sys.read_file() that returns an error for whatever reason will cause sys.acc_mode() to return ACC_NORMAL. A sys.read_file() for delete that is successful will cause sys.acc_mode() to return ACC_DELETE. Once sys.upd_file() is called sys.acc_mode() will return ACC_NORMAL. If your program does not call sys.upd_file(), but returns to a state prior to the state it was in when the last sys.read_file() was called sys.acc_mode() will also return ACC_NORMAL. This means that if you read a file on field 4 in modify mode, but you do not call sys.upd_file() and your program processes field 4 again, or some other previous state, fld 3, 2, 1 or SLOOP, then sys.acc_mode() will return ACC_NORMAL, not ACC_MODIFY.","example#Example":"None","purpose#Purpose":"sys.acc_mode() returns the the last access mode for a file.","returns#Returns":"integer accmode\nACC_ADD - The last access of was for add.\nACC_DELETE - The last access of was for delete.\nACC_MODIFY - The last access of was for modify.\nACC_NORMAL - has not been read for any update mode. accessed yet, or it has already been updated.","see-also#See Also":"sys.read_file() sys.upd_file()","sysacc_mode#sys.acc_mode()":"","usage#Usage":"accmode = sys.acc_mode([ , ] );","where-used#Where Used":"sys.acc_mode() can be called from anywhere."},"title":"sys.acc_mode"},"/docs/systempcls/sys-auth_userpwd/":{"data":{"":"","arguments#Arguments":"alpha alpha","bugs--features--comments#Bugs / Features / Comments":"When sys.auth_userpwd() fails, it is not possible to tell if the failure was due to expired passwd or invalid passwd.","description#Description":"sys.auth_userpwd() can be used to authenticate a username/password on the 4c server host. sys.auth_userpwd() sends a message to the 4csrvrd daemon program which uses the underlying OS security system to do the authentication. It is more secure to use sys.auth_userpwd() to verify a user’s credentials than to use your own password mechanism. Another advantage of using sys.auth_userpwd() over maintaining your own passwd file is that there is no need to try to keep multiple passwords for the same user name in sync. sys.auth_userpwd() can be used with any username known to the OS. It is not necessary to use the currently authenticated user, though that is the more common case. sys.auth_userpwd() does not change the credentials of the current 4csrvr process in any way.","example#Example":"See the lockscreen.s and getpwd.1 program in the demo application for an example.","purpose#Purpose":"sys.auth_userpwd() uses the OS to authenticate a username/password on the server.","returns#Returns":"0 - User authenticated OK. -1 - User authentication failed.","see-also#See Also":"Sys PCLs List","sysauth_userpwd#sys.auth_userpwd()":"","usage#Usage":"ret = sys.auth_userpwd(\u003cusername\u003e,\u003cpasswd\u003e);","where-used#Where Used":"sys.auth_userpwd() can be called from anywhere. Most common uses of sys.auth_userpwd() include unlocking the workstation and allowing access to privileged application programs."},"title":"sys.auth_userpwd"},"/docs/systempcls/sys-begin/":{"data":{"":"","arguments#Arguments":"alpha - A program specific name for the transaction. This same name must be used when committing or rolling back the transaction.\ninteger - Can be either T_DEFAULT or a combination of any of the following.\nT_AUTOCOMMIT T_4CCOMMIT T_APPCOMMIT T_RCDLOCKS T_NORCDLOCKS T_READUNCOMMITTED T_READCOMMITTED T_REPEATABLEREAD T_SERIALIZABLE T_FREEONCOMMIT T_NOFREEONCOMMIT","bugs--features--comments#Bugs / Features / Comments":"See the discussion in External Database Files for more details on 4C transactions. New flags will soon be available to specify whether 4C locking should be used in the transaction and at what isolation level the transaction will execute.","description#Description":"sys.begin() starts a 4C transaction. You can nest transactions if you like. For each transaction started, you should call either sys.commit() or sys.rollback(). If you neglect to commit a transaction that you started with sys.begin(), 4C will eventually commit the transaction if the program exits with a 0 exit code, or 4C will rollback the transaction if the program exits with a negative exit code. The transaction will also be rolled back if 4C reaches a state earlier in the program than when the transaction was started. This is possible if the EFldPCL of an input field starts a transaction and the user cancels before the application calls sys.commit(). The T_AUTOCOMMIT, T_APPCOMMIT, and T_4CCOMMIT flags are used to override the default commit type of the transaction. The T_READUNCOMMITTED, T_READCOMMITTED, T_REPEATABLEREAD, and T_SERIALIZABLE flags are used to override the default isolation level of the transaction. The T_RCDLOCKS and T_NORCDLOCKS are used to override the default way 4C will lock records in the transaction. T_RCDLOCKS means that 4C will obtain an update lock when a record is read in an update mode. T_NORCDLOCKS means that 4C will acquire a share lock only. When the file is updated, the share lock will be upgraded to an update lock.","example#Example":"Here is some 4C code that demonstrates using a transaction while updating 2 files.\nsys.begin(\"T1\",T_APPCOMMIT); dtf_key1 = 'AAA' dtf_key2 = '዁' if (sys.read_file(dt_file,F_MODIFY|F_NOMSG|F_WAIT) \u003c 0) { sys.message(SM_ERROR,\"Read Failed, Rolling Back Transaction\"); sys.rollback(\"T1\"); return; } cm_code = 'KJE001' if (sys.read_file(cust_mstr,F_MODIFY|F_NOMSG|F_WAIT) \u003c 0) { sys.message(SM_ERROR,\"Read Failed, Rolling Back Transaction\"); sys.rollback(\"T1\"); return; } cm_callcount += 1; if (sys.upd_file(cust_mstr,F_DEFAULT|F_NOMSG) \u003c 0) { sys.message(SM_ERROR,\"Update Failed, Rolling Back Transaction\"); sys.rollback(\"T1\"); return; } dtf_float1 += 1.1; dtf_int1 += 1; if (sys.upd_file(dt_file,F_DEFAULT|F_NOMSG) \u003c 0) { sys.message(SM_ERROR,\"Update Failed, Rolling Back Transaction\"); sys.rollback(\"T1\"); return; } if (sys.commit(\"T1\") \u003c 0) { if (sys.errno == ABORT_ERR) sys.message(SM_ERROR,\"Transaction Aborted\"); }","purpose#Purpose":"sys.begin() starts a new transaction.","returns#Returns":"0 - Transaction started\n-1 - Some Error - Check sys.errno for ABORT_ERR.","see-also#See Also":"sys.commit() sys.rollback() External Database Files","sysbegin#sys.begin()":"","usage#Usage":"ret = sys.begin(,);","where-used#Where Used":"sys.begin() can be called from anywhere. However, be aware that only the 4C program that called sys.begin() can call sys.commit() or sys.rollback() for the same transaction. When possible you should try to use sys.begin() within the same PCL that will be calling sys.commit() or sys.rollback()."},"title":"sys.begin"},"/docs/systempcls/sys-browse_file/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to browse.\ninteger - The CDEFINE of the field to browse by. This field MUST be part of a key, primary or secondary.","bugs--features--comments#Bugs / Features / Comments":"Cancelling out of browse does not restore fields to their original values.\nNo secondary files can be read.\nThere should be a more automatic way of enabling browsing.","description#Description":"When called, sys.browse_file() initiates sequential reading of the specified file at the rcd closest to the current value of the key being used. The user interacts with sys.browse_file() by pressing the or keys to browse next or previous rcd, or by pressing the key to accept current selection.\nAll keyfields that come before the field specified by will be left unchanged. The keyfields beginning with may be changed by sys.browse_file(), as well as any other fields that are not part of the key being used to read the file.","example#Example":"In the system development program, browsing on the sys.pr_name field is enabled by defining a PCL for and for . The PCL defined is:\nsys.browse_file(sys.program,S_PRNAME);","purpose#Purpose":"sys.browse_file() allows you to browse through rcds sequentially.","returns#Returns":"None","see-also#See Also":"sys.pr_name()","sysbrowse_file#sys.browse_file()":"","usage#Usage":"sys.browse_file(\u003casfile\u003e, \u003cfldcdef\u003e);","where-used#Where Used":"sys.browse_file() is normally called from the or PCL for an input display field."},"title":"sys.browse_file"},"/docs/systempcls/sys-build_file/":{"data":{"":"","arguments#Arguments":"alpha - The name of the file to build. This is the name of the file defined in the data dictionary and has nothing to do with any asfiles defined for any program.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.build_file() compiles the named file. Any errors during compilation cause an appropriate message to be displayed, and for sys.build_file() to return -1.\n4C does not compile files in the sense that machine code is generated. 4C reads the data dictionary spec files and converts them into easy to interpret tables and stores the result in the XLSEQFILE. It does the same with programs. The terms build and compile will be used to both mean read the 4C specs and write the XLSEQFILE tables.","example#Example":"The sys.fh.maint program uses the key to compile a file. The PCL associated with this key is:\nsys.build_file(sys.fh_fname);","purpose#Purpose":"sys.build_file() compiles a files.","returns#Returns":"integer 0 - OK\n-1 - Error - Probably no such file or compile error, a message has been displayed.","see-also#See Also":"sys.build_prog() sys.reset_prog()","sysbuild_file#sys.build_file()":"","usage#Usage":"ret = sys.build_file();","where-used#Where Used":"sys.build_file() can be called from anywhere. It most likely will be called from system development programs, and not from other application programs."},"title":"sys.build_file"},"/docs/systempcls/sys-build_prlist/":{"data":{"":"","arguments#Arguments":"file - the asfile name of a file using the sys.t_prlist definition.","bugs--features--comments#Bugs / Features / Comments":"Since this is meant for internal use, the file definition may change when needed.","description#Description":"sys.build_prlist() builds a list of ALL currently running programs into a file using the sys.t_prlist file definition. This file can then be read to see which programs are running for the current user.","example#Example":"The following example is from the 4C debugger program sys.dbg.trace. It is in the init PCL.\nsys.create_tfile(sys.t_prlist); sys.build_prlist(sys.t_prlist);","purpose#Purpose":"INTERNAL USE ONLY","returns#Returns":"0 - OK file built\n-1 - The asfile passed was not sys.t_prlist","see-also#See Also":"sys.build_stlist()","sysbuild_prlist#sys.build_prlist()":"","usage#Usage":"sys.build_prlist(\u003ct_prlist\u003e);","where-used#Where Used":"sys.build_prlist() can be called from anywhere. It is meant to be USED INTERNALLY ONLY and currently is used by the 4C debugger programs."},"title":"sys.build_prlist"},"/docs/systempcls/sys-build_prog/":{"data":{"":"","arguments#Arguments":"alpha - The name of the program to build.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.build_prog() compiles the named program. Any errors during compilation cause an appropriate message to be displayed, and for sys.build_prog() to return -1.\n4C does not compile programs in the sense that machine code is generated. 4C reads the spec files and converts them into easy to interpret tables and stores the result in the XLSEQFILE. It does the same with files. The terms build and compile will be used to both mean read the 4C specs and write the XLSEQFILE tables.","example#Example":"The system development programs use the key to compile a program. the statement executed when you press from one of the development programs is:\nsys.build_prog(sys.pr_name);","purpose#Purpose":"sys.build_prog() compiles a program.","returns#Returns":"integer 0 - OK\n-1 - Error - Probably no such program or compile error, a message has been displayed.","see-also#See Also":"sys.reset_prog() sys.build_file()","sysbuild_prog#sys.build_prog()":"","usage#Usage":"ret = sys.build_prog();","where-used#Where Used":"sys.build_prog() can be called from anywhere. It most likely will be called from system development programs, and not from other application programs."},"title":"sys.build_prog"},"/docs/systempcls/sys-build_stlist/":{"data":{"":"","arguments#Arguments":"file - the asfile name of a file using the sys.t_stlist definition.\nasprog - The name the program was called by when it was started.","bugs--features--comments#Bugs / Features / Comments":"If more than one program is active with the same asprog name, only the most recently active one is used by sys.build_stlist().\nSince this is meant for internal use, the file definition may change when needed.","description#Description":"sys.build_stlist() builds a list of the internal 4C state stack for ONE program into a file using the sys.t_stlist file definition. This file can then be read to display the state stack.","example#Example":"The following example is from the 4C debugger program sys.dbg.trace.st. It is in the init PCL.\nsys.create_tfile(sys.t_stlist); sys.build_stlist(sys.t_stlist, sys.tp_asprog);","purpose#Purpose":"INTERNAL USE ONLY","returns#Returns":"0 - OK file built\n-1 - The asfile passed was not sys.t_stlist or is not currently active.","see-also#See Also":"sys.build_prlist()","sysbuild_stlist#sys.build_stlist()":"","usage#Usage":"sys.build_stlist(\u003ct_stlist\u003e, \u003casprog\u003e);","where-used#Where Used":"sys.build_stlist() can be called from anywhere. It is meant to be USED INTERNALLY ONLY and currently is used by the 4C debugger programs."},"title":"sys.build_stlist"},"/docs/systempcls/sys-calc/":{"data":{"":"","arguments#Arguments":"- A string constructed of numeric variables, spaces, operators, parenthesis, and enclosed in curly braces.","bugs--features--comments#Bugs / Features / Comments":"No syntax errors can be caught at runtime.","description#Description":"sys.calc() parses a formula at runtime and sets a result into sys.calc_result. If the string cannot be parsed correctly, sys.calc() returns -1. The value in sys.calc_result is undefined in this case. The formula is a single alpha variable. It can be constructed using the functions max() and min(), arithmetic operators, and parenthesis. The formula must be enclosed in curly braces. Any numeric variables that are part of the formula must be converted to alpha and concatenated in the right order.","example#Example":"formula = \"{\" + sys.fmt_float(fl1,\"99.99-\") + \"/\" + sys.fmt_float(fl2,\"99.99-\") + \"}\"; sys.calc(formula); sys.err_msg(\"Result: \" + sys.fmt_float(sys.calc_result,\"9999.9999-\"));","purpose#Purpose":"sys.calc() parses a formula at runtime.","returns#Returns":"0 - Formula parsed correctly and result stored in the system variable sys.calc_result.\n-1 - Error in parsing - and a message is displayed.","see-also#See Also":"sys.fmt_float()","syscalc#sys.calc()":"","usage#Usage":"ret = sys.calc();","where-used#Where Used":"sys.calc() can be called from anywhere."},"title":"sys.calc"},"/docs/systempcls/sys-cb_select/":{"data":{"":"","arguments#Arguments":"NONE","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"The sys.cb_select() PCL explicitly cb selects a rcd ONLY for the current CB. The only place that this PCL can be called is from the CBSELECT PCL of any ACTIVE CB. If an active CB does not have a CBSELECT PCL, then ALL rcds are cb selected for that CB. If an active PCL has a CBSELECT PCL, then in order to cb select a rcd, the CBSELECT PCL must call sys.cb_select().\nFor a rcd to be cb selected means that its values will be included in any CB Tot Vars and it can trigger the CBSGROUP processing. It does not affect the driver processing in any other way. When more than one CB is active, each CB can cb select different rcds.","example#Example":"if (sys.pr_catg == \"system\") sys.cb_select();","purpose#Purpose":"None","returns#Returns":"0 - Normal\n-1 - No current CB or CBSTATE not CBSELECT","see-also#See Also":"sys.dr_setcb()","syscb_select#sys.cb_select()":"","usage#Usage":"sys.cb_select();","where-used#Where Used":"sys.cb_select() can only be called from the CBSELECT state of control break processing."},"title":"sys.cb_select"},"/docs/systempcls/sys-cbc_close/":{"data":{"":"","arguments#Arguments":"asfile - - Should be the same asfile used in the sys.cbc_open() call.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbc_close() ends the clipboard copy operation for the current type and sends the data to the client. Even though the client has the data it will not be available for pasting by the 4C Client or by any other client application until the 4csrvr application has called sys.cbc_end().","example#Example":"None","purpose#Purpose":"sys.cbc_close() ends the clipboard copy operation for the current type.","returns#Returns":"integer - -1 - Error - illegal or does not match the asfile used in the sys.cbc_open() call.\n0 - OK","see-also#See Also":"Cut/Copy/Paste Overview sys.cbc_open() sys.cbc_end() sys.cbc_senddata() sys.cbc_sendtext()","syscbc_close#sys.cbc_close()":"","usage#Usage":"\u003cret\u003e = sys.cbc_close(\u003casfile\u003e);","where-used#Where Used":"sys.cbc_close() can be called anytime while a clipboard copy operation is open."},"title":"sys.cbc_close"},"/docs/systempcls/sys-cbc_end/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbc_end() finalizes the clipboard copy and makes the data available for pasting by the 4C Client and by other client applications.","example#Example":"None","purpose#Purpose":"sys.cbc_end() finalizes the clipboard copy.","returns#Returns":"None","see-also#See Also":"Cut/Copy/Paste Overview sys.cbc_init()","syscbc_end#sys.cbc_end()":"","usage#Usage":"sys.cbc_end();","where-used#Where Used":"sys.cbc_end() can only be called if a clipboard copy operation has been started by the 4csrvr application calling sys.cbc_init(). The sys.cbc_init() and sys.cbc_end() calls will normally nest a series of sys.cbc_open(), sys.cbc_senddata(), and sys.cbc_close() calls."},"title":"sys.cbc_end"},"/docs/systempcls/sys-cbc_init/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbc_init() clears the 4C clipboard.","example#Example":"None","purpose#Purpose":"None","returns#Returns":"None","see-also#See Also":"sys.abort_task() sys.acc_mode() atodate() atof() atoi() atotime() sys.auth_userpwd() beep() sys.begin() sys.browse_file() sys.build_file() sys.build_prlist() sys.build_prog() sys.build_stlist() sys.calc() sys.cbc_close() sys.cbc_end() sys.cbc_open() sys.cbc_senddata() sys.cbc_sendtext() sys.cbp_exit() sys.cbp_getappname() sys.cbp_getcount() sys.cbp_getdata() sys.cbp_getipaddr() sys.cbp_getnflds() sys.cbp_getport() sys.cbp_gettext() sys.cbp_gettype() sys.cb_select() sys.char_val() sys.choose_color() sys.cl_browse() sys.cl_open() sys.close_file() sys.close_ldata() sys.close_log() sys.clr_break() sys.cl_restart() sys.cmp_data() sys.cmp_file() sys.commit() sys.conn_close() sys.conv_file() sys.copy_array() sys.copy_data() sys.copy_fields() sys.copy_file() sys.copy_pkey() sys.cp_toutf8() sys.create_file() sys.create_tfile() sys.decode_file() sys.decode_text() sys.del_range() sys.dev_nlines() sys.dflist_add() sys.dflist_clear() sys.dr_delete() sys.dr_epselect1() sys.dr_epskip() sys.dr_include() sys.dr_init() sys.dr_isbof() sys.dr_iseof() sys.dr_position() sys.dr_range() sys.dr_readsel() sys.dr_renumber() sys.dr_restart() sys.dr_selcount() sys.dr_setcb() sys.dr_setsel() sys.dr_state() sys.dr_update() sys.encode_file() sys.encode_text() sys.end_cb() sys.end_field() sys.end_fldloop() sys.end_page() sys.end_prog() sys.end_task() sys.err_msg() sys.exec_prog() sys.exit_4c() sys.exit_cb() sys.exit_client() sys.exit_field() sys.exit_fldloop() sys.exit_layout() sys.exit_page() sys.exit_prog() sys.expand() sys.ext_filename() sys.field_wasinp() sys.file_op() sys.flash_window() sys.fl_getoption() sys.fl_getval() sys.fl_restore() sys.fl_save() sys.fl_setoption() sys.fl_setval() sys.flush() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_field() sys.fmt_float() sys.fmt_integer() sys.fmt_time() ftoa() sys.get_adfval() sys.get_afield() sys.get_answer() sys.get_asfile() sys.get_category() sys.get_cbvar() sys.get_cdef() sys.get_clenv() sys.get_clinfo() sys.get_clpref() sys.get_clrect() sys.get_count() sys.get_currentts() sys.get_datetype() sys.get_debug() sys.get_dfcol() sys.get_dffileno() sys.get_dfile() sys.get_dfrow() sys.get_dotaddr() sys.get_dtinfo() sys.get_env() sys.get_extfnopt() sys.get_exttype() sys.get_fdfval() sys.get_ffield() sys.get_field() sys.get_filename() sys.get_filenum() sys.get_fkhelp() sys.get_fklabel() sys.get_fltype() sys.get_fmtfield() sys.get_gcount() sys.get_gmax() sys.get_gmin() sys.get_grpname() sys.get_gtot() sys.get_help() sys.get_idfval() sys.get_idx() sys.get_ifield() sys.get_keyno() sys.get_keystate() sys.get_ldata() sys.get_linediff() sys.get_linenum() sys.get_max() sys.get_maxusers() sys.get_min() sys.get_msgline1() sys.get_msgline2() sys.get_nusers() sys.get_pagediff() sys.get_pagenum() sys.get_parent() sys.get_pid() sys.get_progname() sys.get_program() sys.get_return() pclname() sys.get_saveval() sys.get_sflmfmax() sys.get_sflsfmax() sys.get_spcalt() sys.get_spclabel() sys.get_spcstr() sys.get_spmfmax() sys.get_spsfmax() sys.get_svinfo() sys.get_timeoutp() sys.get_timeoutv() sys.get_tot() sys.get_tsinfo() sys.get_ttyname() sys.get_tty() sys.get_username() sys.hide_panel() index() sys.init_rusage() sys.input_ok() sys.int_val() sys.is_clsrvr() isdigit() islower() sys.is_prog() sys.is_tof() isupper() itoa() sys.kill_prog() sys.l_fill() sys.link_group() sys.link_prog() sys.lock_clientws() sys.log_close() sys.log_copyflds() sys.log_error() sys.log_getattr() sys.log_getname() sys.log_getval() sys.log_open() sys.log_read() sys.log_seek() lsh() sys.l_strip() mathfunc() max() sys.md_calc() sys.message() min() sys.mk_temp() sys.err_msg() sys.null_data() sys.null_field() sys.null_file() sys.open_file() sys.open_ldata() sys.open_log() sys.page_isfull() sys.page() sys.pkey_close() sys.pkey_decrypt() sys.pkey_encrypt() sys.pkey_open() sys.pkey_sign() sys.pkey_verify() sys.prog_isopen() sys.pr_restart() sys.push_kprog() sys.push_prog() sys.put_afield() sys.put_env() sys.put_ffield() sys.put_fmtfield() sys.put_ifield() sys.rand_integer() sys.rand_string() sys.rcd_changed() sys.read_file() sys.rel_dfile() sys.rep_string() sys.reset_prog() sys.restore_share() sys.rexp_match() sys.r_fill() sys.rollback() round() sys.rset_dfield() sys.r_strip() sys.run_fldloop() sys.seek_key() sys.send_msg() sys.send_result() sys.set_add() sys.set_alarm() sys.set_break() sys.set_busy() sys.set_clenv() sys.set_clpref() sys.set_cmenu() sys.set_cmitem() sys.set_datetype() sys.set_debug() sys.set_del() sys.set_dfattr() sys.set_dfcolor() sys.set_dfformat() sys.set_dfield() sys.set_dfimage() sys.set_dflabel() sys.set_dfoption() sys.set_dricolor() sys.set_droption() sys.set_ekey() sys.set_env() sys.set_eod() sys.set_extfname() sys.set_extfnopt() sys.set_exttype() sys.set_fkhelp() sys.set_help() sys.set_ldata() sys.set_mod() sys.set_msgline1() sys.set_msgline2() sys.set_pagenum() sys.set_pnlcolor() sys.set_pnlimage() sys.set_pnltitle() sys.set_prcolor() sys.set_return() sys.set_skey() sys.set_sortdf() sys.set_spcalt() sys.set_spclabel() sys.set_spcstr() sys.set_timeout() sys.set_winlabel() sys.share_field() sys.show_dfield() sys.show_fkey() sys.show_panel() sh() sys.skip() sleep() sys.sl_settab() sys.sort_by() sys.spc_code() sys.split_string() sys.stack_fkey() sys.stack_input() sys.start_busy() sys.start_task() sys.stop_busy() sys.stop_tab() strlen() strmax() strmin() tolower() toupper() sys.tv_add() sys.tv_getsel() sys.unshare_field() sys.upd_file() sys.utf8_charat() sys.utf8_count() pclname() pclname() pclname() sys.utf8_tocp() sys.utf8_verify()","syscbc_init#sys.cbc_init()":"","usage#Usage":"sys.cbc_init();","where-used#Where Used":"None"},"title":"sys.cbc_init"},"/docs/systempcls/sys-cbc_open/":{"data":{"":"","arguments#Arguments":"integer - - Must be one of:\nCBC_4CTYPE CBC_TEXTTYPE CBC_DIFTYPE integer - - Currently are used only when is CBC_TEXT. You can specify combinations of the following for CBC_FIXED - Sends text in FixSeq len format CBC_VAR - Sends text in VarSeq format. CBC_CSV - Comma separate fields CBC_TSV - Tab separate fields CBC_SQUOTE - Quote alpha literals with single quotes CBC_DQUOTE - Quote alpha literals with double quotes CBC_QUOTE - Same as CBC_DQUOTE asfile - - The 4C asfile that is used as a template for formatting data.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbc_open() begins a specific type of clipboard copy operation. All sys.cbc_open() calls need to have a corresponding sys.cbc_close() call. Only one clipboard format can be open for copying at any one time.","example#Example":"None","purpose#Purpose":"sys.cbc_open() begins a specific type of clipboard copy operation.","returns#Returns":"integer - -1 - Error - illegal or illegal 0 - OK","see-also#See Also":"Cut/Copy/Paste Overview sys.cbc_close() sys.cbc_init() sys.cbc_senddata() sys.cbc_sendtext()","syscbc_open#sys.cbc_open()":"","usage#Usage":"\u003cret\u003e = sys.cbc_open(\u003ctype\u003e,\u003cflags\u003e,\u003casfile\u003e);","where-used#Where Used":"sys.cbc_open() can be called anytime after sys.cbc_init() has been called to begin the copy for the specified type."},"title":"sys.cbc_open"},"/docs/systempcls/sys-cbc_senddata/":{"data":{"":"","arguments#Arguments":"asfile - The 4C asfile that holds the data to be copied.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbc_senddata() adds 1 data item to the 4C clipboard.","example#Example":"None","purpose#Purpose":"sys.cbc_senddata() adds 1 data item to the 4C clipboard.","returns#Returns":"integer -1 - Error - Either sys.cbc_open() has not been called, illegal asfile, or, in the case of CBC_4CTYPE copy, the filename of does not match the filename of the used in the sys.cbc_open() call.\n0 - OK","see-also#See Also":"Cut/Copy/Paste Overview sys.cbc_sendtext()","syscbc_senddata#sys.cbc_senddata()":"","usage#Usage":"\u003cret\u003e = sys.cbc_senddata(\u003casfile\u003e);","where-used#Where Used":"sys.cbc_senddata() can be called only between the corresponding sys.cbc_open() and sys.cbc_close() calls."},"title":"sys.cbc_senddata"},"/docs/systempcls/sys-cbc_sendtext/":{"data":{"":"","arguments#Arguments":"alpha - The text to copy.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbc_sendtext() adds 1 text item to the 4C clipboard.","example#Example":"None","purpose#Purpose":"sys.cbc_sendtext() adds 1 text item to the 4C clipboard.","returns#Returns":"integer -1 - Error - Either sys.cbc_open() has not been called, or the current type is not CBC_TEXT.\n0 - OK","see-also#See Also":"Cut/Copy/Paste Overview sys.cbc_senddata()","syscbc_sendtext#sys.cbc_sendtext()":"","usage#Usage":"\u003cret\u003e = sys.cbc_sendtext(\u003ctext\u003e);","where-used#Where Used":"sys.cbc_sendtext() can be called only between the corresponding sys.cbc_open() and sys.cbc_close() calls and only if the specified in the sys.cbc_open() call is CBC_TEXT."},"title":"sys.cbc_sendtext"},"/docs/systempcls/sys-cbp_exit/":{"data":{"":"","arguments#Arguments":"integer - Optional code. Currently unused.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbp_exit() exits the paste loop. The most likely reason to call sys.cbp_exit() is that the user has tried to paste an incompatible type of data to the 4C application. After calling sys.cbp_exit(), 4C will next process the PasteEnd state.","example#Example":"None","purpose#Purpose":"sys.cbp_exit() exits the paste loop.","returns#Returns":"None","see-also#See Also":"Cut/Copy/Paste Overview","syscbp_exit#sys.cbp_exit()":"","usage#Usage":"sys.cbp_exit([\u003ccode\u003e]);","where-used#Where Used":"sys.cbp_exit() can be called anytime during the paste loop but when used is usually called during PasteInit."},"title":"sys.cbp_exit"},"/docs/systempcls/sys-cbp_getappname/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbp_getappname() returns the 4C application name where 4C data was copied from. If the paste did not originate from a 4C application, then the application name will not be known and an empty string will be returned.","example#Example":"None","purpose#Purpose":"sys.cbp_getappname() returns the 4C application name where 4C data was copied from.","returns#Returns":"alpha \"\" - No 4C Format Paste Available.\nalpha - The application name originating the copy.","see-also#See Also":"Cut/Copy/Paste Overview sys.cbp_getipaddr() sys.cbp_getport()","syscbp_getappname#sys.cbp_getappname()":"","usage#Usage":"\u003cappname\u003e = sys.cbp_getappname();","where-used#Where Used":"sys.cbp_getappname() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_getappname"},"/docs/systempcls/sys-cbp_getcount/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbp_getcount() returns the number of clipboard paste items available.","example#Example":"None","purpose#Purpose":"sys.cbp_getcount() returns the number of clipboard paste items available.","returns#Returns":"-1 - No Paste Available. = 0 - count of items available.","see-also#See Also":"Cut/Copy/Paste Overview","syscbp_getcount#sys.cbp_getcount()":"","usage#Usage":"count = sys.cbp_getcount();","where-used#Where Used":"sys.cbp_getcount() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_getcount"},"/docs/systempcls/sys-cbp_getdata/":{"data":{"":"","arguments#Arguments":"integer - The index of the paste item.\nasfile - The 4C asfile to copy the individual fields of the paste item into.","bugs--features--comments#Bugs / Features / Comments":"Indexes and field numbers start at 0.","description#Description":"sys.cbp_getdata() returns the data of a single clipboard paste item. Use sys.cbp_getdata() to get a 4C type paste item into individual fields of . The names of fields in need to match the names of fields saved in the clipboard during the copy operation. You can only use sys.cbp_getdata() if the paste is a 4C format paste. If it is a Text format paste, then you must use sys.cbp_gettext().","example#Example":"None","purpose#Purpose":"sys.cbp_getdata() returns the data of a single clipboard paste item.","returns#Returns":"integer - -1 - Error, either no paste available, idx out of range, or is invalid.\n0 - OK","see-also#See Also":"Cut/Copy/Paste Overview sys.cbp_gettext()","syscbp_getdata#sys.cbp_getdata()":"","usage#Usage":"= sys.cbp_getdata(,);","where-used#Where Used":"sys.cbp_getdata() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_getdata"},"/docs/systempcls/sys-cbp_getipaddr/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbp_getipaddr() returns the ipaddr of the 4csrvr where 4C data was copied from. If the paste did not originate from a 4C application, then the ip address will not be known and an empty string will be returned.","example#Example":"None","purpose#Purpose":"sys.cbp_getipaddr() returns the ipaddr of the 4csrvr where 4C data was copied from.","returns#Returns":"alpha \"\" - No 4C Format Paste Available.\nipaddr - The ipaddr of 4csrvr originating the copy.","see-also#See Also":"Cut/Copy/Paste Overview sys.cbp_getappname() sys.cbp_getport()","syscbp_getipaddr#sys.cbp_getipaddr()":"","usage#Usage":"ipaddr = sys.cbp_getipaddr();","where-used#Where Used":"sys.cbp_getipaddr() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_getipaddr"},"/docs/systempcls/sys-cbp_getnflds/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbp_getnflds() returns the number of flds in the current clipboard paste operation. If the format is a 4C clipboard format, then the number of fields will is the number of fields defined in the 4c file definition used as the template. If the format is a text format paste, then the number of fields will be one.","example#Example":"None","purpose#Purpose":"sys.cbp_getnflds() returns the number of flds in the current clipboard paste operation.","returns#Returns":"-1 - No Paste Available. = 0 - Number of flds in each clipboard paste item.","see-also#See Also":"Cut/Copy/Paste Overview","syscbp_getnflds#sys.cbp_getnflds()":"","usage#Usage":"nflds = sys.cbp_getnflds();","where-used#Where Used":"sys.cbp_getnflds() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_getnflds"},"/docs/systempcls/sys-cbp_getport/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbp_getport() returns the port number of the 4csrvr where 4C data was copied from. If the paste did not originate from a 4C application, then the port num will not be known and -1 will be returned.","example#Example":"None","purpose#Purpose":"sys.cbp_getport() returns the port number of the 4csrvr where 4C data was copied from.","returns#Returns":"integer - -1 - No 4C Format Paste Available.\n0 - The port number of 4csrvr originating the copy.","see-also#See Also":"Cut/Copy/Paste Overview sys.cbp_getappname() sys.cbp_getipaddr()","syscbp_getport#sys.cbp_getport()":"","usage#Usage":"= sys.cbp_getport();","where-used#Where Used":"sys.cbp_getport() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_getport"},"/docs/systempcls/sys-cbp_gettext/":{"data":{"":"","arguments#Arguments":"integer - - The index of the paste item.\ninteger - - Optional fldno.","bugs--features--comments#Bugs / Features / Comments":"Indexes and field numbers start at 0.","description#Description":"sys.cbp_gettext() returns the text of a single clipboard paste item field. Use sys.cbp_gettext() when you want to retrieve fields individually rather than all at once. If you want to retrieve the entire paste item at once into 4C file vars, use sys.cbp_getdata(). If field number is not specified, then the text of the first fld is returned. Field numbers specified for sys.cbp_gettext() correspond to the field numbers in the 4C file used as a template in the original copy to the clipboard.","example#Example":"None","purpose#Purpose":"sys.cbp_gettext() returns the text of a single clipboard paste item field.","returns#Returns":"alpha This will be an empty string or the text of the specified fld.","see-also#See Also":"Cut/Copy/Paste Overview sys.cbp_getdata()","syscbp_gettext#sys.cbp_gettext()":"","usage#Usage":"= sys.cbp_gettext([,]);","where-used#Where Used":"sys.cbp_gettext() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_gettext"},"/docs/systempcls/sys-cbp_gettype/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cbp_gettype() returns the type of clipboard paste available. The type of a paste is either “Text” or a 4C filename. The type returned when the data in the clipboard is not from a 4C application will always be “Text”.","example#Example":"None","purpose#Purpose":"sys.cbp_gettype() returns the type of clipboard paste available.","returns#Returns":"\"\" - No Paste Available.\n“Text” - Text paste available\nfilename - 4C format paste is available using format of filename.","see-also#See Also":"Cut/Copy/Paste Overview","syscbp_gettype#sys.cbp_gettype()":"","usage#Usage":"type = sys.cbp_gettype();","where-used#Where Used":"sys.cbp_gettype() can be called from anywhere as long as at least one paste operation has been done by the user."},"title":"sys.cbp_gettype"},"/docs/systempcls/sys-char_val/":{"data":{"":"","arguments#Arguments":"- The integer to convert to ascii.","bugs--features--comments#Bugs / Features / Comments":"will always be converted, even if it is a non-printing character.","description#Description":"sys.char_val() converts an integer to an ascii character. The return value is always length 1.","example#Example":"/* Convert 1 char to lower case */ if ((avar(i,i) \u003e= 'A') \u0026\u0026 (avar(i,i) \u003c= 'Z')) avar(i,i) = sys.char_val(sys.int_val(avar(i,i))+32);","purpose#Purpose":"sys.char_val() converts an integer to an ascii character.","returns#Returns":"- A one character string.","see-also#See Also":"sys.int_val()","syschar_val#sys.char_val()":"","usage#Usage":"avar = sys.char_val();","where-used#Where Used":"sys.char_val() can be called from anywhere."},"title":"sys.char_val"},"/docs/systempcls/sys-choose_color/":{"data":{"":"","arguments#Arguments":"- an alpha of the form rrr:ggg:bbb that is the default color.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.choose_color() allows the user to select a color. You may store this color and use it in subsequent calls to sys.set_prcolor(), sys.set_dfcolor(), and sys.set_dricolor().","example#Example":"None","purpose#Purpose":"sys.choose_color() selects a color using the clients color dialog.","returns#Returns":"- An alpha of the form rrr:ggg:bbb. If the user cancels, then \"\" is returned.","see-also#See Also":"sys.set_prcolor() sys.set_dfcolor() sys.set_dricolor()","syschoose_color#sys.choose_color()":"","usage#Usage":"rgbval = sys.choose_color(\u003cinitrgb\u003e);","where-used#Where Used":"sys.choose_color() can be called from anywhere."},"title":"sys.choose_color"},"/docs/systempcls/sys-cl_browse/":{"data":{"":"","arguments#Arguments":"alpha - A variable to hold the returned results. If this is an array var, then it can hold multiple fullpath names. If there are more fullpaths returned than will fit in fullpath sys_ret will be set to SYSRET_PARTIAL. If all paths have been returned sys_ret will be set to SYSRET_OK.\nalpha - The directory on the client to start the browse in. If used, this should be a full path and any of the FC_ env vars can be used by specifying something like ${FC_TEMP} or ${FC_HOME} etc.\nalpha - A default filename to use.\nalpha - A default extension without the “.” to use.\nalpha - A list of filters. This is a comma separated list of “desc:.ext” pairs. In order to browse for both text files and rich text files set the filter to something like “All Text Files:.txt,Rich Text Files:.rtf”. Use “All Files:.*” to allow filtering on all files.\nalpha \u003c/code\u003e - Set this to the non empty string to specify a custom title on the dialog.\n\u003cp\u003einteger \u003ccode\u003e\u003cflags\u003e\u003c/code\u003e - Combinations of\n\u003cul\u003e \u003cli\u003eBF_DIR - Browse only for a directory name.\u003c/li\u003e \u003cli\u003eBF_FILE - Browse for file(s). If neither BF_DIR nor BF_FILE is specified, BF_FILE is assumed. If both BF_DIR and BF_FILE is specified, BF_FILE is used.\u003c/li\u003e \u003cli\u003eBF_READ - File should be readable. This is not enforced and needs to be verified by the app when opening the file.\u003c/li\u003e \u003cli\u003eBF_WRITE - File should be writable. This is not enforced and needs to be verified by the app when opening the file.\u003c/li\u003e \u003cli\u003eBF_EXECUTE - File should be executable. This is not enforced and needs to be verified by the app when opening the file.\u003c/li\u003e \u003cli\u003eBF_MUSTEXIST - User can only specify an existing file.\u003c/li\u003e \u003cli\u003eBF_SHOWHIDDEN - Show files that normally would be hidden by the user.\u003c/li\u003e \u003cli\u003eBF_MULTISELECT - Allow selecting of multiple files. There is a limit and selecting too many files will prompt the user to select fewer. The limit is a memory limit. 32K for directory name (once only) plus long filename of each file selected.\u003c/li\u003e \u003cli\u003eBF_RW - Same as BF_READ|BF_WRITE.\u003c/li\u003e \u003cli\u003eBF_RWX - Same as BF_READ|BF_WRITE|BF_EXECUTE.\u003c/li\u003e \u003cli\u003eBF_DEFAULT - Defaults to BF_FILE|BF_READ.\u003c/li\u003e \u003c/ul\u003e","bugs--features--comments#Bugs / Features / Comments":"If the path is truncated, there is no indication. You should make sure that fullpath has room for the largest path that the user can select.","description#Description":"sys.cl_browse() starts a file/dir browse dialog on the client. When processing the fullpath filenames, the application must verify that the file can be opened with the desired access.","example#Example":"The demo.clbrowse.1 program in the Demo app shows how to use sys.cl_browse().","purpose#Purpose":"sys.cl_browse() starts a file/dir browse dialog on the client.","returns#Returns":"integer - The number of fullpath names that have been stored in fullpath or fullpath[0] - fullpath[n]\n0 - fullpath names have been stored. sys_ret may be set to SYSRET_PARTIAL to indicate more files were selected but the fullpath array did not allow room for storing all of them.\n0 - User probably cancelled out of the dialog. sys_ret will be set to SYSRET_CANCEL. -1 - Some Error - Depends on mode and error code set in sys.errno. If the client doesn’t support browsing, then sys_ret will be set to SYSRET_ERRNOTSUPPORTED.","see-also#See Also":"Sys PCLs List","syscl_browse#sys.cl_browse()":"","usage#Usage":"nfiles = sys.cl_browse(\u003cfullpath\u003e,\u003cstartdir\u003e,\u003cdeffilename\u003e,\u003cdefext\u003e,\u003cfilter\u003e,\u003ctitle\u003e,\u003cflags\u003e);","where-used#Where Used":"sys.cl_browse() can be called from any 4c program as long as it is connected to an interactive client."},"title":"sys.cl_browse"},"/docs/systempcls/sys-cl_open/":{"data":{"":"","arguments#Arguments":"alpha - Full pathname of the file on the client machine.\ninteger - Currently, this can be one of:\nCL_OPEN CL_EDIT CL_EXPLORE CL_PRINT Any of the above types can be ored with 1 or more of CL_NOWAIT, CL_NOCONVERT, and CL_NOEXPAND.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cl_open() is used to allow the client machine’s shell to process a file request. The client machine’s shell determines the program to use and where the program is located. Different file extensions will have different meanings. In some cases CL_OPEN and CL_EDIT may do the same thing and in other cases they won’t. The 4C client does not wait for the client program to exit. However, if the client program creates a window, it will get the focus. If it does not create a window, then you should specify CL_NOWAIT as part of the opentype parameter.\nWhen opening a file on a Win32 client, the 4C Client will normally convert backslashes to forward slashes. When opening any type of URL this conversion is not done. You can explicitly avoid this type of conversion by specifying CL_NOCONVERT in the sys.cl_open() statement.\nIf the client is at version 4.8.0 or higher it will expand environment variables on the client. The env vars should be specified as ${ENVVAR} in the path. You can prevent this expansion by specifying CL_NOEXPAND with the flags argument.\nRequirements\nCL_NOCONVERT requires both client and server to be at version 4.6.3 or higher.\nCL_NOEXPAND requires the 4c server to be at version 4.8.0 or higher.\nOnly clients at version 4.8.0 or higher will expand env vars embedded in .","example#Example":"In order to open an html file in a browser, the following may work:\nsys.cl_open(\"c:/tmp/index.html\",CL_OPEN); You can also run the demo program, demo.clopen.1, to see other possibilities.","purpose#Purpose":"sys.cl_open() opens or processes a file on the client machine using the appropriate client program.","returns#Returns":"-1 - Error. Possibly client version \u003c 4.2.0. Other errors from the client should generate messages. 0 - File opened/processed on client.","see-also#See Also":"lsh()","syscl_open#sys.cl_open()":"","usage#Usage":"ret = sys.cl_open(\u003cpath\u003e,\u003copentype\u003e[|CL_NOWAIT][|CL_NOCONVERT][|CL_NOEXPAND]);","where-used#Where Used":"sys.cl_open() can be called from anywhere."},"title":"sys.cl_open"},"/docs/systempcls/sys-cl_restart/":{"data":{"":"","arguments#Arguments":"alpha - If specified, these arguments replace the original arguments to the 4c client.","bugs--features--comments#Bugs / Features / Comments":"sys.cl_restart() is not supported by the non interactive 4C client, 4ccl.","description#Description":"sys.cl_restart() causes the interactive 4c client to terminate and start another session. The new session will be started with the same arguments as the original session unless you specify a new .","example#Example":"None","purpose#Purpose":"sys.cl_restart() restarts the client.","returns#Returns":"-1 - Client version is earlier than 4.4.4\nOtherwise there will be no return, the 4csrvr process will exit.","see-also#See Also":"sys.set_clpref() sys.exit_4c()","syscl_restart#sys.cl_restart()":"","usage#Usage":"ret = sys.cl_restart([\u003cargstring\u003e])","where-used#Where Used":"sys.cl_restart() should only be used in rare circumstances. Possibly, when updating a client preference that requires a restart."},"title":"sys.cl_restart"},"/docs/systempcls/sys-close_file/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to close.\ninteger - Optional argument that can be a combination of the following flags:\nF_CLOSEDEFAULT - Normal close F_CLOSECONN - Close the connection to the external file server or the external database if this file has a connection open. F_CLOSECURSOR - Indicate that sequential processing of an sql stmt is done and that the connection may now be closable","bugs--features--comments#Bugs / Features / Comments":"It is not usually necessary for the application to call sys.close_file() because 4C manages opens and closes as needed. One place that it may be helpful though is in forcing the close of a remote file server or external database connection. The F_CLOSECONN flag is used for that purpose.","description#Description":"sys.close_file() will close a file if it is open. If it is a temporary file, it will be removed.","example#Example":"None","purpose#Purpose":"sys.close_file() closes a file.","returns#Returns":"0 - sys.close_file() always returns 0.","see-also#See Also":"sys.open_file() sys.conn_close()","sysclose_file#sys.close_file()":"","usage#Usage":"sys.close_file(\u003casfile\u003e, [\u003ccloseflags\u003e]);","where-used#Where Used":"sys.close_file() can be called from anywhere."},"title":"sys.close_file"},"/docs/systempcls/sys-close_ldata/":{"data":{"":"","arguments#Arguments":"- an alpha var that was used in a previous call to sys.open_ldata()","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Use sys.close_ldata() to close non onetime LData connections with external processes.","example#Example":"None","purpose#Purpose":"sys.close_ldata() closes an open LData connection.","returns#Returns":"-1 = Failure and sys.errno will be set. Probably no open LData connection with name .\n0 - Success","see-also#See Also":"sys.open_ldata() sys.get_ldata() sys.set_ldata()","sysclose_ldata#sys.close_ldata()":"","usage#Usage":"ret = sys.close_ldata(\u003cldname\u003e);","where-used#Where Used":"sys.close_ldata() can be called from anywhere."},"title":"sys.close_ldata"},"/docs/systempcls/sys-close_log/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"As other databases are added to 4C this call will probably be changed or another added to account for differences in the databases and to make the 4C programs transparent to them.","description#Description":"See your CISAM documentation for detailed description of the CISAM logfile.","example#Example":"None","purpose#Purpose":"sys.close_log() closes the CISAM log file.","returns#Returns":"Always returns 0.","see-also#See Also":"sys.open_log() sys.start_task() sys.end_task() sys.abort_task()","sysclose_log#sys.close_log()":"","usage#Usage":"ret = sys.close_log();","where-used#Where Used":"sys.close_log() can be called from anywhere."},"title":"sys.close_log"},"/docs/systempcls/sys-clr_break/":{"data":{"":"","arguments#Arguments":"Note: all arguments to sys.clr_break() should match the exact arguments used in the sys.set_break() call that you are clearing.\nalpha - program name or “ALL” integer - One of BRK_PROGRAM, BRK_PCL, BRK_VARIABLE, or BRK_SYSPCL alpha - A name specific to the type of breakpoint being cleared. It will be one of pclname, varname, or syspcl name. For BRK_PROGRAM, the argument is ignored. alpha - The asfile name for the variable used in a BRK_VARIABLE breakpoint. For all other breakpoint types the argument is ignored. alpha - The alpha representation of the from value for a BRK_VARIABLE breakpoint when the argument includes BRK_FRVAL. For any other breakpoint type or a BRK_VARIABLE breakpoint with that include BRK_FRANY the argument is ignored. alpha - The alpha representation of the to value for a BRK_VARIABLE breakpoint when the argument includes BRK_TOVAL. For any other breakpoint type or a BRK_VARIABLE breakpoint with that include BRK_TOANY the argument is ignored. integer - Combinations of BRK_ENTRY, BRK_EXIT, BRK_FRANY, BRK_FRVAL, BRK_TOANY, BRK_TOVAL, BRK_LINENO. When clearing a BRK_PCL on a specific linenumber of a PCL the flags argument should be set to (BRK_LINENO | lineno).","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"None","example#Example":"To clear a breakpoint, call sys.clr_break() passing the same arguments that were passed in to sys.set_break().","purpose#Purpose":"sys.clr_break() clears a 4c session breakpoint.","returns#Returns":"0 - OK. Currently, this is the only value returned.","see-also#See Also":"sys.set_break()","sysclr_break#sys.clr_break()":"","usage#Usage":"ret = sys.clr_break(,,,,,,);","where-used#Where Used":"sys.clr_break() is normally used by the 4c system debugger when developers are debugging during an interactive session. However, it is possible for an application to set and clear breakpoints without any user interaction."},"title":"sys.clr_break"},"/docs/systempcls/sys-cmp_data/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the first file in the compare.\nalpha - An alpha var to return the field name from asfile1 where the compare failed.\nalpha - An alpha var to return the formatted value from asfile1 where the compare failed.\nasfile - The asfile name of the second file in the compare.\nalpha - An alpha var to return the field name from asfile2 where the compare failed.\nalpha - An alpha var to return the formatted value from asfile2 where the compare failed.\nNOTE: The fldname1 and fldname2 variables should be defined large enough to hold a name and a dimension. The val1 and val2 variables should be defined large enough to hold the largest value that you want to see. If these variables are not big enough, they are truncated.","bugs--features--comments#Bugs / Features / Comments":"The values returned in val1 and val2 may not reflect the true value of fldname1 and fldname2 because the values may not fit in the display format.\nThere is no way to tell if one asfile has more fields than the other.","description#Description":"sys.cmp_data() compares each field in two different asfiles until all fields of one file have compared ok or until there is a compare fail. The difference between sys.cmp_data() and sys.cmp_file() is that sys.cmp_data() does not compare primary key fields. It is not necessary that the primary key layout of the two asfiles in the compare be compatible, but the data field layouts must be compatible.","example#Example":"The following shows how you can compare all data fields in two different asfiles with the same file layout. The two asfiles cm1 and cm2 both use the cust_mstr file definition.\ncm1.cm_code = \"IBT001\"; sys.read_file(cm1,F_LOOKUP); cm2.cm_code = \"IBT002\"; sys.read_file(cm2,F_LOOKUP); while (1) { if ((ret=sys.cmp_data(cm1,fldname1,val1,cm2,fldname2,val2))==0) break; /* no more different fields */ if (ret == -1) { sys.err_msg(\"Incompatible rcd types\"); sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); break; } sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); /* make next cmp ok on this fld - may not work if fldname1 fmt ovflow */ sys.put_fmtfield(\"cm2\",fldname2,val1); } The following is another way of doing the same thing, except sys.copy_fields() is used instead of sys.put_fmtfield(). This is more accurate since sys.put_fmtfield() will not always make the value of fldname2 equal to the value of fldname1 due to the value not fitting in the display format.\ncm1.cm_code = \"IBT001\"; sys.read_file(cm1,F_LOOKUP); cm2.cm_code = \"IBT002\"; sys.read_file(cm2,F_LOOKUP); while (1) { if ((ret=sys.cmp_data(cm1,fldname1,val1,cm2,fldname2,val2))==0) break; /* no more different fields */ if (ret == -1) { sys.err_msg(\"Incompatible rcd types\"); sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); break; } sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); /* make next cmp ok on this fld */ fldidx = sys.get_cdef(cm1,fldname1); sys.copy_fields(cm1,fldidx,cm2,fldidx,1); }","purpose#Purpose":"sys.cmp_data() compares all data fields in the field buffers of two different asfiles.","returns#Returns":"0 - All fields compared ok\n1 - Compare failed. The field names and values are stored in fldname1,fldname2,val1, and val2.\n-1 - Compare failed because of incompatible data types in compare. The field names and values are stored in fldname1,fldname2,val1, and val2.","see-also#See Also":"sys.cmp_file()","syscmp_data#sys.cmp_data()":"","usage#Usage":"ret = sys.cmp_data(\u003casfile1\u003e,\u003cfldname1\u003e,\u003cval1\u003e,\u003casfile2\u003e,\u003cfldname2\u003e,\u003cval2\u003e);","where-used#Where Used":"sys.cmp_data() can be called from anywhere."},"title":"sys.cmp_data"},"/docs/systempcls/sys-cmp_file/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the first file in the compare. alpha - An alpha var to return the field name from asfile1 where the compare failed. alpha - An alpha var to return the formatted value from asfile1 where the compare failed. asfile - The asfile name of the second file in the compare. alpha - An alpha var to return the field name from asfile2 where the compare failed. alpha - An alpha var to return the formatted value from asfile2 where the compare failed. NOTE: The fldname1 and fldname2 variables should be defined large enough to hold a name and a dimension. The val1 and val2 variables should be defined large enough to hold the largest value that you want to see. If these variables are not big enough, they are truncated.","bugs--features--comments#Bugs / Features / Comments":"The values returned in val1 and val2 may not reflect the true value of fldname1 and fldname2 because the values may not fit in the display format.\nThere is no way to tell if one asfile has more fields than the other.","description#Description":"sys.cmp_file() compares each field in two different asfiles until all fields of one file have compared ok or until there is a compare fail. sys.cmp_file() compares even the primary key fields.","example#Example":"The following shows how you can compare all fields in two different asfiles with the same file layout. The two asfiles cm1 and cm2 both use the cust_mstr file definition.\ncm1.cm_code = \"IBT001\"; sys.read_file(cm1,F_LOOKUP); cm2.cm_code = \"IBT002\"; sys.read_file(cm2,F_LOOKUP); while (1) { if ((ret=sys.cmp_file(cm1,fldname1,val1,cm2,fldname2,val2))==0) break; /* no more different fields */ if (ret == -1) { sys.err_msg(\"Incompatible rcd types\"); sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); break; } sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); /* make next cmp ok on this fld - may not work as expected * due to fldname1 overflowing the display format */ sys.put_fmtfield(\"cm2\",fldname2,val1); } The following is another way of doing the same thing, except sys.copy_fields() is used instead of sys.put_fmtfield(). This is more accurate since sys.put_fmtfield() will not always make the value of fldname2 equal to the value of fldname1 due to the value not fitting in the display format.\ncm1.cm_code = \"IBT001\"; sys.read_file(cm1,F_LOOKUP); cm2.cm_code = \"IBT002\"; sys.read_file(cm2,F_LOOKUP); while (1) { if ((ret=sys.cmp_file(cm1,fldname1,val1,cm2,fldname2,val2))==0) break; /* no more different fields */ if (ret == -1) { sys.err_msg(\"Incompatible rcd types\"); sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); break; } sys.err_msg(\"cmp failed\",fldname1,val1,fldname2,val2); /* make next cmp ok on this fld */ fldidx = sys.get_cdef(cm1,fldname1); sys.copy_fields(cm1,fldidx,cm2,fldidx,1); }","purpose#Purpose":"None","returns#Returns":"0 - All fields compared ok 1 - Compare failed. The field names and values are stored in fldname1,fldname2,val1, and val2. -1 - Compare failed because of incompatible data types in compare. The field names and values are stored in fldname1,fldname2,val1, and val2.","see-also#See Also":"sys.cmp_data()","syscmp_file#sys.cmp_file()":"","usage#Usage":"ret = sys.cmp_file(\u003casfile1\u003e,\u003cfldname1\u003e,\u003cval1\u003e,\u003casfile2\u003e,\u003cfldname2\u003e,\u003cval2\u003e);","where-used#Where Used":"sys.cmp_file() can be called from anywhere."},"title":"sys.cmp_file"},"/docs/systempcls/sys-commit/":{"data":{"":"","arguments#Arguments":"alpha - A program specific name for the transaction. This name must be the same used that started the transaction.","bugs--features--comments#Bugs / Features / Comments":"See the discussion in External Database Files for more details on 4C transactions.","description#Description":"sys.commit() commits the transaction specified by as well as any nested transactions. Only explicit transactions started by the application can be committed by the application and the transaction must have been started by the same 4C program that calls sys.commit(). You cannot start transaction, “T1”, in programA, push ProgramB and commit the transaction, “T1”, in programB.","example#Example":"See sys.begin() for example code.","purpose#Purpose":"sys.commit() commits a 4C transaction.","returns#Returns":"0 - Transaction committed\n-1 - Either the transaction specified by does not exist or the transaction was aborted. Check sys.errno for ABORT_ERR. Transactions may be aborted due to deadlock situations.","see-also#See Also":"sys.begin() sys.rollback() External Database Files","syscommit#sys.commit()":"","usage#Usage":"ret = sys.commit(\u003ctname\u003e);","where-used#Where Used":"sys.commit() can be called from anywhere, but it can only commit a transaction started within the same 4C program. When possible you should try to use sys.commit() within the same PCL that called sys.begin()."},"title":"sys.commit"},"/docs/systempcls/sys-conn_close/":{"data":{"":"","arguments#Arguments":"alpha - The name of the connection to close. This can be the empty string.\ninteger - Combination of the following flags:\nCONNCLOSE_DEFAULT - Close the named connection, or close the connection associated with XLEXTTYPE if connname is empty. CONNCLOSE_ALL - Close all external database and all remote file connections. CONNCLOSE_DBALL - Close all external database connections. CONNCLOSE_REMALL - Close all remote file connections.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.conn_close() will close one or more external db and remote file connections. sys.conn_close() will be mostly used in situations where an external connection is idle a lot. Rather than letting the firewall terminate the connection, leaving orphaned processes on the remote machine, and getting an error the next time the connection is used, sys.conn_close() will explicitly close the connection. Then the next time the connection is needed a new one will be opened.","example#Example":"None","purpose#Purpose":"sys.conn_close() closes a remote file server connection or an external database connection.","returns#Returns":"0 - sys.conn_close() always returns 0.","see-also#See Also":"sys.close_file()","sysconn_close#sys.conn_close()":"","usage#Usage":"sys.conn_close(\u003cconnname\u003e,\u003ccloseflags\u003e);","where-used#Where Used":"sys.conn_close() can be called from anywhere. However, it is the application’s responsibility to make sure that any active transactions have been committed or rolled back."},"title":"sys.conn_close"},"/docs/systempcls/sys-conv_file/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to convert from.\nasfile - The asfile name of the file to convert to.","bugs--features--comments#Bugs / Features / Comments":"You MUST make sure that the record layouts being converted are compatible.","description#Description":"sys.conv_file() can be used to convert one rcd format to another. 4C does this conversion by first blocking the into a rcd buffer as if it were going to write it, but without writing it. It then deblocks that rcd as if the had just read it. The 2 rcd formats need to be compatible. Thus it is possible to convert a FixSeq rcd with 2 x(16) fields to a FixSeq rcd with 1 x(32) field.","example#Example":"The bootstrap program sys.prog.exp.1 uses sys.conv_file() in writing the sys.prog_exp file. Here is the code that converts a sys.dpy_field.x rcd to a sys.prog_exp rcd.\n/* * Add one rcd to sys.prog_exp using * the sys.dpy_field.x rcd */ copydf(); sys.read_file(sys.prog_exp,F_ADD); sys.conv_file(dfx,sys.prog_exp); sys.upd_file(sys.prog_exp);","purpose#Purpose":"sys.conv_file() converts data from the fields of one file to the fields of another.","returns#Returns":"None","see-also#See Also":"sys.copy_data() sys.copy_file()","sysconv_file#sys.conv_file()":"","usage#Usage":"sys.conv_file(\u003cfromasfile\u003e,\u003ctoasfile\u003e);","where-used#Where Used":"sys.conv_file() can be called from anywhere."},"title":"sys.conv_file"},"/docs/systempcls/sys-copy_array/":{"data":{"":"","arguments#Arguments":"- Any 4c array item. This specifies the start of where to begin the copy from.\n- Any 4c array item. This specifies the start where to begin the copy to.\ninteger - - Optional argument specifying the maximum number of array items to copy.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.copy_array() can be used to copy 1 or more array items from 1 array to either the same array or a different array. If copying to the same array, the application must make sure that the copy to area does not overlap the copy from area by specifying the . The system makes sure that items copied from and to are never outside of the bounds of the 2 arrays.","example#Example":"None","purpose#Purpose":"sys.copy_array() copies one or more elements of an array to another array.","returns#Returns":"\u003c 0 - Error\n\u003e= 0 - The number of items actually copied.","see-also#See Also":"None","syscopy_array#sys.copy_array()":"","usage#Usage":"ret = copyarray(\u003cfromarrayitem\u003e, \u003ctoarrayitem\u003e [, \u003cmaxitemstocopy\u003e ]);","where-used#Where Used":"sys.copy_array() can be called from anywhere."},"title":"sys.copy_array"},"/docs/systempcls/sys-copy_data/":{"data":{"":"","arguments#Arguments":"alpha - Optional asprog name of the program to find in. The default is the current program.\nfile - The asfile name of the file to copy from.\nalpha - Optional asprog name of the program to find in. The default is the current program.\nfile - The asfile name of the file to copy to.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.copy_data() copies all non-primary key fields from one files buffer area to anothers. This does not do any kind of file access or update. It is most useful when the same file is used more than once in the same program. It should not be used UNLESS the two files have the EXACT same file definition. If it is, fields that do not match in data type are not copied.","example#Example":"The bootstrap program sys.prog.cpy uses sys.copy_data when copying the control break information. The following is a copy of the PCL that copies the sys.cb_hdr data.\ncbh2.sys.cbh_prname = newname; cbh2.sys.cbh_name = cbh1.sys.cbh_name; if (sys.read_file(cbh2,F_ADD|F_NOMSG) \u003c 0) { beep(); sys.msg(\"Warning: Program/CB: \" + newname + cbh1.sys.cbh_name + \" Already Exists\"); sys.read_file(cbh2,F_MODIFY); } sys.copy_data(cbh1,cbh2); sys.upd_file(cbh2,F_DEFAULT); NOTE: The pcl name is copycbh() and it is the DrSelect PCL for the cbh1 driver.","purpose#Purpose":"sys.copy_data() copys all non-primary key fields from the data buffers of one file to the data buffers of another.","returns#Returns":"0 - Always returns 0","see-also#See Also":"sys.copy_file() sys.copy_pkey() sys.copy_fields() sys.null_file() sys.null_data()","syscopy_data#sys.copy_data()":"","usage#Usage":"ret = sys.copy_data([ \u003cfromprog\u003e, ] \u003cfromfile\u003e, [ \u003ctoprog\u003e, ] \u003ctofile\u003e);","where-used#Where Used":"sys.copy_data() can be called from anywhere."},"title":"sys.copy_data"},"/docs/systempcls/sys-copy_fields/":{"data":{"":"","arguments#Arguments":"file - The asfile name of the file to copy from.\ninteger - The start field number in the from file to start the copy. Use the CDEF for this field.\nfile - The asfile name of the file to copy to.\ninteger - The start field number in the from file to start the copy. Use the CDEF for this field.\ninteger - The number of fields to copy.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.copy_fields() copies the specified fields from one files buffer area to anothers. This does not do any kind of file access or update. The fields being copied need to be of the same type.","example#Example":"None","purpose#Purpose":"sys.copy_fields() copies specified fields from the data buffers of one file to the data buffers of another.","returns#Returns":"0 - OK\n-1 - Illegal number of fields specified.","see-also#See Also":"sys.copy_file() sys.copy_data() sys.null_file() sys.null_data()","syscopy_fields#sys.copy_fields()":"","usage#Usage":"ret = sys.copy_fields(,,,,);","where-used#Where Used":"sys.copy_fields() can be called from anywhere."},"title":"sys.copy_fields"},"/docs/systempcls/sys-copy_file/":{"data":{"":"","arguments#Arguments":"alpha - Optional asprog name of the program to find in. The default is the current program.\nfile - The asfile name of the file to copy from.\nalpha - Optional asprog name of the program to find in. The default is the current program.\nfile - The asfile name of the file to copy to.","bugs--features--comments#Bugs / Features / Comments":"Even after calling sys.copy_file() and then updating the rcd, the primary key will still have the same values it had after the last file access. This is because 4C always updates with the same primary key that it last read with. To preserve the new key, the file should be read after the call to sys.copy_file() using the F_VERIFY or F_VERIFYNE flag to prevent overwriting of the data fields.","description#Description":"sys.copy_file() copies all fields from one files buffer area to anothers. This does not do any kind of file access or update. It is most useful when the same file is used more than once in the same program. It should not be used UNLESS the two files have the EXACT same file definition. If it is, fields that do not match in data type are not copied.","example#Example":"None","purpose#Purpose":"sys.copy_file() copys all fields from the data buffers of one file to the data buffers of another.","returns#Returns":"0 - Always returns 0","see-also#See Also":"sys.copy_pkey() sys.copy_data() sys.copy_fields() sys.null_file() sys.null_data()","syscopy_file#sys.copy_file()":"","usage#Usage":"ret = sys.copy_file([ \u003cfromprog\u003e, ] \u003cfromfile\u003e, [ \u003ctoprog\u003e, ] \u003ctofile\u003e);","where-used#Where Used":"sys.copy_file() can be called from anywhere."},"title":"sys.copy_file"},"/docs/systempcls/sys-copy_pkey/":{"data":{"":"","arguments#Arguments":"alpha - - Optional arg to specify the name of the 4C program to find . If not specified, the current program is used.\nasfile - - The 4C asfile to copy from.\nalpha - - Optional arg to specify the name of the 4C program to find . If not specified, the current program is used.\nasfile - - The 4C asfile to copy to.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.copy_pkey() copies the values in the primary key field buffers in memory of 1 4C file to the primary key field buffer in memory of another 4C file. Fields with incompatible field types in the 2 files are skipped.","example#Example":"None","purpose#Purpose":"sys.copy_pkey() copies the primary key fields of 1 file to the primary key fields of another file.","returns#Returns":"\u003c 0 - Some error\n0 - OK","see-also#See Also":"sys.copy_file() sys.copy_fields() sys.null_file() sys.null_data()","syscopy_pkey#sys.copy_pkey()":"","usage#Usage":"ret = sys.copy_pkey([ \u003cfromasprog\u003e, ] \u003cfromasfile\u003e, [ \u003ctoasprog\u003e, ] \u003ctoasfile\u003e);","where-used#Where Used":"sys.copy_pkey() can be called from anywhere."},"title":"sys.copy_pkey"},"/docs/systempcls/sys-cp_toutf8/":{"data":{"":"","arguments#Arguments":"integer - Any valid Unicode 32bit codepoint.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.cp_toutf8() converts 1 to 30 32 bit integer Unicode Codepoints to one UTF8 string. The total number of bytes in the returned utf8 string is stored in sys_ret.","example#Example":"The demo.utf8.1 program, though silly and pointless, has several examples of using sys.cp_toutf8() to create UTF8 strings.","purpose#Purpose":"sys.cp_toutf8() converts 1 to 30 32 bit integer Unicode Codepoints to one UTF8 string.","returns#Returns":"utf8 - A valid UTF8 string","see-also#See Also":"sys.utf8_charat() sys.utf8_count() sys.utf8_fix() sys.utf8_join() sys.utf8_split() sys.utf8_tocp() sys.utf8_verify()","syscp_toutf8#sys.cp_toutf8()":"","usage#Usage":"utf8str = sys.cp_toutf8(\u003ccp01\u003e [,\u003ccp02\u003e ... ,\u003ccp30\u003e ]);","where-used#Where Used":"sys.cp_toutf8() can be called from anywhere."},"title":"sys.cp_toutf8"},"/docs/systempcls/sys-create_file/":{"data":{"":"","arguments#Arguments":"file - The asfile name of the file to create.","bugs--features--comments#Bugs / Features / Comments":"sys.create_file() is obsolete - use sys.open_file(,F_CREATE) instead.\nIf the file exists and is in use by another program the results are unpredictable. The file to create must be defined by the program creating it.\nThe file being created is ALWAYS created in the first data directory.","description#Description":"sys.create_file() creates a data file in the first data directory, or by using the external name of the file. If the file exists in the first data directory, it is removed first. If it exists in any directory other than the first, it is left alone, but a file will still be created in the first data directory.\nsys.create_file() can be used to create temporary files when they are needed longer than the life of the program that created them. If they can be discarded immediately, then sys.create_tfile() should be used.","example#Example":"None","purpose#Purpose":"sys.create_file() creates a file on disk.","returns#Returns":"0 - File create ok\n-1 - Some error, msg displayed, and file NOT created.","see-also#See Also":"sys.create_tfile() sys.open_file()","syscreate_file#sys.create_file()":"","usage#Usage":"ret = sys.create_file(\u003casfile\u003e);","where-used#Where Used":"sys.create_file() can be called from anywhere, but care should be taken to make sure the file is not already in use by another program."},"title":"sys.create_file"},"/docs/systempcls/sys-create_tfile/":{"data":{"":"","arguments#Arguments":"file - The asfile name of the file to create.","bugs--features--comments#Bugs / Features / Comments":"sys.create_tfile() is obsolete - use sys.open_file(,F_TEMP) instead.\nIn order to share the file name across programs, you must specify FULL SHARE on the Entire File in the program share definition.","description#Description":"sys.create_tfile() creates a data file in a temp directory. If the file is already in use by the program creating it, it is closed first. When the program that creates the temporary file exits, the temporary file is removed.\nsys.create_tfile() can be used to create temporary files when they are not needed any longer than the life of the program that creates them. If they cannot be discarded immediately, then sys.create_file() should be used.\nThe file being created is created in a temp directory that can be specified by the user.","example#Example":"The bootstrap program sys.filedoc.s creates a temporary file using the template of sys.file_temp. It does it with the following statement taken from filelist().\nsys.create_tfile(file_temp); file_temp is defined in sys.filedoc.s in the program file definitions.","purpose#Purpose":"sys.create_tfile() creates a temporary file on disk.","returns#Returns":"0 - Temp File create ok\n-1 - Some error, msg displayed, and file NOT created.","see-also#See Also":"sys.create_file() sys.open_file()","syscreate_tfile#sys.create_tfile()":"","usage#Usage":"ret = sys.create_tfile(\u003casfile\u003e);","where-used#Where Used":"sys.create_tfile() can be called from anywhere."},"title":"sys.create_tfile"},"/docs/systempcls/sys-decode_file/":{"data":{"":"","arguments#Arguments":"alpha - the full pathname of the file you are reading encoded data from.\nalpha - the full pathname of the file you are writing the decoded data to.\ninteger - - This must be one of ENCODE_NONE, ENCODE_BASE16, or ENCODE_BASE64","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.decode_file() decodes the using the specified to The is not modified by sys.encode_file.","example#Example":"None","purpose#Purpose":"sys.decode_file() decodes the using the specified to","returns#Returns":"0 - File was decoded successfully.\n\u003c 0 - Some Error","see-also#See Also":"sys.encode_file() sys.decode_file() sys.encode_text() sys.decode_text()","sysdecode_file#sys.decode_file()":"","usage#Usage":"ret = sys.decode_file(\\\u003cfromfilename\\\u003e,\\\u003ctofilename\\\u003e,\\\u003cencodingtype\\\u003e);","where-used#Where Used":"sys.decode_file() can be called from anywhere."},"title":"sys.decode_file"},"/docs/systempcls/sys-decode_text/":{"data":{"":"","arguments#Arguments":"alpha - A 4C alpha field or literal that is encoded.\ninteger - - This must be one of ENCODE_NONE, ENCODE_BASE16, ENCODE_BASE64, or ENCODE_BASE64URL.","bugs--features--comments#Bugs / Features / Comments":"Requires version 5.0 or higher of 4csrvr.","description#Description":"sys.decode_text() decodes the using the specified and returns the result as an alpha variable. The 4C field is not modified by sys.decode_text.","example#Example":"None","purpose#Purpose":"sys.decode_text() decodes the alpha field using the specified and returns the decoded text.","returns#Returns":"\"\" - Some Error\nAny other alpha - was decoded successfully.","see-also#See Also":"sys.encode_file() sys.decode_file() sys.encode_text() sys.decode_text()","sysdecode_text#sys.decode_text()":"","usage#Usage":"text = sys.decode_text(\u003cfromtext\u003e,\u003cencodingtype\u003e);","where-used#Where Used":"sys.decode_text() can be called from anywhere."},"title":"sys.decode_text"},"/docs/systempcls/sys-del_range/":{"data":{"":"","arguments#Arguments":"asfile - The file to delete rcds from.\ninteger - The fld identifier, normally the cdef for that field.\nalpha - Alpha representation of the starting value of the fld to start deleting from.\nalpha - Alpha representation of the ending value of the fld to end deleting from.\ninteger - Either MATCH_FULL or MATCH_PARTIAL. Flag indicating if the start and end values are matched in full or not.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.del_range() deletes a set of sequential rcds in a file. All fields in the file before fldidx need to be set before the call to sys.del_range.","example#Example":"None","purpose#Purpose":"sys.del_range() deletes a set of sequential rcds in a file.","returns#Returns":"-1 - Error\n= 0 - Number of rcds matched and delete attempted. Number of rcds successfully deleted is stored in sys_ret;","see-also#See Also":"Sys PCLs List","sysdel_range#sys.del_range()":"","usage#Usage":"ndel = sys.del_range(, , , , );","where-used#Where Used":"sys.del_range() can be called from anywhere."},"title":"sys.del_range"},"/docs/systempcls/sys-dev_nlines/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dev_nlines() returns the number of lines on the current output device. The current output device may not be the same device as that specified by the program. This is possible if sys.dev_nlines() is called from the Init PCL, and the calling program is not using the same device. In this case, sys.dev_nlines() would return the number of lines for the calling program’s output device.","example#Example":"None","purpose#Purpose":"sys.dev_nlines() returns the number of lines on the current output device.","returns#Returns":"integer nlines - The number of lines on the current output device.","see-also#See Also":"sys.get_msgline1() sys.get_msgline2()","sysdev_nlines#sys.dev_nlines()":"","usage#Usage":"nlines = sys.dev_nlines();","where-used#Where Used":"sys.dev_nlines() can be called from anywhere, but you should be careful if it is called from the Init, End, or Exit PCLs."},"title":"sys.dev_nlines"},"/docs/systempcls/sys-dflist_add/":{"data":{"":"","arguments#Arguments":"integer - - This should be the DFLABEL of the display field.\nalpha - - The choice to add to the list.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dflist_add() adds a choice to a list type display field. The list type display fields are:\nsellist inplist chkbox rbgroup","example#Example":"None","purpose#Purpose":"sys.dflist_add() adds a new choice to a list type 4C display field.","returns#Returns":"integer 0 - OK\n\u003c 0 - Invalid , or cur program is not a screen program.","see-also#See Also":"sys.dflist_clear()","sysdflist_add#sys.dflist_add()":"","usage#Usage":"ret = sys.dflist_add(\u003cdflabel\u003e,\u003cstr\u003e);","where-used#Where Used":"sys.dflist_add() can be called from any screen program that is open. You can not call sys.dflist_add() in the InitPCL."},"title":"sys.dflist_add"},"/docs/systempcls/sys-dflist_clear/":{"data":{"":"","arguments#Arguments":"integer - - This should be the DFLABEL of the display field.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dflist_clear() clears all choices in a list type display field. The list type display fields are:\nsellist inplist chkbox rbgroup","example#Example":"None","purpose#Purpose":"None","returns#Returns":"integer 0 - OK\n\u003c 0 - Invalid , or cur program is not a screen program","see-also#See Also":"sys.dflist_add()","sysdflist_clear#sys.dflist_clear()":"","usage#Usage":"ret = sys.dflist_clear(\u003cdflabel\u003e);","where-used#Where Used":"sys.dflist_clear() can be called from any screen program that is open. You can not call sys.dflist_clear() in the InitPCL."},"title":"sys.dflist_clear"},"/docs/systempcls/sys-dr_delete/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"This is a fairly specialized SysPCL. Be sure your application needs it before using it.\nsys.dr_delete() will fail if you have changed any of the sort fields in the main driver file. Not sure if this can or should be fixed or not.","description#Description":"An scrolling 4C program that does its own processing for delete, will need to call sys.dr_delete() in order to delete appropriate rcds from the tmp driver file. The fields in main driver file need to have the correct values set in order for sys.dr_delete() to work correctly. sys.dr_delete() deletes only 1 rcd from the tmp driver file. It does not delete anything from any other files.","example#Example":"The bootstrap program, sltree.fm, does its own delete processing since sometimes deleting a single entry needs to delete more than one driver rcd.","purpose#Purpose":"sys.dr_delete() deletes one rcd from the tmp driver file.","returns#Returns":"0 - OK\n-1 - Error","see-also#See Also":"sys.dr_update() sys.set_droption() sys.dr_renumber()","sysdr_delete#sys.dr_delete()":"","usage#Usage":"sys.dr_delete();","where-used#Where Used":"sys.dr_delete() can be called by an application that is doing its own processing. It should not be called by an application that is using default 4C delete processing."},"title":"sys.dr_delete"},"/docs/systempcls/sys-dr_epselect1/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_epselect1() is used for scrolling screens to allow the user to select 1 rcd. A rcd is selected by pressing the key when the rcd is highlighted. In addition, if the 4C environment variable, XLRETURN, is set to “SELECT”, then the key also selects the rcd. When a rcd has been selected, the current program exits, setting $wexit_code to 0. If the user cancels, then $wexit_code will be set to -1.\nsys.dr_epselect1() provides a subset of the commands that sys.dr_epedit() provides. The commands are all 1 key commands and some of them accept a count also. They are:\n\u003caccept\u003e - Select rcd and exit program. \u003creturn\u003e - If XLRETURN is \"SELECT\" then same as accept, otherwise error [count]G - GOTO rcd# - If count not specified, then GOTO last rcd. \u003credisplay\u003e - Redisplays screen t or T - Goto 1st rcd b or B - Goto last rcd","example#Example":"None","purpose#Purpose":"sys.dr_epselect1() does end page processing for select scrolling screens.","returns#Returns":"None","see-also#See Also":"sys.dr_epedit()","sysdr_epselect1#sys.dr_epselect1()":"","usage#Usage":"sys.dr_epselect1();","where-used#Where Used":"sys.dr_epselect1() can be called ONLY from the EndPage PCL processing of a scrolling screen."},"title":"sys.dr_epselect1"},"/docs/systempcls/sys-dr_epskip/":{"data":{"":"","arguments#Arguments":"integer - Number of lines to skip. Should be greater than 0.","bugs--features--comments#Bugs / Features / Comments":"This PCL is obsolete and may be removed without notice. Instead, you should use the bootstrap fields to define the page layout, or in special cases, use the arg to sys.page().","description#Description":"This PCL skips lines for a scrolling program. It should only be called during the EndPage PCL processing. sys.dr_epskip() works like sys.page() except that lines are skipped instead of doing a page break. It can be used when printing labels or when you want to do your own line counting.","example#Example":"None","purpose#Purpose":"None","returns#Returns":"integer 0 - Currently this is the only return.","see-also#See Also":"sys.page()","sysdr_epskip#sys.dr_epskip()":"","usage#Usage":"ret = sys.dr_epskip(\u003ccount\u003e);","where-used#Where Used":"sys.dr_epskip() can be called only from the EndPage PCL of scrolling programs."},"title":"sys.dr_epskip"},"/docs/systempcls/sys-dr_include/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file containing the field to include.\ninteger - The CDEFINE of the field to include.\ninteger - This is an optional argument and currently can have the values DR_NOCLR or DR_CLR only. If not specified, then fields from the driver file are not cleared before the DrSelect PCL, but other fields are.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"The purpose of sys.dr_include() is to allow values that need a lot of time to calculate to be calculated only once. This is necessary on scrolling screens that may redisplay the same rcd multiple times. If the computed val won’t change during the scrolling screens life, and it requires a lot of time to calculate, then sys.dr_include() may speed up that particular scrolling screen.\nsys.dr_include() can also save processing time in reports by avoiding file rereads. When values are needed both in the DrSort PCL and the DrProc PCL using sys.dr_include() will make the extra file read in the DrProc PCL unnecessary.\nThere is never any point to calling sys.dr_include() for fields in the main driver file itself since 4C always reads this file before the DrProc PCL.\nFields that are dr included, but are not fields from the driver file will be cleared as a default before the DrSelect PCL is run. This action can be overridden by specifying DR_NOCLR in the sys.dr_include() call. Fields that are dr included, and are fields in the driver file will not be cleared before the DrSelect PCL is run unless DR_CLR was specified in the sys.dr_include() call.","example#Example":"In the program sys.prmem.rpt2.2, three data fields are included in the 4C driver file. This means that the file sys.file_hdr will not need to be read during the DrProc PCL or during field processing in order to access those fields. The relevant code from drinit() follows:\nsys.dr_include(sys.file_hdr,S_FHSYSSIZE); sys.dr_include(sys.file_hdr,S_FHUSRSIZE); sys.dr_include(sys.file_hdr,S_FHSEQSIZE);","purpose#Purpose":"sys.dr_include() allows you to include fields other than primary key fields and sort key fields in the 4C driver file.","returns#Returns":"integer 0 - OK\n-1 - No current driver, or current driver not in DRINIT state.","see-also#See Also":"sys.dr_init() sys.sort_by()","sysdr_include#sys.dr_include()":"","usage#Usage":"ret = sys.dr_include(\u003casfile\u003e,\u003cfldcdef\u003e,[\u003cflag\u003e]);","where-used#Where Used":"sys.dr_include() can be called ONLY from the DrInit PCL. It always applies to the current driver. It makes no difference where during the DrInit PCL that sys.dr_include() is called."},"title":"sys.dr_include"},"/docs/systempcls/sys-dr_init/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to read sequentially.\ninteger - The CDefine of the field in to use as the last non varying part of the key. must be a key field in file .\ninteger - must be MATCH_FULL or MATCH_PARTIAL only. If is alpha, then MATCH_PARTIAL means that the only unvarying part of is up to its current length. MATCH_FULL means that even trailing spaces are non varying.\ninteger - Optional arg that can be either SEEK_START or SEEK_END. The default is SEEK_START. If you specify SEEK_END, then the meaning of F_DRNEXT/F_SEQNEXT and F_DRPREV/F_SEQPREV are reversed.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_init() is used to specify a range of rcds that will be read sequentially. Normally, this is done in a DrInit PCL for a particular driver, but it also will work if you do your own sequential reading using sys.read_file(). Before calling sys.dr_init(), the values must be set in ALL key fields up to and including the field referenced by . Any key fields following do not need to be set, and are allowed to vary during the sequential reading. By specifying a that references a secondary key, 4C will read the file by that secondary key. The is used to specify if the entire field referenced by (including trailing spaces) must not vary (MATCH_FULL), or if trailing spaces in the current value are allowed to vary (MATCH_PARTIAL). MATCH_PARTIAL has no meaning for non alpha fields.","example#Example":"In the display field maintenance program, sys.df.maint1, there is a driver for sys.spc_action. It is run when deleting fields in order to delete all fkey definitions for that field. The DrInit PCL for sys.spc_action is sadrinit(). Here is the code:\nsys.spca_prname = sys.df_prname ; sys.spca_varname = sys.df_fieldname ; sys.dr_init(sys.spc_action,S_SPCAVARNAME,MATCH_FULL); By specifying MATCH_FULL, only rcds that match the current values of sys.spca_prname and sys.spca_varname will be read. As soon as one of these changes, 4C returns EOF. In the case of a driver, 4C will run the SelEof PCL. The final part of the key sys.spca_spc is allowed to vary. Since S_SPCAVARNAME references a primary key field, the sys.spc_action is read by primary key during the DrSel state.","purpose#Purpose":"sys.dr_init() initializes the sequential reading of a file.","returns#Returns":"integer 0 - This is the only return","see-also#See Also":"sys.dr_range() sys.read_file() sys.seek_key() sys.set_ekey() sys.set_skey()","sysdr_init#sys.dr_init()":"","usage#Usage":"ret = sys.dr_init(\u003casfile\u003e,\u003cfldnum\u003e,\u003cmatchflag\u003e [, \u003cseektype\u003e]);","where-used#Where Used":"sys.dr_init() can be called anytime that sequential reading of a file is required. This most often will be inside of a DrInit PCL."},"title":"sys.dr_init"},"/docs/systempcls/sys-dr_isbof/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_isbof() is called to determine if the current driver is at the beginning of file or not. If the driver is currently processing the first selected record then it returns 1. Otherwise it returns 0. If there is no current driver, sys.dr_isbof() will return -1.\nIn the SPagePCL, if the next line to display is the first line, then sys.dr_isbof() will return 1. Otherwise sys.dr_isbof() will return 0.\nIn the DrProcPCL, the SFldlpPCL, any field PCL, and the EFldlpPCL, if the current record being processed is the first record, then sys.dr_isbof() will return 1. Otherwise sys.dr_isbof() will return 0.\nThe EPagePCL cannot be used to call sys.dr_isbof().\nsys.dr_isbof() can be used instead of checking if dr_sequence is equal to 1.","example#Example":"if (sys.dr_isbof()) setdefaults();","purpose#Purpose":"sys.dr_isbof() indicates whether the current driver is at the beginning of file or not.","returns#Returns":"1 - Current driver is at beginning of file.\n0 - Current driver is not at beginning of file.\n-1 - There is no current driver.","see-also#See Also":"sys.dr_iseof()","sysdr_isbof#sys.dr_isbof()":"","usage#Usage":"if (sys.dr_isbof()) dosomething();","where-used#Where Used":"sys.dr_isbof() can be called from anywhere as long as there is a current driver."},"title":"sys.dr_isbof"},"/docs/systempcls/sys-dr_iseof/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_iseof() is called to determine if the current driver is at the end of file or not. If the driver is currently processing the last selected record then it returns 1. Otherwise it returns 0. If there is no current driver, sys.dr_iseof() will return -1.\nThe SPagePCL cannot be used to call sys.dr_iseof().\nIn the DrProcPCL, the SFldlpPCL, any field PCL, and the EFldlpPCL, if the current record being processed is the last selected record, then sys.dr_iseof() will return 1. Otherwise sys.dr_iseof() will return 0.\nThe EPagePCL can call sys.dr_iseof() to determine if the last record on the page is also the last record selected.\nsys.dr_iseof() can be used instead of checking if dr_sequence is equal to sys.dr_count().","example#Example":"if (sys.dr_iseof()) printtotals();","purpose#Purpose":"sys.dr_iseof() indicates whether the current driver is at the end of file or not.","returns#Returns":"1 - Current driver is at end of file.\n0 - Current driver is not at end of file.\n-1 - There is no current driver.","see-also#See Also":"sys.dr_isbof()","sysdr_iseof#sys.dr_iseof()":"","usage#Usage":"if (sys.dr_iseof()) dosomething();","where-used#Where Used":"sys.dr_iseof() can be called from anywhere as long as there is a current driver."},"title":"sys.dr_iseof"},"/docs/systempcls/sys-dr_position/":{"data":{"":"","arguments#Arguments":"FieldAny - The field to use in determining initial highlighted rcd.\ninteger - One of POS_LT, POS_LEQ, POS_EQ, POS_GEQ, POS_GT.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_position() is used to indicate to 4C how to position the first page displayed on a scrolling screen and which record to highlight. sys.dr_position() can be called with any field that will have a value in it when sys.dr_add() is called, either explicitly or implicitly. Most often it will be called with fields that are part of the driver sort sequence. You can make multiple calls, to force multiple compares. The order of the calls to sys.dr_position() will be highest precedence to lowest precedence. That is, calls should be in the order of the key, left to right.","example#Example":"The DrInit PCL from sys.dev.sel uses sys.dr_position() to highlight the last selected device. The code from that PCL follows:\nsys.dev_name = sys.sel_device; sys.dr_position(sys.dev_name,POS_LEQ); sys.dev_name = \"\"; sys.dr_init(sys.device,S_DEVNAME,MATCH_PARTIAL); Notice that sys.dev_name must be initialized with a value before calling sys.dr_position(). Unfortunately, sometimes it needs to be reset afterward.","purpose#Purpose":"sys.dr_position() allows you to set the first highlighted rcd of a scrolling screen.","returns#Returns":"integer 0 - OK\n-1 - No program driver","see-also#See Also":"sys.dr_add()","sysdr_position#sys.dr_position()":"","usage#Usage":"ret = sys.dr_position(\u003cfield\u003e,\u003cposflag\u003e);","where-used#Where Used":"sys.dr_position() can only be called from the DrInit PCL of the Program Driver."},"title":"sys.dr_position"},"/docs/systempcls/sys-dr_range/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the driver being run.\ninteger - The fld num in asfile to use for setting the range. This should be passed as a CDEFINE.\nalpha - Starting val in range. This must be passed as an alpha. 4C will convert it to the proper type.\nalpha - Ending val in range. This must be passed as an alpha. 4C will convert it to the proper type.\ninteger - This can be MATCH_FULL or MATCH_PARTIAL only.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_range() allows you to specify a range rcds in the driver file by specifying a range of values for ONE field in the driver file. You pass in the start and end values that the field will have and a flag specifying either MATCH_FULL, or MATCH_PARTIAL. MATCH_FULL specifies that trailing blanks for an alpha key must match also. All key fields before the specified field must be set before calling sys.dr_range().","example#Example":"None","purpose#Purpose":"sys.dr_range() allows you to set the start and end range of rcds to be read for a driver.","returns#Returns":"None","see-also#See Also":"sys.set_skey() sys.set_ekey() sys.seek_key() sys.dr_init()","sysdr_range#sys.dr_range()":"","usage#Usage":"sys.dr_range(\u003casfile\u003e,\u003cfldcdef\u003e,\u003csval\u003e,\u003ceval\u003e,\u003cmatchtype\u003e);","where-used#Where Used":"sys.dr_range() can ONLY be called from the DrInit PCL of any driver."},"title":"sys.dr_range"},"/docs/systempcls/sys-dr_readsel/":{"data":{"":"","arguments#Arguments":"integer - An item idx, absolute linenumber, or one of DR_SELNEXT, DR_SELPREV, DR_SELFIRST, DR_SELLAST, DR_SELCUR. Item indexes start at 0, line numbers start at 1.\ninteger - Optional argument. Currently the flags can be one of DR_ABSOLUTE or DR_RELATIVE along with 0 or more of DR_SHOW and DR_FOCUS. If DR_ABSOLUTE is indicated then item index is interpreted as an absolute line number of the item in the scrolling list. Note that line numbers start at 1, rather than 0. If DR_RELATIVE (the default) is indicated then the item index is interpreted as a relative index into the set of selected items.\nSpecifying DR_SHOW will make sure that the item is visible in the list. If necessary the list will scroll so that the item is visible.\nWhen DR_FOCUS is set, it makes sure that that item has the focus.","bugs--features--comments#Bugs / Features / Comments":"Requirements\nDR_SHOW and DR_FOCUS require 4cserver version 6.0.6 or later.","description#Description":"sys.dr_readsel() allows the application process selected items from a scrolling list.","example#Example":"The system programs sys.df.maint1, scf.fm, and scp.fm have examples of using sys.dr_readsel().","purpose#Purpose":"sys.dr_readsel() reads the record in the driver file corresponding to an item in a scrolling list.","returns#Returns":"0 - OK\n-1 - Error","see-also#See Also":"sys.dr_setsel() sys.dr_selcount()","sysdr_readsel#sys.dr_readsel()":"","usage#Usage":"sys.dr_readsel(\u003citemidx\u003e[,\u003cflags\u003e]);","where-used#Where Used":"sys.dr_readsel() is normally used when processing a set of records that the user has selected."},"title":"sys.dr_readsel"},"/docs/systempcls/sys-dr_renumber/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"This is a fairly specialized SysPCL. Be sure your application needs it before using it.","description#Description":"A scrolling program that needs to sometimes allow renumbering and sometimes prevent it at runtime can do so by catching and in the processing of call sys.dr_renumber() if it wants renumbering to proceed. To prevent renumbering, it just avoids calling sys.dr_number().","example#Example":"The bootstrap program sys.df.fm.pnl catches and prevents renumbering if screen panels are locked or the program is readonly. Otherwise, it allows renumbering by calling sys.dr_renumber().","purpose#Purpose":"sys.dr_renumber() allows the user to renumber sequenced lines in a scrolling program.","returns#Returns":"0 - OK\n-1 - Invalid state to allow renumbering.","see-also#See Also":"sys.set_droption() sys.dr_delete()","sysdr_renumber#sys.dr_renumber()":"","usage#Usage":"sys.dr_renumber();","where-used#Where Used":"sys.dr_renumber() should only be called by an application that catches and has determined that renumbering can proceed. Most applications will have no need for this and can just specify that renumbering is allowed in the program file definition."},"title":"sys.dr_renumber"},"/docs/systempcls/sys-dr_restart/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the driver to restart\ninteger - restart flags. The only possible values for the flags are:\nDR_APPEND DR_CLEAR","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_restart() will restart the specified driver. If successful, all states nested within the driver will be exited. This means that any nested drivers, pcls, or fields will exited. You can restart program drivers as well as non program drivers. When a driver is restarted, the DrInit PCL will be re-executed. If DR_CLEAR is specified, then you can change any of the parameters of the DrInit. You can change sortby fields, and include fields. If DR_APPEND is specified, then 4C forces these values to maintain their original values.\nYou can always specify the order to read the driver file by as well as the window of rcds to select.\nWhen DR_APPEND is specified and you reselect rcds that were previously selected, they are re-written into the driver sort file, replacing the original.","example#Example":"sys.dr_restart(DR_CLEAR); This will restart the current driver clearing all rcds already selected. The DrInit PCL will be able to specify sort fields as well as new include fields.\nsys.dr_restart(sys.program,DR_APPEND); This will restart the sys.program driver and append rcds to the select file. The DrInit PCL will not be able to specify new sort fields or include fields.","purpose#Purpose":"sys.dr_restart() restarts a driver","returns#Returns":"This System PCL should not return. If it does the return is -1 and means that the specified driver was not running.","see-also#See Also":"sys.end_driver() sys.exit_driver()","sysdr_restart#sys.dr_restart()":"","usage#Usage":"ret = sys.dr_restart([\u003cdrfile\u003e],\u003cflags\u003e);","where-used#Where Used":"sys.dr_restart() can be called any time while the driver is running.\nOne likely reason to restart a driver is to allow the user to select more rcds than were originally selected for display."},"title":"sys.dr_restart"},"/docs/systempcls/sys-dr_selcount/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_selcount() returns the number of items selected when the user last pressed an fkey or cmdbtn. 4C works with a set of items that is comprised of the items currently selected when the user pressed an fkey or cmdbtn. Even if you change the selection status of any items in this set, the set itself will not change until another fkey or cmdbtn is pressed by the user.","example#Example":"The system programs sys.df.maint1, scf.fm, and scp.fm have examples of using sys.dr_selcount().","purpose#Purpose":"sys.dr_selcount() returns the number of selected items to the application.","returns#Returns":"The number of currently selected items in a scrolling list.","see-also#See Also":"sys.dr_readsel() sys.dr_setsel()","sysdr_selcount#sys.dr_selcount()":"","usage#Usage":"nitems = sys.dr_selcount();","where-used#Where Used":"sys.dr_selcount() is normally used when the user presses an fkey or cmdbtn and the application wants to process each selected record."},"title":"sys.dr_selcount"},"/docs/systempcls/sys-dr_setcb/":{"data":{"":"","arguments#Arguments":"integer cbname\ncbname is the name of a CB defined for this program.\ninteger flag\nflag can be CB_DRSEL or CB_DRPROC only","bugs--features--comments#Bugs / Features / Comments":"Currently there is no automatic way of setting a CB for a driver. This should be added to the bootstraps.","description#Description":"sys.dr_setcb() activates the specified CB for either DRSELECT processing or for DRPROC processing. This routine must be called in order to activate a CB for a driver. sys.dr_setcb can only be called from the DRINIT PCL of a driver. This routine can be called more than once in order to activate multiple CBs. When more than 1 CB are active, they are always processed in the same order as the sys.dr_setcb() calls. Also, they are completely independant of one another.","example#Example":"sys.dr_setcb(PROGRAM1,CB_DRPROC);","purpose#Purpose":"sys.dr_setcb() activates a CB for either DRSELECT processing or for DRPROC processing.","returns#Returns":"0 - Normal\n-1 - No such CB or Not in the DRINIT PCL of a driver.","see-also#See Also":"sys.cb_select()","sysdr_setcb#sys.dr_setcb()":"","usage#Usage":"sys.dr_setcb(cbname,flag);","where-used#Where Used":"sys.dr_setcb() can be called only from the DRINIT state."},"title":"sys.dr_setcb"},"/docs/systempcls/sys-dr_setsel/":{"data":{"":"","arguments#Arguments":"integer - An item idx, absolute linenumber, or one of DR_SELNEXT, DR_SELPREV, DR_SELFIRST, DR_SELLAST, DR_SELCUR, DR_SELALL. Item indexes start at 0, line numbers start at 1.\ninteger - one of DR_SELON, DR_SELOFF, or DR_SELNOCHANGE indicating whether the item should be selected, unselected or left as is. Specifying DR_SELNOCHANGE is useful when specifies DR_SHOW and when data for the item may have changed and needs to be displayed.\ninteger - Optional argument. Currently the flags can be one or more of DR_ABSOLUTE, DR_RELATIVE, DR_SHOW, DR_FOCUS. If DR_ABSOLUTE is indicated then item index is interpreted as an absolute linenumber of the item in the scrolling list. Note that line numbers start at 1, rather than 0. If DR_RELATIVE (the default) is indicated then the item index is interpreted as a relative index into the set of selected items. If DR_SHOW is specified, then 4C will make sure the selected line is visible, scrolling the list up or down if necessary. Only the last call to sys.dr_setsel() with DR_SHOW specified will affect the display. When a single item is specified, DR_FOCUS makes sure that that item has been read and is the item that has the focus.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.dr_setsel() allows you to turn the selection of individual items in a scrolling list on or off. Unless DR_ABSOLUTE is specified 4C works with a set of items that is comprised of the items currently selected when the user pressed an fkey or cmdbtn. Even if you change the selection status of any items in this set, the set itself will not change until another fkey or cmdbtn is pressed by the user.\nRequirements\nDR_FOCUS requires 4cserver version 6.0.6 or later.","example#Example":"The system programs sys.df.maint1, scf.fm, and scp.fm have examples of using sys.dr_setsel().","purpose#Purpose":"sys.dr_setsel() allows you to set the selection on or off for scrolling items.","returns#Returns":"0 - OK\n-1 - Error","see-also#See Also":"sys.dr_selcount() sys.dr_readsel()","sysdr_setsel#sys.dr_setsel()":"","usage#Usage":"sys.dr_setsel(\u003citemidx\u003e,\u003cseltype\u003e[,\u003cselflags\u003e]);","where-used#Where Used":"sys.dr_setsel() is normally used when processing a set of records that the user has selected in order to turn off the selection indicating that the item was processed."},"title":"sys.dr_setsel"},"/docs/systempcls/sys-dr_state/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"You normally won’t need to call this routine since mode is available during fld processing in the sys.mode variable.","description#Description":"sys.dr_state() returns the internal state of the current driver.","example#Example":"if (sys.dr_state() == DR_DISPLAY) return;","purpose#Purpose":"sys.dr_state() returns the internal state of the current driver.","returns#Returns":"ret\nDR_MODIFY - The driver is in fld loop processing in modify mode. DR_DELETE - The driver is in fld loop processing in delete mode. DR_ADD - The driver is in fld loop processing in add mode. DR_DISPLAY - The driver is in fld loop processing in display mode. -1 - No Current Driver Note: Any other value returned \u003e 0 should be of no interest to the application.","see-also#See Also":"sys.mode()","sysdr_state#sys.dr_state()":"","usage#Usage":"ret = sys.dr_state();","where-used#Where Used":"sys.dr_state() is would normally be called somewhere in the field loop processing to determine mode. This may be useful in the SFldLp PCL since sys.mode has not been set yet."},"title":"sys.dr_state"},"/docs/systempcls/sys-dr_update/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"sys.dr_update() requires the 4c server to be at version 5.6.8 or higher.","description#Description":"sys.dr_update() is useful to update fields in a driver temp file that have been dr included in the driver. It does not modify the driver file itself, only the temp file used by the driver.","example#Example":"None","purpose#Purpose":"sys.dr_update() updates the fields in a driver temp file.","returns#Returns":"0 - OK\n-1 - Error","see-also#See Also":"sys.dr_update()","sysdr_update#sys.dr_update()":"","usage#Usage":"sys.dr_update();","where-used#Where Used":"sys.dr_update() can be called by the application any time there is a current 4c driver record."},"title":"sys.dr_update"},"/docs/systempcls/sys-encode_file/":{"data":{"":"","arguments#Arguments":"alpha - the full pathname of the file you are reading unencoded data from.\nalpha - the full pathname of the file you are writing the encoded data to.\ninteger - - This must be one of ENCODE_NONE, ENCODE_BASE16, or ENCODE_BASE64","bugs--features--comments#Bugs / Features / Comments":"Requires version 5.0 or higher of 4csrvr.","description#Description":"sys.encode_file() encodes the using the specified to The is not modified by sys.encode_file.","example#Example":"None","purpose#Purpose":"sys.encode_file() encodes the using the specified to","returns#Returns":"0 - File was encoded successfully.\n\u003c 0 - Some Error","see-also#See Also":"sys.decode_file() sys.encode_text() sys.decode_text()","sysencode_file#sys.encode_file()":"","usage#Usage":"ret = sys.encode_file(\\\u003cfromfilename\\\u003e,\\\u003ctofilename\\\u003e,\\\u003cencodingtype\\\u003e);","where-used#Where Used":"sys.encode_file() can be called from anywhere."},"title":"sys.encode_file"},"/docs/systempcls/sys-encode_text/":{"data":{"":"","arguments#Arguments":"alpha - A 4C alpha field or literal.\ninteger - - This must be one of ENCODE_NONE, ENCODE_BASE16, ENCODE_BASE64, or ENCODE_BASE64URL","bugs--features--comments#Bugs / Features / Comments":"Requires version 5.0 or higher of 4csrvr.","description#Description":"sys.encode_text() encodes the using the specified and returns the result as an alpha variable. The 4C field is not modified by sys.encode_text.","example#Example":"None","purpose#Purpose":"sys.encode_text() encodes the alpha field using the specified and returns the encoded text.","returns#Returns":"\"\" - Some Error\nAny other alpha - was encoded successfully.","see-also#See Also":"sys.encode_file() sys.decode_file() sys.encode_text() sys.decode_text()","sysencode_text#sys.encode_text()":"","usage#Usage":"etext = sys.encode_text(,);","where-used#Where Used":"sys.encode_text() can be called from anywhere."},"title":"sys.encode_text"},"/docs/systempcls/sys-end_cb/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"sys.end_cb() is no different than sys.exit_cb(). In the future, they may be different.","description#Description":"sys.end_cb() exits out of the current CB processing. This means that all PCLs started by the current CB will be exited, and that no new PCLs will be started by the current CB in the CURRENT CB State. sys.end_cb() can be used to exit the CBSGROUP, CBEGROUP, CBSELECT, CBBOF, and CBEOF PCLs. CBBOF/CBSGROUP PCLs and CBEGROUP/CBEOF PCLs act as a group, so when the CBBOF PCL calls sys.end_cb(), none of the CBSGROUP PCLs will be executed on the cur rcd. Likewise, on EOF, when one of the CBEGROUP PCLs calls sys.end_cb(), the CBEOF PCL will not get executed. sys.end_cb() only acts on the current CB. If there are more than one active CB for a driver, calling sys.end_cb() only exits the current CB. All others will still process. There is no difference between sys.end_cb() and sys.exit_cb().","example#Example":"sys.end_cb();","purpose#Purpose":"sys.end_cb() exits out of the current CB processing.","returns#Returns":"0 - Normal\n-1 - No current CB","see-also#See Also":"sys.exit_cb()","sysend_cb#sys.end_cb()":"","usage#Usage":"sys.end_cb();","where-used#Where Used":"sys.end_cb() can be called from any PCL nested within a CB PCL."},"title":"sys.end_cb"},"/docs/systempcls/sys-end_field/":{"data":{"":"","arguments#Arguments":"No args","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.end_field() ends the processing of the current display field. If there is no current display field, then it does nothing and returns -1. If there is an EFldPCL it will be executed. The differences between sys.end_field() and sys.exit_field() are:\nsys.exit_field() allows you to specify the next DFld to be processed. sys.exit_field() will not execute the EFldPCL on the current DFld.","example#Example":"One way sys.end_field() is used is to skip input when certain conditions exist. For this purpose, sys.end_field() would be called from the SFldPCL.","purpose#Purpose":"sys.end_field() ends the processing of the current display field","returns#Returns":"Normally there is no return, since sys.end_field() will exit the current PCL\n-1 - No current DFld","see-also#See Also":"sys.exit_field()","sysend_field#sys.end_field()":"","usage#Usage":"sys.end_field();","where-used#Where Used":"sys.end_field() can be called anytime a display field is being processed."},"title":"sys.end_field"},"/docs/systempcls/sys-end_fldloop/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"4C does not check to see if the program is in a state that allows ending of the field loop. If you are not, the results are unpredictable.","description#Description":"sys.end_fldloop() will end the current iteration of the fld loop. The EFldLp PCL WILL be executed. The current executing PCL and all nested PCLs will terminate without processing any more statements. If the program is a scrolling program in Add, Modify, or Delete mode, then no more iterations will be processed. Control will return to the Epage PCL for Modify mode, and to the Spage PCL for Delete and Add modes. The difference between sys.end_fldloop() and sys.exit_fldloop() is that the EFldlp PCL will be executed for sys.end_fldloop(), and will not be executed for sys.exit_fldloop(). sys.end_fldloop() can be called from the Sfldlp PCL or any Fld PCL. It cannot be called from the Efldlp PCL because it will cause looping. If it is called from any other PCL, the results are unpredictable.","example#Example":"/* End Fld PCL for atype - if atype == 'A' then don't process any more fields The sys.end_fldloop() call causes control to go straight to the Efldlp PCL without processing any more fields. We could also have set sys.next_field = 9999 and then called sys.exit_field(). The only difference would be if this were a scrolling program, then no more iterations would be processed either. */ if (atype == \"A\") sys.end_fldloop();","purpose#Purpose":"sys.end_fldloop() ends the current iteration of fields.","returns#Returns":"0 - sys.end_fldloop() always returns 0.","see-also#See Also":"sys.exit_fldloop() sys.exit_field() sys.end_field() sys.exit_prog() sys.end_prog()","sysend_fldloop#sys.end_fldloop()":"","usage#Usage":"sys.end_fldloop();","where-used#Where Used":"sys.end_fldloop() should only be called somewhere within the 4C fld processing states. This can be anytime after the StartFieldLoop and before the end of the EndFieldLoop."},"title":"sys.end_fldloop"},"/docs/systempcls/sys-end_page/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"There is no check to make sure that the program driver is past the DRSELEOF state.\nWhen sys.dr_endpage() is called from the DRPROC PCL, this rcd will be processed twice and the DRPROC PCL will be run twice on this rcd. It is better to avoid calling sys.dr_endpage() from the DRPROC PCL. Call it from one of the CB PCLS and no PCL will be executed twice for the same rcd.","description#Description":"sys.end_page() is used to change the driver state of the program driver. The next state is set to be ENDPAGE. All current executing PCLs will continue executing until finished. The next action started by the program driver will be to run the EPagePCL. It only makes sense to call this PCL during the DrProcPCL or during the printing of the current record. If called from anywhere else, the driver state does not change.\nIf called from the DrProcPCL, the record will not print on the current logical page. It will print on the next logical page. The DrProcPCL will execute twice for the same record when sys.end_page() is called from there.\nYou may want to call sys.end_page() in order to get your program to print differently than the normal 4C way. This could mean organizing several logical pages on the same page, each with headers, or forcing a page break when some values change or something like that.\nThe only difference between sys.end_page() and sys.exit_page() is that sys.end_page() will execute the EPagePCL before entering the next StartPage driver state. sys.exit_page() does not execute the EPagePCL before entering the StartPage driver state.","example#Example":"if (newcode != oldcode) { sys.end_page(); return; }","purpose#Purpose":"sys.end_page() sets the next driver state of the program driver to be ENDPAGE.","returns#Returns":"0 - Normal return\n-1 - Program is not a scrolling program","see-also#See Also":"sys.exit_page() sys.page()","sysend_page#sys.end_page()":"","usage#Usage":"retcode = sys.end_page(); or\nsys.end_page();","where-used#Where Used":"sys.end_page() can be called only while there is a program driver being processed. The program driver should be past the DRSSELEOF state."},"title":"sys.end_page"},"/docs/systempcls/sys-end_prog/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.end_prog() exits all current processing in the current 4C program. This includes but is not limited to PCLs, drivers, dpy fields. The program will still run the ExitPCL.","example#Example":"None","purpose#Purpose":"sys.end_prog() ends the current 4C program","returns#Returns":"No Returns","see-also#See Also":"sys.exit_prog()","sysend_prog#sys.end_prog()":"","usage#Usage":"sys.end_prog();","where-used#Where Used":"sys.end_prog() can be called from anywhere."},"title":"sys.end_prog"},"/docs/systempcls/sys-end_task/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"No Nested transactions.\nBeware of ENORMOUS log files.\n4C will eventually need to accommodate other file systems that allow transaction processing. A new more general call will probably replace sys.end_task().","description#Description":"sys.end_task() ends a CISAM transaction. sys.end_task() calls iscommit(). You should read and understand the iscommit() documentation in the CISAM manuals.","example#Example":"None","purpose#Purpose":"sys.end_task() ends a CISAM transaction.","returns#Returns":"ret\n0 - OK\n-1 - CISAM Not Available or CISAM ERROR\nFor CISAM errors, a message has been displayed including the CISAM errno.","see-also#See Also":"sys.open_log() sys.close_log() sys.start_task() sys.abort_task()","sysend_task#sys.end_task()":"","usage#Usage":"ret = sys.end_task();","where-used#Where Used":"sys.end_task() can be called from anywhere as long as a CISAM task is in progress."},"title":"sys.end_task"},"/docs/systempcls/sys-err_msg/":{"data":{"":"","arguments#Arguments":"AnyType - arg1,arg2,…,arg15 - The parts of the msg","bugs--features--comments#Bugs / Features / Comments":"sys.msg() is obsolete. Use sys.message() instead.","description#Description":"sys.msg() displays a message on in the status area and does not wait for any user response.\nRequirements\n4CServer version 5.0.6-05 or higher is required for using non alpha arguments","example#Example":"sys.msg(\"Processing...\",sys.pr_name);","purpose#Purpose":"sys.err_msg() - Displays an status message","returns#Returns":"None","see-also#See Also":"sys.message() sys.err_msg()","syserr_msg#sys.err_msg()":"","usage#Usage":"sys.msg([Arg1-Arg15]);","where-used#Where Used":"sys.msg() can be called from anywhere."},"title":"sys.err_msg"},"/docs/systempcls/sys-exec_prog/":{"data":{"":"","arguments#Arguments":"alpha - The name of the program to run.\nalpha , , …, - 0-15 optional alpha args that have meaning to the called program.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.exec_prog() starts a program that runs in place of the currently running program. sys.exec_prog() is similar to sys.link_prog() because the execed program runs on the same level as the current program. The differences are that with sys.exec_prog(), control never returns to the current program. sys.exec_prog() can be used to restart the current program.","example#Example":"None","purpose#Purpose":"sys.exec_prog() starts a new program in place of the current program.","returns#Returns":"If successful, control never returns to calling program.\n-1 - Err - Could not run program.","see-also#See Also":"sys.push_prog() sys.link_prog()","sysexec_prog#sys.exec_prog()":"","usage#Usage":"sys.exec_prog(\u003cprogname\u003e[,\u003carg1\u003e-\u003carg15\u003e]); ret = sys.exec_prog(\u003cprogname\u003e [,\u003carg1\u003e [,..., [\u003carg15\u003e]]]);","where-used#Where Used":"sys.exec_prog() can be called from anywhere."},"title":"sys.exec_prog"},"/docs/systempcls/sys-exit_4c/":{"data":{"":"","arguments#Arguments":"integer exitcode;\nexitcode is the exit code of 4C. If this code is non-zero, 4C will rollback any uncommitted transactions.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.exit_4c() gracefully exits 4C. The code passed to sys.exit_4c() can be used to force commit or rollback of uncommitted transactions. This PCL was implemented so that programs used to catch timeouts could gracefully exit 4C.","example#Example":"sys.exit_4c(1);","purpose#Purpose":"sys.exit_4c() gracefully exits 4C.","returns#Returns":"There is no return from sys.exit_4c();","see-also#See Also":"sys.exit_client()","sysexit_4c#sys.exit_4c()":"","usage#Usage":"sys.exit_4c(\u003cexitcode\u003e);","where-used#Where Used":"sys.exit_4c() can be called from anywhere but probably will be called from a program used to catch timeouts."},"title":"sys.exit_4c"},"/docs/systempcls/sys-exit_cb/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"sys.exit_cb() is no different than sys.end_cb(). In the future, they may be different.","description#Description":"sys.exit_cb() exits out of the current CB processing. This means that all PCLs started by the current CB will be exited, and that no new PCLs will be started by the current CB in the CURRENT CB State. sys.exit_cb() can be used to exit the CBSGROUP, CBEGROUP, CBSELECT, CBBOF, and CBEOF PCLs. CBBOF/CBSGROUP PCLs and CBEGROUP/CBEOF PCLs act as a group, so when the CBBOF PCL calls sys.exit_cb(), none of the CBSGROUP PCLs will be executed on the cur rcd. Likewise, on EOF, when one of the CBEGROUP PCLs calls sys.exit_cb(), the CBEOF PCL will not get executed. sys.exit_cb() only acts on the current CB. If there are more than one active CB for a driver, calling sys.exit_cb() only exits the current CB. All others will still process. There is no difference between sys.exit_cb() and sys.end_cb().","example#Example":"sys.exit_cb();","purpose#Purpose":"sys.exit_cb() exits out of the current CB processing.","returns#Returns":"0 - Normal\n-1 - No current CB","see-also#See Also":"sys.end_cb()","sysexit_cb#sys.exit_cb()":"","usage#Usage":"sys.exit_cb();","where-used#Where Used":"sys.exit_cb() can be called from any PCL nested within a CB PCL."},"title":"sys.exit_cb"},"/docs/systempcls/sys-exit_client/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.exit_client() gracefully exits the 4C client. Exiting the client will not immediately exit the server if the server is running a long update or report. The ContinueWork option in _4CSRVRCONFIG needs to be set to True to allow the 4csrvr to keep working on client exit. If it is not set to true, then the 4csrvr will also exit when the client exits. The 4csrvr will eventually exit after a client disconnect when it has no more work to do.","example#Example":"The lockws.1 program in the demo application calls sys.exit_client() when a client timeout is caught and the client has been idle longer than dc_clexitafter value specified in the demo_config file.","purpose#Purpose":"sys.exit_client() gracefully exits the 4C client.","returns#Returns":"None","see-also#See Also":"sys.exit_4c() sys.lock_clientws() sys.flash_window()","sysexit_client#sys.exit_client()":"","usage#Usage":"sys.exit_client();","where-used#Where Used":"sys.exit_client() can be called from anywhere but probably will be called from a program used to catch client timeouts."},"title":"sys.exit_client"},"/docs/systempcls/sys-exit_field/":{"data":{"":"","arguments#Arguments":"integer - The index of the display field to process next.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.exit_field() exits the processing of the current display field. If there is no current display field, then it does nothing and returns. If you pass as an argument, then the specified DFld will be the next one to process. If no is passed, then the next field to process will be the next one defined in the program. -1. If there is an EFldPCL it will not be executed. The differences between sys.exit_field() and sys.end_field() are:\nsys.exit_field() allows you to specify the next DFld to be processed. sys.exit_field() will not execute the EFldPCL on the current DFld.","example#Example":"One way sys.exit_field() is used is to skip processing of a dfld when certain conditions exist. For this purpose, sys.exit_field() would be called from the SFldPCL.","purpose#Purpose":"sys.exit_field() exits the processing of the current display field","returns#Returns":"Normally there is no return, since sys.exit_field() will exit the current PCL\n-1 - No current DFld","see-also#See Also":"sys.exit_field()","sysexit_field#sys.exit_field()":"","usage#Usage":"sys.exit_field([\u003cdfldidx\u003e]);","where-used#Where Used":"sys.exit_field() can be called anytime a display field is being processed."},"title":"sys.exit_field"},"/docs/systempcls/sys-exit_fldloop/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"4C does not check to see if the program is in a state that allows exiting of the field loop. If you are not, the results are unpredictable.","description#Description":"sys.exit_fldloop() will exit the current iteration of the fld loop. The EFldLp PCL will NOT be executed. The current executing PCL and all nested PCLs will terminate without processing any more statements. If the program is a scrolling program in Add, Modify, or Delete mode, then no more iterations will be processed. Control will return to the Epage PCL for Modify mode, and to the Spage PCL for Delete and Add modes. The difference between sys.exit_fldloop and sys.end_fldloop() is that the EFldlp PCL will be executed for sys.end_fldloop(), and will not be executed for sys.exit_fldloop(). sys.exit_fldloop() can be called from the Sfldlp PCL, Efldlp PCL, or any Fld PCL. If it is called from any other PCL, the results are unpredictable.","example#Example":"/* End Fld Loop PCL - Update Files and for Add mode, only allow Add of one record This call is necessary since 4C will keep adding records until user cancels or accepts on first field. The sys.exit_fldloop() call will prevent any more rows of records from being added. Also, no statements following the call the sys.exit_fldloop() will be executed. */ sys.upd_file(myfile); if (sys.mode == \"Add\") sys.exit_fldloop();","purpose#Purpose":"sys.exit_fldloop() exits the current iteration of fields.","returns#Returns":"0 - sys.exit_fldloop() always returns 0.","see-also#See Also":"sys.end_fldloop() sys.exit_field() sys.end_field() sys.exit_prog() sys.end_prog()","sysexit_fldloop#sys.exit_fldloop()":"","usage#Usage":"sys.exit_fldloop();","where-used#Where Used":"sys.exit_fldloop() should only be called somewhere within the 4C fld processing states. This can be anytime after the StartFieldLoop and before the end of the EndFieldLoop."},"title":"sys.exit_fldloop"},"/docs/systempcls/sys-exit_layout/":{"data":{"":"","arguments#Arguments":"This PCL takes no arguments.","bugs--features--comments#Bugs / Features / Comments":"Programs exited using sys.exit_layout() will have an exit code of -3.","description#Description":"sys.exit_layout() exits all programs in the same layout as the current ScreenProg. If the current program is not a ScreenProg, then sys.exit_layout() returns -1.","example#Example":"None","purpose#Purpose":"sys.exit_layout() exits all programs in the current layout.","returns#Returns":"0 - OK\n-1 - Current program is not a screen program.","see-also#See Also":"sys.exit_prog() sys.end_prog()","sysexit_layout#sys.exit_layout()":"","usage#Usage":"sys.exit_layout();","where-used#Where Used":"sys.exit_layout() can be called from a ScreenProg only."},"title":"sys.exit_layout"},"/docs/systempcls/sys-exit_page/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"There is no check to make sure that the program driver is past the DRSELEOF state.\nWhen sys.dr_exitpage() is called from the DRPROC PCL, this rcd will be processed twice and the DRPROC PCL will be run twice on this rcd. It is better to avoid calling sys.dr_exitpage() from the DRPROC PCL. Call it from one of the CB PCLS and no PCL will be executed twice for the same rcd.","description#Description":"sys.exit_page() is used to change the driver state of the program driver. The next state is set to be STARTPAGE. All current executing PCLs will continue executing until finished. The next action started by the program driver will be to run the SPagePCL. It only makes sense to call this PCL during the DrProcPCL or during the printing of the current record. If called from anywhere else, the driver state does not change.\nIf called from the DrProcPCL, the record will not print on the current logical page. It will print on the next logical page. The DrProcPCL will execute twice for the same record when sys.exit_page() is called from there.\nYou may want to call sys.exit_page() in order to get your program to print differently than the normal 4C way. This could mean organizing several logical pages on the same page, each with headers, or forcing a page break when some values change or something like that.\nThe only difference between sys.end_page() and sys.exit_page() is that sys.end_page() will execute the EPagePCL before entering the next StartPage driver state. sys.exit_page() does not execute the EPagePCL before entering the StartPage driver state.","example#Example":"if (newcode != oldcode) { sys.exit_page(); return; }","purpose#Purpose":"sys.exit_page() sets the next driver state of the program driver to be STARTPAGE.","returns#Returns":"0 - Normal return\n-1 - Program is not a scrolling program","see-also#See Also":"sys.end_page()","sysexit_page#sys.exit_page()":"","usage#Usage":"retcode = sys.exit_page(); or\nsys.exit_page();","where-used#Where Used":"sys.exit_page() can be called only while there is a program driver being processed. The program driver should be past the DRSSELEOF state."},"title":"sys.exit_page"},"/docs/systempcls/sys-exit_prog/":{"data":{"":"","arguments#Arguments":"integer - The value to set into $wexit_code","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.exit_prog() ends all processing in the current program, and sets $wexit_code to","example#Example":"None","purpose#Purpose":"sys.exit_prog() exits the current program.","returns#Returns":"No Returns","see-also#See Also":"sys.end_prog()","sysexit_prog#sys.exit_prog()":"","usage#Usage":"sys.exit_prog(\u003cexitcode\u003e);","where-used#Where Used":"sys.exit_prog() can be called from anywhere."},"title":"sys.exit_prog"},"/docs/systempcls/sys-expand/":{"data":{"":"","arguments#Arguments":"alpha - The alpha var to expand.","bugs--features--comments#Bugs / Features / Comments":"The env parts of a string must be indicated with the ${VAR} notation.","description#Description":"sys.expand() expands the env vars in a string and returns the expanded string.","example#Example":"str = sys.expand(\"${XLEXP}/sys.file_hdr.xl\");","purpose#Purpose":"sys.expand() expands the env vars in a string and returns the expanded string.","returns#Returns":"alpha aret - The expanded string.","see-also#See Also":"sys.cbp_exit() sys.char_val()","sysexpand#sys.expand()":"","usage#Usage":"aret = sys.expand();","where-used#Where Used":"sys.expand() can be called from anywhere."},"title":"sys.expand"},"/docs/systempcls/sys-ext_filename/":{"data":{"":"","arguments#Arguments":"alpha - Optional asprog name of the program to find in. The default is the current program.\nasfile - The 4c asfile to use.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.ext_filename() returns the external name of a 4c file. If the file is open and the file is a filesystem file, the path returned will normally be a full pathname to the file. If the file has not been opened yet, then the path returned will be the external name defined in the 4c file definition for the file.","example#Example":"None","purpose#Purpose":"sys.ext_filename() returns the external name of a 4c file","returns#Returns":"alpha - The external filename of the file","see-also#See Also":"sys.open_file() sys.set_extfname()","sysext_filename#sys.ext_filename()":"","usage#Usage":"fullpath = sys.ext_filename([ \u003casprog\u003e, ] \u003casfile\u003e)","where-used#Where Used":"sys.ext_filename() can be called from anywhere."},"title":"sys.ext_filename"},"/docs/systempcls/sys-field_wasinp/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.field_wasinp() allows the user program to determine if the current field allowed input or not. Mainly it is used to know whether a field did not allow input because of forward tabbing, column modify mode, or end of data. It is useful in determining whether other programs should be pushed or not.\nIt should only be called from the FldEfld PCL of any field.\nsys.field_wasinp() does not indicate what the user may have input, only that input was allowed. The user could have entered or a function key, and the return will still be 1.","example#Example":"/* This is an example from the bootstrap program sys.df.maint1 End field PCL for sys.df_litflag If no input was allowed on this field, do not push the lit maint program */ if (sys.field_wasinp() == 0) return; sys.push_prog(\"sys.dflit.maint\");","purpose#Purpose":"sys.field_wasinp() indicates whether the current field allowed input from the user or not.","returns#Returns":"0 - Current field did not allow input for some reason.\nThis could be because sys.end_field() was called from the FldSfld PCL, the field is display only, Accept was entered on a field preceding this field, Ftab was entered on a field preceding this field, or a scrolling program is in column modify mode on a different field.\n1 - The current field allowed input\nThis does not necessarily mean that anything was input, only that the user was prompted for input. The user could have entered only and the return will still be 1.\n-1 - There is no current field.","see-also#See Also":"sys.end_field() sys.exit_field() sys.stop_tab()","sysfield_wasinp#sys.field_wasinp()":"","usage#Usage":"if (sys.field_wasinp()) dosomething();","where-used#Where Used":"sys.field_wasinp() can be called only during FIELD processing."},"title":"sys.field_wasinp"},"/docs/systempcls/sys-file_op/":{"data":{"":"","arguments#Arguments":"- One of\nFOP_COPY FOP_MOVE FOP_RENAME FOP_DELETE FOP_CREATEDIR FOP_CREATEFILE FOP_DELETEDIR FOP_DELETEFILE FOP_TESTEXIST FOP_TESTDIR FOP_TESTFILE FOP_TESTDIREMPTY FOP_TRUNCATE FOP_SIZE32 - Any combination of\nFOP_DEFAULT FOP_CLIENT - Specify this in order to manipulate files on the client PC. FOP_SILENT FOP_VERBOSE FOP_FORCE FOP_RECURSIVE ,… - One or more file/directory paths. The meaning and correct number of path arguments depends on .","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.file_op() allows the application to manipulate files on either the client or the server in a platform independent manner. The commands available and they way they operate are\nFOP_COPY - Copy one or more files to another file or directory. Requires at least 2 args. If more than 2 args are specified, then the last one must be an existing directory. Returns 0 if copy succeeded, -1 otherwise. FOP_MOVE - Requires at least 2 args. If more than 2 args are specified, then the last one must be an existing directory. Returns 0 if move succeeded, -1 otherwise. FOP_RENAME - Rename a file or directory. Requires exactly 2 args. Returns 0 if rename succeeded, -1 otherwise. FOP_DELETE - Delete one or more files/directories. Allows any number of args up to maximum of 14. If deleting a directory, then it must be empty unless the FOP_RECURSIVE flage is set. Returns 0 if delete succeeds, -1 otherwise. FOP_CREATEDIR - Create a single directory. Requires exactly one arg. If does not exist it is created as a directory. If FOP_FORCE is specified is recursively removed before attempting the create. Any needed higher level directories will be created as well. Returns 0 if create succeeds, -1 otherwise. FOP_CREATEFILE - Create a single file. Requires exactly one arg. If does not exist it is created as an empty file. If FOP_FORCE is specified is recursively removed before attempting the create. Any needed higher level directories will be created as well. Returns 0 if create succeeds, -1 otherwise. FOP_DELETEDIR - Delete directory. Requires exactly one arg. Returns 0 if delete succeeds, -1 otherwise. FOP_DELETEFILE - Delete file. Requires exactly one arg. Returns 0 if delete succeeds, -1 otherwise. FOP_TESTEXIST - Test for existence of . Requires exactly one arg. may be an existing file or directory. Return 0 if does not exist, 1 if it does, and -1 for error. FOP_TESTDIR - Test for existence of directory. Requires exactly one arg. Return 0 if does not exist, 1 if it does exist and is a directory, -1 for error. FOP_TESTFILE - Test for existence of file. Requires exactly one arg. Return 0 if does not exist, 1 if it does exist and is a file, -1 for error. FOP_TESTDIREMPTY - Test if is an empty directory. Requires exactly one arg. Return 0 if is a non empty directory, 1 if is an empty diretory, -1 for error. FOP_TRUNCATE - Truncate . Requires exactly one arg. must be an existing file. Return 0 if file truncated successfully, -1 for error. FOP_SIZE32 - Return size of . Requires exactly one arg. must be an existing file. Return the file size if file is accesible and size is \u003c= 2,147,483,647, -1 for error, FOP_SIZE32_OVERFLOW if the filesize is \u003e 2,147,483,647. Any of the arguments can be an environment variable that is expanded on the target machine before executing the operation. Use the ${ENVVAR} syntax to specify an envvar for a .\narguments can also use the special ‘*’ character to indicate multiple filenames.\nWhen sys.file_op() returns -1, sys.errno() may be set to any of the following:\nFC_CMD_ERR - Invalid . FC_ARG_ERR - Invalid number of arguments. FC_FILENF_ERR - One of should exist, but doesn’t. FC_FILEPERM_ERR - At least one of could not be accessed due to permissions. FC_ISDIR_ERR - At least one of should not exist as a directory, but does. FC_NOTDIR_ERR - At least one of should exist as a directory, but doesn’t. FC_NOTEMPTY_ERR - At least one of is a directory that should be empty but is not. FC_NFILE_ERR - Too many open files. FC_FILEEXISTS_ERR - At least one of should not exist but does. FC_UNKNOWN_ERR - Unknown error.","example#Example":"The demo.fileop.1 program in the demo application shows how to use sys.file_op().","purpose#Purpose":"sys.file_op() allows you to manipulate files on both the client and the server in a platform independent manner.","returns#Returns":"integer - 0 - OK, No Error/False 1 - No Error/True \u003c 0 - Error, and sys.errno will be set appropriately.","see-also#See Also":"sys.errno()","sysfile_op#sys.file_op()":"","usage#Usage":"ret = sys.file_op(\u003ccmd\u003e,\u003cflags\u003e,\u003cpath1\u003e[,\u003cpath2\u003e]...);","where-used#Where Used":"sys.file_op() can be called from anywhere."},"title":"sys.file_op"},"/docs/systempcls/sys-fl_getoption/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to get the option for\nalpha - The option name to get the value for. Current supported options are “Filename”, “AsFile”, “AsFileName”, “ExtName”, “ExtType”, “AccType”, and “AccessType”.\n“AsFile” and “AsFileName” are synonyms.\n“AccessType” and “AccType” are synonyms.\nis case insensitive so specifying “ExtName” is equivalent to “extname”","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.fl_getoption() allows the application to get the current value of some application settable file options. The options currently supported are\n“Filename” - Returns the alpha 4C filename of the file. This is equivalent to calling sys.get_filename().\n“AsFile” or “AsFileName” - returns the AsFile name of the file. This is equivalent to calling sys.get_asfile().\n“ExtType” - For an External file this will return the ExtType of that file. If is not External, \"\" is returned and sys_ret is set to SYSRET_ERROR.\n“ExtName” - This will return the external filename of the file if it has been set. It may return \"\" if the file definition does not specify an external name, the application has not explicitly set it, and the file has not been opened by the program yet.\n“AccType” or “AccessType” - Returns the access type of the file. Currently, one of the following is always returned\n\"4C\" \"CISAM\" \"FixSeq\" \"VarSeq\" \"JISAM64\" \"External\" \"Binary\" The 4C AccessType is also known as JISAM32","example#Example":"None","purpose#Purpose":"sys.fl_getoption() returns the value of the requested file option.","returns#Returns":"alpha - A string representing the current value of . When \"\" is returned, you need to check sys_ret to determine if it is an error or not.","see-also#See Also":"sys.fl_setoption() sys.set_exttype() sys.set_extfname() sys.fl_getoption() sys.get_exttype() sys.ext_filename()","sysfl_getoption#sys.fl_getoption()":"","usage#Usage":"aval = sys.fl_getoption(\u003casfile\u003e,\u003coptname\u003e);","where-used#Where Used":"sys.fl_getoption() can be called from anywhere."},"title":"sys.fl_getoption"},"/docs/systempcls/sys-fl_getval/":{"data":{"":"","arguments#Arguments":"asfile - The asfile associated with the filevar. integer - The index of the field in . Normally, the CDefine of a field in will be used.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"When working with dynamic files, you cannot reference fields by name. In order to access fields in a dynamic file, you can use sys.fl_getval() and sys.fl_setval(). sys.fl_getval() formats the filevar using the format defined in the data dictionary and returns this formatted alpha.","example#Example":"None","purpose#Purpose":"sys.fl_getval() returns an alpha representation of a single file variable.","returns#Returns":"\"\" - If sys_ret != SYSRET_OK, then this is an error. Either invalid or invalid . If sys_ret == SYSRET_OK, then this is a valid return.\nAny other alpha - The formatted filevar","see-also#See Also":"sys.fl_setval() sys.get_dfile()","sysfl_getval#sys.fl_getval()":"","usage#Usage":"\u003cavar\u003e = sys.fl_getval(\u003casfile\u003e,\u003cfldidx\u003e);","where-used#Where Used":"sys.fl_getval() can be called from anywhere."},"title":"sys.fl_getval"},"/docs/systempcls/sys-fl_restore/":{"data":{"":"","arguments#Arguments":"alpha - An optional name that identifies a previous save. asfile - The asfile with previously saved fields to restore fields to. integer - Optional start fld idx in to restore. integer - Optional end fld idx in to restore.","bugs--features--comments#Bugs / Features / Comments":"Restoring fld values that haven’t been previously saved using sys.fl_save() is not flagged as an error.","description#Description":"sys.fl_restore() can be used to restore previously saved values of fields from a single asfile back to the same asfile.\nRequirements: sys.fl_save() Requires version 5.2 or higher 4C Server.","example#Example":"None","purpose#Purpose":"sys.fl_restore() - restore one or more fields for 1 asfile from a previously saved value.","returns#Returns":"0 - File Variables restored to previously saved values. -1 - Invalid .","see-also#See Also":"sys.fl_restore() sys.restore_share() sys.get_saveval()","sysfl_restore#sys.fl_restore()":"","usage#Usage":"ret = sys.fl_restore([\u003cname\u003e,]\u003casfile\u003e [,\u003csfldidx\u003e [,\u003cefldidx\u003e]);","where-used#Where Used":"sys.fl_restore() can be called from anywhere."},"title":"sys.fl_restore"},"/docs/systempcls/sys-fl_save/":{"data":{"":"","arguments#Arguments":"alpha - An optional name to identify the save. asfile - The asfile to save fields from integer - Optional start fld idx in to save. integer - Optional end fld idx in to save.","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"sys.fl_save() allows you to save current values of file variables in system buffers so that they may be restored to the values when saved as needed. Multiple calls to sys.fl_save() using the same and will overwrite any previously saved values for that combination of and . Specifying allows one program to save multiple values from same and access any of the saved values later. If no argument is specified, “Default” is used.\nRequirements\nsys.fl_save() Requires version 5.2 or higher 4C Server.","example#Example":"None","purpose#Purpose":"None","returns#Returns":"0 - File Variables Saved -1 - Invalid","see-also#See Also":"sys.fl_restore() sys.restore_share() sys.get_saveval()","sysfl_save#sys.fl_save()":"","usage#Usage":"ret = sys.fl_save([\u003cname\u003e,] \u003casfile\u003e [,\u003csfldidx\u003e [,\u003cefldidx\u003e]);","where-used#Where Used":"sys.fl_save() can be called from anywhere."},"title":"sys.fl_save"},"/docs/systempcls/sys-fl_setoption/":{"data":{"":"","arguments#Arguments":"- The asfile that is having the options set. - The options being set. Current supported options are “ExtName”, “ExtType”, “AccType”, and “AccessType”. “AccessType” and “AccType” are synonyms. - The value the option should be set to. See the description below for valid values of for each .","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.fl_setoption() allows the application to set one or more file options at runtime. Option names and values are specified as pairs that are either individual arguments such as “name1”,“val1”,“name2”,“val2” or combined like “name1=val1”,“name2=val2”, etc.\nIf is currently open, it is first closed by sys.fl_setoption() even if no options end up being set.\nCurrent options that are modifiable by the application in at least some scenarios are:\n“ExtName” - This is the external name for the file. It is settable for all file access types under all circumstances and is equivalent to the sys.set_extfname() SysPCL. It is ok to set this to the empty string which will cause the file to use its default external name. “AccType” or “AccessType” - The access type of a file can only be changed to one of “4C”, “JISAM64”, or “External” and only if the current access type is also one of those types. Trying to change the access type of a “FixSeq”, “VarSeq”, or “CISAM” file is not supported. “ExtType” - You can change the ExtType of External files only. If you are changing a non-external access type file to an external access type and want to set the ExtType also, you must change the access type to external first, either in the same call to sys.fl_setoption() or in an earlier call. Setting the ExtType of a file in sys.fl_setoption() is equivalent to calling sys.set_exttype(, ).","example#Example":"None","purpose#Purpose":"sys.fl_setoption() allows the application to set one or more file options at runtime.","returns#Returns":"integer - The number of options actually set is returned. The number of invalid options is returned in sys_ret. If no options were set, -1 is returned and sys_ret is set to SYSRET_ERROR.","see-also#See Also":"sys.fl_setoption() sys.set_extfname() sys.set_exttype() sys.fl_getoption() sys.get_exttype() sys.ext_filename()","sysfl_setoption#sys.fl_setoption()":"","usage#Usage":"ret = sys.fl_setoption(\u003casfile\u003e,\u003coptname\u003e, \u003coptval\u003e [,\u003coptname\u003e, \u003coptval\u003e ...]; or ret = sys.fl_setoption(\u003casfile\u003e,\u003coptname=optval\u003e [,\u003coptname=optval\u003e ...];","where-used#Where Used":"sys.fl_setoption() can be called from anywhere."},"title":"sys.fl_setoption"},"/docs/systempcls/sys-fl_setval/":{"data":{"":"","arguments#Arguments":"asfile - The asfile associated with the file variable you are setting.\ninteger - The idx of the fld in . Normally, you will use the CDEFINE for the fld.\nalpha - The value to convert and store into the file variable.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.fl_setval() converts to the appropriate datatype and stores it into the file variable associated with and . This can be useful in situations where you cannot reference a file variable simply by name as in the case of dynamic files.","example#Example":"The global system PCL sys.rcd_exists() has an example of using sys.fl_setval().","purpose#Purpose":"sys.fl_setval() - Converts an alpha to the appropriate datatype and stores it in a file variable.","returns#Returns":"-1 - Error - Invalid or 0 - File var set OK","see-also#See Also":"sys.fl_getval() sys.get_dfile()","sysfl_setval#sys.fl_setval()":"","usage#Usage":"ret = sys.fl_setval(\u003casfile\u003e,\u003cfldidx\u003e,\u003caval\u003e);","where-used#Where Used":"sys.fl_setval() can be called from anywhere."},"title":"sys.fl_setval"},"/docs/systempcls/sys-flash_window/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.flash_window() flashes the current 4C window on the client workstation. If the client is working in another application, the 4C window will flash in the taskbar.","example#Example":"When the demo application catches a client timeout, the lockws.1 program uses sys.flash_window() while it is counting down the amount of time before it locks the workstation.\nWhen the demo application catches a server timeout, the lockscreen.warn program uses sys.flash_window() while it is counting down the amount of time before it locks the demo application.","purpose#Purpose":"sys.flash_window() flashes the current 4C window on the client.","returns#Returns":"0 - OK\n-1 - Client version \u003c 4.4.8","see-also#See Also":"sys.exit_client() sys.lock_clientws()","sysflash_window#sys.flash_window()":"","usage#Usage":"sys.flash_window();","where-used#Where Used":"sys.flash_window() should only be used when you need to get the users attention. A program that is planning to lock the application or the client workstation after a short waiting period is a good example of where sys.flash_window() is necessary."},"title":"sys.flash_window"},"/docs/systempcls/sys-flush/":{"data":{"":"","arguments#Arguments":"NONE","bugs--features--comments#Bugs / Features / Comments":"Currently unimplemented with Sequential Files","description#Description":"sys.flush() flushes ALL files and calls sync().","example#Example":"None","purpose#Purpose":"sys.flush() flushes ALL files and calls sync().","returns#Returns":"NONE","see-also#See Also":"None","sysflush#sys.flush()":"","usage#Usage":"sys.flush();","where-used#Where Used":"sys.flush() can be called from anywhere."},"title":"sys.flush"},"/docs/systempcls/sys-fmt_alpha/":{"data":{"":"","arguments#Arguments":"alpha - The alpha value to format.\nalpha - A valid format for an alpha variable.","bugs--features--comments#Bugs / Features / Comments":"It’s difficult to tell if you passed in an invalid format, though if you do, the application will probably display an error message at runtime.","description#Description":"sys.fmt_alpha() formats an alpha variable using the passed in format. It stores the formatted value in . is not changed by sys.fmt_alpha().","example#Example":"ssno = \"123456789\"; dpyval = sys.fmt_alpha(ssno,\"999-99-9999\");","purpose#Purpose":"sys.fmt_alpha() formats an alpha variable","returns#Returns":"alpha - The formatted value.","see-also#See Also":"sys.fmt_field() atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","sysfmt_alpha#sys.fmt_alpha()":"","usage#Usage":"aret = sys.fmt_alpha(,);","where-used#Where Used":"sys.fmt_alpha() can be called from anywhere."},"title":"sys.fmt_alpha"},"/docs/systempcls/sys-fmt_choice/":{"data":{"":"","arguments#Arguments":"alpha - The alpha value to format.\nalpha - A valid format for a choice variable.","bugs--features--comments#Bugs / Features / Comments":"It’s difficult to tell if you passed in an invalid format, though if you do, the application will probably display an error message at runtime.","description#Description":"sys.fmt_choice() formats a choice variable using the passed in format. It stores the formatted value in . is not changed by sys.fmt_choice().","example#Example":"ans = 'y' dpyval = sys.fmt_choice(ans,\"Yes:No\");","purpose#Purpose":"sys.fmt_choice() formats an choice variable","returns#Returns":"alpha - The formatted value.","see-also#See Also":"sys.fmt_field() atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","sysfmt_choice#sys.fmt_choice()":"","usage#Usage":"aret = sys.fmt_choice(,);","where-used#Where Used":"sys.fmt_choice() can be called from anywhere."},"title":"sys.fmt_choice"},"/docs/systempcls/sys-fmt_date/":{"data":{"":"","arguments#Arguments":"date - The date value to format.\nalpha - A valid format for a date variable.","bugs--features--comments#Bugs / Features / Comments":"It’s difficult to tell if you passed in an invalid format, though if you do, the application will probably display an error message at runtime.","description#Description":"sys.fmt_date() formats a date variable using the passed in format. It stores the formatted value in . is not changed by sys.fmt_date().","example#Example":"dt = atodate(\"01/01/1970\"); dpyval = sys.fmt_date(dt,\"mm/dd/yyyy\");","purpose#Purpose":"sys.fmt_date() formats a date variable","returns#Returns":"alpha - The formatted value.","see-also#See Also":"sys.fmt_field() atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","sysfmt_date#sys.fmt_date()":"","usage#Usage":"aret = sys.fmt_date(,);","where-used#Where Used":"sys.fmt_date() can be called from anywhere."},"title":"sys.fmt_date"},"/docs/systempcls/sys-fmt_field/":{"data":{"":"","arguments#Arguments":"AnyType - Any field of any data type defined in the program.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.fmt_field() returns the formatted field, using the default display format for the field. There are no error returns.","example#Example":"None","purpose#Purpose":"sys.fmt_field() returns a formatted field.","returns#Returns":"alpha - The formatted value of .","see-also#See Also":"sys.fmt_field() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","sysfmt_field#sys.fmt_field()":"","usage#Usage":"aval = sys.fmt_field();","where-used#Where Used":"sys.fmt_field() can be called from anywhere."},"title":"sys.fmt_field"},"/docs/systempcls/sys-fmt_float/":{"data":{"":"","arguments#Arguments":"float - The float value to format.\nalpha - A valid format for a float variable.","bugs--features--comments#Bugs / Features / Comments":"It’s difficult to tell if you passed in an invalid format, though if you do, the application will probably display an error message at runtime.","description#Description":"sys.fmt_float() formats a float variable using the passed in format. It stores the formatted value in . is not changed by sys.fmt_float().","example#Example":"fval = 129.23; dpyval = `sys.fmt_float`(fval,\"\u003e\u003e\u003e,\u003e\u003e9.99-\");","purpose#Purpose":"sys.fmt_float() formats a float variable","returns#Returns":"alpha - The formatted value.","see-also#See Also":"sys.fmt_field() atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","sysfmt_float#sys.fmt_float()":"","usage#Usage":"aret = sys.fmt_float(,);","where-used#Where Used":"sys.fmt_float() can be called from anywhere."},"title":"sys.fmt_float"},"/docs/systempcls/sys-fmt_integer/":{"data":{"":"","arguments#Arguments":"integer - The integer value to format.\nalpha - A valid format for a integer variable.","bugs--features--comments#Bugs / Features / Comments":"It’s difficult to tell if you passed in an invalid format, though if you do, the application will probably display an error message at runtime.","description#Description":"sys.fmt_integer() formats a integer variable using the passed in format. It stores the formatted value in . is not changed by sys.fmt_integer().","example#Example":"ival = -129; dpyval = sys.fmt_integer(ival,\"\u003e\u003e\u003e,\u003e\u003e9-\");","purpose#Purpose":"sys.fmt_integer() formats a integer variable","returns#Returns":"alpha - The formatted value.","see-also#See Also":"sys.fmt_field() atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","sysfmt_integer#sys.fmt_integer()":"","usage#Usage":"aret = sys.fmt_integer(,);","where-used#Where Used":"sys.fmt_integer() can be called from anywhere."},"title":"sys.fmt_integer"},"/docs/systempcls/sys-fmt_time/":{"data":{"":"","arguments#Arguments":"time - The time value to format.\nalpha - A valid format for a time variable.","bugs--features--comments#Bugs / Features / Comments":"It’s difficult to tell if you passed in an invalid format, though if you do, the application will probably display an error message at runtime.","description#Description":"sys.fmt_time() formats a time variable using the passed in format. It stores the formatted value in . is not changed by sys.fmt_time().","example#Example":"tm = (14 * 60 * 60) + (32 * 60) + 24; dpyval = sys.fmt_time(tm,\"HH:mm:ss\");","purpose#Purpose":"sys.fmt_time() formats a time variable","returns#Returns":"alpha - The formatted value.","see-also#See Also":"sys.fmt_field() atodate() atoi() atof() ftoa() itoa() sys.fmt_alpha() sys.fmt_choice() sys.fmt_date() sys.fmt_float() sys.fmt_integer() sys.fmt_time()","sysfmt_time#sys.fmt_time()":"","usage#Usage":"aret = sys.fmt_time(,);","where-used#Where Used":"sys.fmt_time() can be called from anywhere."},"title":"sys.fmt_time"},"/docs/systempcls/sys-get_adfval/":{"data":{"":"","arguments#Arguments":"- The label for the field. This is an integer from 0 to num display fields - 1. sys.cur_field may be used.","bugs--features--comments#Bugs / Features / Comments":"It is impossible to tell if a blank return means an error or if the value of the field really is blank. However, the only errors are DFLABEL out of range, or the data type of the display field is not an alpha.","description#Description":"sys.get_adfval() returns the unformatted alpha value of a display field. You may want to use this in the verify PCL for a display field if you need to do some type of special formatting. You can use this in a global PCL and not need to know the name of a display field in order to get its value. Just pass sys.cur_field as the .","example#Example":"None","purpose#Purpose":"sys.get_adfval() returns the alpha value of a display field.","returns#Returns":"The alpha value of the display field.\nBlank - possible error","see-also#See Also":"sys.get_idfval() sys.get_fdfval()","sysget_adfval#sys.get_adfval()":"","usage#Usage":"aval = sys.get_adfval(\u003cDFLABEL\u003e);","where-used#Where Used":"sys.get_adfval() can be called from anywhere but will probably be called from a verify pcl for a display field."},"title":"sys.get_adfval"},"/docs/systempcls/sys-get_afield/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed. alpha - The asfile name of the file containing . This must be passed in quotes, or in an alpha variable. alpha - The name of the field who’s value you want. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”.","bugs--features--comments#Bugs / Features / Comments":"If is not an alpha type, no error is indicated, and a null string will be returned.","description#Description":"sys.get_afield() locates the field identified by and returns the value in it. sys.get_afield() is meant to be used when you don’t know the field to get until runtime.","example#Example":"None","purpose#Purpose":"sys.get_afield() returns an alpha value from an alpha field by name.","returns#Returns":"alpha - The value in field \"\" - Possible error, but could also mean that has the value “”.","see-also#See Also":"sys.get_fmtfield() sys.get_ffield() sys.get_ifield() sys.put_fmtfield() sys.put_afield() sys.put_ffield() sys.put_ifield()","sysget_afield#sys.get_afield()":"","usage#Usage":"aval = sys.get_afield([\u003casprog\u003e], \u003casfilename\u003e, \u003cfieldname\u003e);","where-used#Where Used":"sys.get_afield() can be called from anywhere. It may be used in report/screen writers that do not know what fields they are using until runtime."},"title":"sys.get_afield"},"/docs/systempcls/sys-get_answer/":{"data":{"":"","arguments#Arguments":"- An alpha value used to prompt the user for input.\n- An alpha value that is the default answer if the user just presses return or OK.\n- Integer value indicating max number of characters the user may enter.\n- Integer flags that can be or’d together. Possible values are:\nGA_DEFAULT - Defaults to GA_INPNORMAL GA_INPNORMAL - Normal Input, No Conversion of characters. GA_INPQUICK - No return needed if max characters typed by user. GA_INPUC - Map lower case characters to upper case. GA_DIALOG - Force Dialog Box. GA_TEXT - Force Text. GA_BEEP - Beep INP_NORMAL - Obsolete - same as GA_INPNORMAL INP_QUICK - Obsolete - same as GA_INPQUICK INP_UC - Obsolete - same as GA_INPUC","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_answer() is a simple way to get input from the user. The default way that sys.get_answer() displays is as a prompt and a text field at the bottom of the current layout. If there is no current layout or the current layout already has a sys.get_answer() running then sys.get_answer() will display as a Dialog box on top of the current layout. This default behavior can be modified either by changing the _4CSRVRCONFIG file or by modifying the client preferences. When sys.get_answer() returns the application can tell if the user cancelled by simply checking sys_ret. sys_ret will have one the following values only:\nGA_OK - User pressed return or clicked OK GA_CANCEL - User pressed or clicked Cancel.","example#Example":"if (sys.get_answer(\"Are You Sure?\",'y',1,GA_DEFAULT) != 'y') sys.exit_prog(-1);","purpose#Purpose":"sys.get_answer() prompts the user for input.","returns#Returns":"Returns the characters typed by the user unless the user presses the key. If the user presses the key then the return is an empty alpha.\nIn addition to the alpha return, sys.get_answer will set sys_ret to either GA_OK or GA_CANCEL.","see-also#See Also":"sys.message()","sysget_answer#sys.get_answer()":"","usage#Usage":"val = sys.get_answer(\u003cprompt\u003e,\u003cdefanswer\u003e,\u003cmaxlen\u003e,\u003cgaflags\u003e);","where-used#Where Used":"sys.get_answer() can be called from anywhere."},"title":"sys.get_answer"},"/docs/systempcls/sys-get_asfile/":{"data":{"":"","arguments#Arguments":"alpha - Optional asprog name of the program to find in. The default is the current program. asfile","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_asfile() returns the 4C asfile name for . It can be useful in PCLs that use an asfile as input parameters. Internally, 4C saves an asfile as an integer, so this is a way for an application to determine at runtime what 4C asfile name is associated with a PCL parameter.","example#Example":"None","purpose#Purpose":"None","returns#Returns":"alpha","see-also#See Also":"sys.get_filename()","sysget_asfile#sys.get_asfile()":"","usage#Usage":"\u003cname\u003e = sys.get_asfile([ \u003casprog\u003e, ] \u003casfile\u003e);","where-used#Where Used":"sys.get_asfile() can be called from anywhere."},"title":"sys.get_asfile"},"/docs/systempcls/sys-get_category/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_category() returns the category of the current program. The programs category is defined in the file sys.program by the field sys.pr_catg. The programs category is not compiled into the XLSEQFILE, so if you change it, the program does not need to be re-compiled for sys.get_category() to return the new value.","example#Example":"None","purpose#Purpose":"sys.get_category() returns the category of the current program.","returns#Returns":"alpha The current programs category as defined in the sys.pr_catg field of sys.program.","see-also#See Also":"sys.get_field() sys.get_program()","sysget_category#sys.get_category()":"","usage#Usage":"catg = sys.get_category();","where-used#Where Used":"sys.get_category() can be called from anywhere."},"title":"sys.get_category"},"/docs/systempcls/sys-get_cbvar/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_cbvar() returns the name of the CB VAR that triggered the CB. It can be used to do special processing based on the variable that triggered the CB.","example#Example":"if (sys.get_cbvar() == \"sys.pr_name\") sys.exit_cb(); /* Stop processing for this CB */","purpose#Purpose":"sys.get_cbvar() returns the name of the variable that triggered the CB.","returns#Returns":"\u003cvarname\u003e - Normal - \u003cvarname\u003e triggered CB \"BOF\" - BOF triggered CB \"EOF\" - EOF triggered CB \"\" - No current CB","see-also#See Also":"sys.exit_cb()","sysget_cbvar#sys.get_cbvar()":"","usage#Usage":"\u003calphavar\u003e = sys.get_cbvar();","where-used#Where Used":"sys.get_cbvar() can be called from any of the Start or End Group CB PCLS, and from the CBEOF or CBBOF PCLs."},"title":"sys.get_cbvar"},"/docs/systempcls/sys-get_cdef/":{"data":{"":"","arguments#Arguments":"asfile - the asfile name of the file the field is in\nalpha - The fieldname to return the CDEF of. This is always an alpha and is not the field itself, but the name. Subscripted names can be used also.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_cdef() returns an integer that can be used instead of the CDEF for a field in a file. It is not necessary for the field to actually have a CDEF defined. The CDEF of a field is the relative number of the field in the file taking into account dimensioned fields. sys.get_cdef() is mainly useful in programs that are used as screen or report writers and do not know all parameters at runtime. The result of sys.get_cdef() can be used in system PCLs that need a CDEF parameter.\n4C uses the CDEF in some system PCLs to identify the field to act on. This was put in originally because the parameters to the system PCLs could not be variable. There is now a way passing the field name and 4C does not always use the CDEF. However, these PCLs currently have the problem of not being able to use a field with a subscript. This problem will be worked out, and someday ALL system PCLs will be consistent in the way that they use their parameters.","example#Example":"None","purpose#Purpose":"sys.get_cdef() returns an the internal identifier of a field that can be used instead of the CDEF for a field in a file.","returns#Returns":"integer = 0 - The CDEF of the field name. This is the relative position of the field in the file.\n\u003c 0 - No such field in file","see-also#See Also":"sys.get_filenum()","sysget_cdef#sys.get_cdef()":"","usage#Usage":"\u003ccdef\u003e = sys.get_cdef([ \u003casprog\u003e, ] \u003casfile\u003e,\u003cfieldname\u003e);","where-used#Where Used":"sys.get_cdef() can be called from anywhere. It is mainly useful in report or screen writers that do not know the fields they are using until run time."},"title":"sys.get_cdef"},"/docs/systempcls/sys-get_clenv/":{"data":{"":"","arguments#Arguments":"alpha - the name of the environment variable.","bugs--features--comments#Bugs / Features / Comments":"sys.get_clenv() requires a round trip network request.","description#Description":"Return the value of an environment variable. It can be used to decide one of several programs to run that may be different at different sites. If used too much in this way, the programs will become difficult to maintain.","example#Example":"path = sys.get_clenv(\"FC_SESSION\") + \"/\" + filename; sys.set_extfname(sys.t_text,path);","purpose#Purpose":"sys.get_clenv() returns the value of an environment variable on the client.","returns#Returns":"alpha - The value of the env var.\nNULL alpha - no value defined for this env var.\nThere are no error returns.","see-also#See Also":"sys.get_env() sys.put_env() sys.set_clenv()","sysget_clenv#sys.get_clenv()":"","usage#Usage":"\u003cavar\u003e = sys.get_clenv(\u003cENVVAR\u003e);","where-used#Where Used":"sys.get_clenv() can be called from anywhere. It may be used to set path variables for accessing client files."},"title":"sys.get_clenv"},"/docs/systempcls/sys-get_clinfo/":{"data":{"":"","arguments#Arguments":"alpha - -","bugs--features--comments#Bugs / Features / Comments":"The DisplayWidth, DisplayHeight, WorkAreaWidth, WorkAreaHeight, and IdleTime options require a round trip network request. None of the other options require a network request at all.\nSome options are not supported by the non interactive 4C client, 4ccl.","description#Description":"sys.get_clinfo() returns a string representation of the requested info. must be one of:\n“ConnectStatus” - This option will work with earlier client versions since no request to the client is necessary. It will also work with the non interactive client. The returned value when requesting “ConnectStatus” can be one of: “Error” - The client connection has been lost. sys.errno will be set to the os errno. “Connected” - The client is currently connected. “Disconnected” - The client is disconnected but the server is still working. “DisplayWidth” “DisplayHeight” “WorkAreaWidth” “WorkAreaHeight” “HorizontalDPI” - returns the logical horizontal dpi (requires client version 6.2.7-03 or later) “VerticalDPI” - returns the logical vertical dpi (requires client version 6.2.7-03 or later) “Interactive” - Returns “Yes” or “No” 4ccl is currently the only non interactive client. “UserName” - Returns the user name of the user logged into the client machine or “Unknown” if it cannot be determined. “ComputerName” - Returns the client computer name or “Unknown” if it cannot be determined. “MACAddress” - Returns the MAC Address of the ethernet card being used in “xx:xx:xx:xx:xx:xx” notation or “Unknown” if it cannot be determined. “IdleTime” - Returns the number of seconds that the client has been inactive. Client inactivity means no mouse, keyboard, or other input device has been active in that time. This requires sv version 4.4.7 or higher and client version 4.4.8 or higher. “4CUpdateStatus” - Returns either “Running” or “NotRunning” depending on whether 4cupdd is running or not. sys.get_clinfo() always returns an alpha value. If the requested info is numeric, the application will need to convert it.","example#Example":"See the demo.info.1 demo program for an example of sys.get_clinfo().","purpose#Purpose":"sys.get_clinfo() retrieves client info.","returns#Returns":"alpha - A alpha representation of the requested info.","see-also#See Also":"sys.get_svinfo() sys.get_clpref() sys.set_clpref()","sysget_clinfo#sys.get_clinfo()":"","usage#Usage":"aval = sys.get_clinfo(\u003cinfotype\u003e);","where-used#Where Used":"sys.get_clinfo() can be called from anywhere."},"title":"sys.get_clinfo"},"/docs/systempcls/sys-get_clpref/":{"data":{"":"","arguments#Arguments":"integer - Either PREF_CURRENTUSER or PREF_ALLUSERS\nalpha","bugs--features--comments#Bugs / Features / Comments":"sys.get_clpref() is not supported by the non interactive 4C client, 4ccl.","description#Description":"sys.get_clpref() returns a client preference as a string. The preference requested can be either a current user preference or an all user preference. In order to retrieve a preference specific to the current user, set to PREF_CURRENTUSER. In order to retrieve a preference specific to all users, set to PREF_ALLUSERS. can be any of the preference names listed in: Client Preferences.","example#Example":"None","purpose#Purpose":"sys.get_clpref() returns a client preference to the application.","returns#Returns":"alpha","see-also#See Also":"sys.get_clinfo() sys.set_clpref()","sysget_clpref#sys.get_clpref()":"","usage#Usage":"prefval = sys.get_clpref(\u003cprefflags\u003e,\u003cpreftype\u003e);","where-used#Where Used":"sys.get_clpref() can be called from anywhere during an interactive 4C session."},"title":"sys.get_clpref"},"/docs/systempcls/sys-get_clrect/":{"data":{"":"","arguments#Arguments":"alpha - The name or type of the client control that you want to get the dimensions of.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_clrect() returns the dimensions a single client control in system variables. The dimensions used are the same as those used by the client. For a win32 client, the dimensions are in pixels, while in a MacOS X Client, the dimensions are in points. The system variables that get the dimensions are sys.rect_left, sys.rect_right, sys.rect_top, and sys.rect_bottom. Allowable values for are:\n“Screen” - The dimensions of the full screen where the current 4C window is displayed. “WorkArea” - The dimensions of the WorkArea where the current 4C window is displayed. “Layout” - The dimensions of the currently running layout. “Prog” or “Program” - The dimensions of the current program. “Focus” - The dimensions of the 4C control that currently has the focus. “DField” - The dimensions of the current 4C display field. “Panel” - The dimensions of the panel containing the 4C control that currently has the focus. “DrList” - The dimensions of the scrolling list in the current 4C program. “DrLine” - The dimensions of the current line in the scrolling list of the current 4C program. “TreeView” - The dimensions of TreeView in the current 4C program. “TVItem” - The dimensions of the currently selected TVItem. - The dimensions of the named panel in the current program. - The dimensions of the named display field in the current program.","example#Example":"The 4cSys program sys.pr.srch.1 uses sys.get_clrect() in the execdet() pcl to determine the upper left corner of the current layout and then it uses that position to set the position for the new program it is starting.","purpose#Purpose":"sys.get_clrect() returns the dimensions a single client control in system variables.","returns#Returns":"integer 0 - OK\n-1 - Error","see-also#See Also":"Sys PCLs List","sysget_clrect#sys.get_clrect()":"","usage#Usage":"ret = sys.get_clrect(\u003ccontrolid\u003e);","where-used#Where Used":"sys.get_clrect() can be called from anywhere as long as there is a current 4C window currently open on the client. Typically it would be used in order to determine where you want to display another layout, a messagebox, or a sys.get_answer() dialog."},"title":"sys.get_clrect"},"/docs/systempcls/sys-get_count/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get the count for. This is an optional argument. If it is not passed, then sys.get_count() uses the current CB. If it is passed, then the argument must also be passed.\n- The fldname that defines the CB Var Group that you want the rcd count for. This is an optional argument as long as the argument is not used. If is not used, then sys.get_count() returns the rcd count for the current CB Var/EOF Group for the current CB.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_count() returns the current count of CB Selected rcds for a CB Var/EOF Group for a particular CB. It can be called with 0, 1, or 2 arguments.\nIf called with 0 arguments, then the current count of CB Selected rcds for the Current CB Var/EOF Group of the current CB is returned.\nIf used with 1 arg, the arg is . sys.get_count() will return the count of CB Selected rcds for the specified CB Var Group for the current CB. You may want to use sys.get_count() in this manner if you need to access a CB Var Group rcd count for the current CB outside of the current CB Var Group.\nIf used with 2 args, the args are CBNAME and . sys.get_count() will return the count of CB Selected rcds for the specified CB Var for the specified CB. You may want to use sys.get_count() in this manner if you need to access a CB Var Group rcd count of any CB outside of the processing for that CB.\nThus, you can get any rcd count for any CB Var Group for any currently active CB from any PCL.\nIn order to get a CB EOF rcd count outside of the CB EOF Group processing, you need to call sys.get_gcount() instead of sys.get_count().\n4C maintains rcd counts for each CB Var group and for the CB EOF Group. These rcd counts are updated at the same time that totals are updated. That is, the rcd counts are updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. After a CB is processed, the rcd counts of all CB Var Groups at the same or lower level than the triggering group are set back to zero. The rcd counts of higher level CB Var Groups and of the CB EOF Group are not modified.","example#Example":"The following example could be used to skip the CB EOF processing if no records have been CB Selected. Assume that this call is made from the CB EOF PCL. No arguments are passed, and sys.get_count() returns the total count of records CB Selected for the CB EOF Group of the current CB.\nif (sys.get_count() == 0) sys.exit_cb(); The next example could be used to skip the printing of totals if only 1 record has been CB Selected. Assume that this call is made from Any CB Var Group PCL. No arguments are passed, and sys.get_count() returns the count of records CB Selected for the current CB Var Group of the current CB.\nif (sys.get_count() \u003e 1) printtots();","purpose#Purpose":"sys.get_count() returns the current count of CB Selected rcds for a CB Var/EOF Group for a particular CB.","returns#Returns":"-1 - Either or is invalid. = 0 - The current count of CB Selected rcds for specified CB and CB Var Group.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_gmin() sys.get_tot() sys.get_gtot()","sysget_count#sys.get_count()":"","usage#Usage":"count = sys.get_count(); count = sys.get_count(\u003ccbvar\u003e); count = sys.get_count(\u003cCBNAME\u003e,\u003ccbvar\u003e); Or more generally\ncount = sys.get_count([[\u003cCBNAME\u003e,]\u003ccbvar\u003e]); In most cases, sys.get_count() will be used without arguments. When used this way, it will work with the current CB and the current CB Var/EOF Group.","where-used#Where Used":"sys.get_count() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_count"},"/docs/systempcls/sys-get_currentts/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"sys.get_currentts() returns the number of seconds since 00:00:00 UTC, January 1, 1970)","example#Example":"None","purpose#Purpose":"sys.get_currentts() - returns the time since the Epoch (00:00:00 UTC, January 1, 1970), measured in seconds","returns#Returns":"ts - The number of seconds since 00:00:00 UTC, January 1, 1970)","see-also#See Also":"Sys PCLs List","sysget_currentts#sys.get_currentts()":"","usage#Usage":"ts = sys.get_currentts();","where-used#Where Used":"sys.get_currentts() can be called from anywhere."},"title":"sys.get_currentts"},"/docs/systempcls/sys-get_datetype/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_datetype() returns the current input date format. The type returned is either “AMERICAN” or “EUROPEAN”.","example#Example":"None","purpose#Purpose":"sys.get_datetype() returns the current input date format.","returns#Returns":"alpha “AMERICAN” - Current date input format is American.\n“EUROPEAN” - Current date input format is European.","see-also#See Also":"sys.set_datetype()","sysget_datetype#sys.get_datetype()":"","usage#Usage":"datetype = sys.get_datetype();","where-used#Where Used":"sys.get_datetype() can be called from anywhere."},"title":"sys.get_datetype"},"/docs/systempcls/sys-get_debug/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_debug() returns either “ON” or “OFF” indicating whether the 4C debugger is currently running or not.","example#Example":"The following stmt is from the bootstrap program sys.prog.mstr. It is in the Init PCL.\nsys.uscr_dbflag = sys.get_debug();","purpose#Purpose":"sys.get_debug() returns either “ON” or “OFF” indicating whether the 4C debugger is currently running or not.","returns#Returns":"“ON” - Debugger is active\n“OFF” - Debugger is not active.","see-also#See Also":"sys.set_debug()","sysget_debug#sys.get_debug()":"","usage#Usage":"dbgmode = sys.get_debug();","where-used#Where Used":"sys.get_debug() can be called from anywhere. It is called in the bootstrap program sys.prog.mstr in order to display it on the screen."},"title":"sys.get_debug"},"/docs/systempcls/sys-get_dfcol/":{"data":{"":"","arguments#Arguments":"integer - the unique label id of the display field. This is in the display field specs and normally is upper case.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_dfcol() returns the col number that a particular field is displayed on. The col returned is the actual col, which may differ from the defined col in the display field definitions. In the case of scrolling programs, the col returned for a multi field corresponds to the col for the current item. For screen programs using sys.dr_epedit(), or sys.dr_epselect1() this item is normally highlighted.","example#Example":"The sys.fh.maint program uses the following code to tell sys.prreset.type to position itself in the same column as FILENAME.\ntype = sys_prresettype( sys.get_dfrow(FILENAME), sys.get_dfcol(FILENAME)-1); Note: sys_prresettype() is a global PCL that pushes sys.prreset.type passing the row and col as alpha strings.","purpose#Purpose":"sys.get_dfcol() returns the col number that a particular field is displayed on.","returns#Returns":"integer 0 - col number of field.\n-1 - No current program or illegal DFLABEL","see-also#See Also":"sys.get_dfrow() sys.get_linenum()","sysget_dfcol#sys.get_dfcol()":"","usage#Usage":"col = sys.get_dfcol(\u003cDFLABEL\u003e);","where-used#Where Used":"sys.get_dfcol() can be called from anywhere and would normally be used to pass a col ofst to another program to help it position itself."},"title":"sys.get_dfcol"},"/docs/systempcls/sys-get_dffileno/":{"data":{"":"","arguments#Arguments":"integer - should be the DFLABEL for the display field.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_dffileno() returns the internal asfile identifier associated with a single display field. 4C refers to all files internally by an integer. This integer can be used in any PCL that expects an parameter such as sys.read_file(). You need to pass a valid display field number which can be the of a display field, but could also be one of the local system variables such as sys.cmd_field, sys.cur_field, or sys.next_field.","example#Example":"None","purpose#Purpose":"sys.get_dffileno() returns the internal asfile identifier associated with a display field.","returns#Returns":"integer \u003e= 0 - The filenum of the asfile associated with \u003c 0 - Invalid","see-also#See Also":"sys.read_file()","sysget_dffileno#sys.get_dffileno()":"","usage#Usage":"\u003cfilenum\u003e = sys.get_dffileno(\u003cdflabel\u003e);","where-used#Where Used":"sys.get_dffileno() can be called from any program that has display fields."},"title":"sys.get_dffileno"},"/docs/systempcls/sys-get_dfile/":{"data":{"":"","arguments#Arguments":"alpha - The name of the dynamic file.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_dfile() can be used in situations where a 4C program does not know ahead of time the files it will need to access. The fileno returned by sys.get_dfile() can be used in any SysPCL needing an argument. When you no longer need the fileno, memory is freed by calling sys.rel_dfile(fileno). Any dynamic files that are not released using sys.rel_dfile() will be released when the 4C program that allocated them exits.","example#Example":"The global system PCL sys.rcd_exists() makes uses sys.get_dfile().","purpose#Purpose":"sys.get_dfile() allocates memory for and returns the filenum for a dynamic file.","returns#Returns":"= 0 - The filenum that can be used in any calls that need an .\n-1 - Error - Invalid for current application","see-also#See Also":"sys.rel_dfile() sys.fl_getval() sys.fl_setval()","sysget_dfile#sys.get_dfile()":"","usage#Usage":"fileno = sys.get_dfile();","where-used#Where Used":"sys.get_dfile() can be called from anywhere."},"title":"sys.get_dfile"},"/docs/systempcls/sys-get_dfrow/":{"data":{"":"","arguments#Arguments":"integer - the unique label id of the display field. This is in the display field specs and normally is upper case.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_dfrow() returns the row number that a particular field is displayed on. The row returned is the actual row, which may differ from the defined row in the display field definitions. In the case of scrolling programs, the row returned for a multi field corresponds to the row for the current item. For screen programs using sys.dr_epedit(), or sys.dr_epselect1() this item is normally highlighted.","example#Example":"The sys.fh.maint program uses the following code to tell sys.prreset.type to position itself below FILENAME.\ntype = sys_prresettype( sys.get_dfrow(FILENAME), sys.get_dfcol(FILENAME)-1); Note: sys_prresettype() is a global PCL that pushes sys.prreset.type passing the row and col as alpha strings.","purpose#Purpose":"sys.get_dfrow() returns the row number that a particular field is displayed on.","returns#Returns":"integer 0 - row number of field.\n-1 - No current program or illegal DFLABEL","see-also#See Also":"sys.get_dfcol() sys.get_linenum()","sysget_dfrow#sys.get_dfrow()":"","usage#Usage":"row = sys.get_dfrow(\u003cDFLABEL\u003e);","where-used#Where Used":"sys.get_dfrow() can be called from anywhere and would normally be used to pass a row offset to another program to help it position itself."},"title":"sys.get_dfrow"},"/docs/systempcls/sys-get_dotaddr/":{"data":{"":"","arguments#Arguments":"integer - The zero based index of the client program.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_dotaddr() returns the dot address of a client program in nnn.nnn.nnn.nnn format. This can be used for any client, not just the client connected to this 4csrvr. The dot address of the current client is more easily gotten using the system variable sys.cl_dotaddr.","example#Example":"dotaddr = sys.get_dotaddr(0);","purpose#Purpose":"sys.get_dotaddr() returns the dot address of a client program in nnn.nnn.nnn.nnn format.","returns#Returns":"alpha - The dot address of the client program in nnn.nnn.nnn.nnn format.","see-also#See Also":"sys.get_idx() sys.get_maxusers() sys.get_nusers()","sysget_dotaddr#sys.get_dotaddr()":"","usage#Usage":"dotaddr = sys.get_dotaddr(idx);","where-used#Where Used":"sys.get_dotaddr() can be called from anywhere. One place you may want to use it is in order to get the dotaddr to use in sys.send_msg() calls."},"title":"sys.get_dotaddr"},"/docs/systempcls/sys-get_dtinfo/":{"data":{"":"","arguments#Arguments":"asfile - The asfile for sys.dt_info that receives the timestamp info.\ndate - - The date to return info for\ntime - - The time to return info for\ninteger - The type of date and time passed in. This must be one of DTTYPE_LOCAL or DTTYPE_UTC. DTTYPE_GMT is a synonym for DTTYPE_UTC.","bugs--features--comments#Bugs / Features / Comments":"When time is switching between daylight time and standard time, the same date and time can have 2 different valid timestamps, one using DT and one using ST. When this is the case the dti_alttimestamp will have the alternate timestamp. An example for this is the 2020-11-01 anytime between 1:00:00am and 1:59:59am for any USA location that uses daylight savings time.\nWhen time is switching between standard time and daylight time, there is one hour that does not really exist but sys.get_dtinfo() will return the info for that date and time as if it did exist but the fields in the sys.dt_info file will have the correct date and time on return. An example of this is 2020-03-08 anytime between 2:00:00am and 2:59:59am for any USA location that uses daylight savings time.","description#Description":"sys.get_dtinfo() returns date, time, and timestamp info for a single UTC or local date and time. The info is returned in the fields of a sys.dt_info asfile. See the file definition for sys.dt_info for more info.","example#Example":"None","purpose#Purpose":"sys.get_dtinfo() returns date, time, and timestamp info for the passed in date and times.","returns#Returns":"0 - Info returned\n-1 - Error","see-also#See Also":"sys.get_tsinfo()","sysget_dtinfo#sys.get_dtinfo()":"","usage#Usage":"rc = sys.get_dtinfo(\u003cdtiasfile\u003e,\u003cdate\u003e,\u003ctime\u003e,\u003cdttype\u003e);","where-used#Where Used":"sys.get_dtinfo() can be called from anywhere."},"title":"sys.get_dtinfo"},"/docs/systempcls/sys-get_env/":{"data":{"":"","arguments#Arguments":"alpha - the name of the environment variable.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Return the value of an environment variable. It can be used to decide one of several programs to run that may be different at different sites. If used too much in this way, the programs will become difficult to maintain.","example#Example":"The following example is from the system program “sh”. sys.get_env() is used to determine which shell to run.\n/* start the shell */ if ((prog = `sys.get_env`(\"SHELL\")) == \"\") prog = \"/bin/sh\"; `sys.msg`(\"\"); /* Force Flush of Output */ `sys.make_task`(prog); /* Can't use sh() because of PCL name conflict */ `sys.exit_prog`(0);","purpose#Purpose":"sys.get_env() returns the value of an environment variable.","returns#Returns":"alpha - The value of the env var.\nNULL alpha - no value defined for this env var.\nThere are no error returns.","see-also#See Also":"sys.get_clenv() sys.put_env()","sysget_env#sys.get_env()":"","usage#Usage":"= sys.get_env();","where-used#Where Used":"sys.get_env() can be called from anywhere. It can be used to determine different programs to run based on site env vars."},"title":"sys.get_env"},"/docs/systempcls/sys-get_extfnopt/":{"data":{"":"","arguments#Arguments":"- The name of the library. - The name of the option.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_extfnopt() allows the application to get information about a particular library including last error and message information.\nMessageLevel - The Message reporting level the library uses for the current 4C program. LastError - The error number returned by the last function call into this library for the current 4C program. LastMessage - The message, error or info, reported by last function call into this library.","example#Example":"msg = sys.get_extfnopt(\"FCCom\",\"LastMessage\");","purpose#Purpose":"sys.get_extfnopt() allows the application to get information about a 4C External Library including last error information.","returns#Returns":"- The value to of the option.","see-also#See Also":"sys.set_extfnopt() Sys PCLs List","sysget_extfnopt#sys.get_extfnopt()":"","usage#Usage":"optval = sys.get_extfnopt(\u003cextlibname\u003e,\u003coptname\u003e);","where-used#Where Used":"sys.get_extfnopt() can be called from any 4C program that uses that library."},"title":"sys.get_extfnopt"},"/docs/systempcls/sys-get_exttype/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file you want to get the ext type for.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_exttype() returns the External type of the file.","example#Example":"None","purpose#Purpose":"sys.get_exttype() returns the external type of a 4C file defined as External.","returns#Returns":"\"\" - is not defined as External.\nany alpha - the exttype of","see-also#See Also":"sys.set_exttype()","sysget_exttype#sys.get_exttype()":"","usage#Usage":"type = sys.get_exttype(\u003casfile\u003e);","where-used#Where Used":"sys.get_exttype() can be called from anywhere."},"title":"sys.get_exttype"},"/docs/systempcls/sys-get_fdfval/":{"data":{"":"","arguments#Arguments":"- The label for the field. This is an integer from 0 to num display fields - 1. sys.cur_field may be used.","bugs--features--comments#Bugs / Features / Comments":"It is impossible to tell if a -1.0 return means an error or if the value of the field really is -1.0. However, the only errors are DFLABEL out of range, or the data type of the display field is not a float.","description#Description":"sys.get_fdfval() returns the float value of a display field. You may want to use this in the verify PCL for a display field if you need to do some type of special formatting. You can use this in a global PCL and not need to know the name of a display field in order to get its value. Just pass sys.cur_field as the .","example#Example":"None","purpose#Purpose":"sys.get_fdfval() returns the float value of a display field.","returns#Returns":"The float value of the display field.\n-1.0 - possible error","see-also#See Also":"sys.get_adfval() sys.get_idfval() sys.get_fdfval()","sysget_fdfval#sys.get_fdfval()":"","usage#Usage":"fval = sys.get_fdfval(\u003cDFLABEL\u003e);","where-used#Where Used":"sys.get_fdfval() can be called from anywhere but will probably be called from a verify pcl for a display field."},"title":"sys.get_fdfval"},"/docs/systempcls/sys-get_ffield/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed. alpha - The asfile name of the file containing . This must be passed in quotes, or in an alpha variable. alpha - The name of the field who’s value you want. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”.","bugs--features--comments#Bugs / Features / Comments":"If is not a float type, no error is indicated, and -1.0 will be returned.","description#Description":"sys.get_ffield() locates the field identified by and returns the value in it. sys.get_ffield() is meant to be used when you don’t know the field to get until runtime.","example#Example":"None","purpose#Purpose":"sys.get_ffield() returns a float value from a float field by name.","returns#Returns":"float - The value in field -1.0 - Possible error, but could also mean that has the value -1.0.","see-also#See Also":"sys.get_fmtfield() sys.get_afield() sys.get_ifield() sys.put_fmtfield() sys.put_afield() sys.put_ffield()","sysget_ffield#sys.get_ffield()":"","usage#Usage":"fval = sys.get_ffield([\u003casprog\u003e], \u003casfilename\u003e, \u003cfieldname\u003e);","where-used#Where Used":"sys.get_ffield() can be called from anywhere. It may be used in report/screen writers that do not know what fields they are using until runtime."},"title":"sys.get_ffield"},"/docs/systempcls/sys-get_field/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_field() returns the name of the current display field. This may be useful if the same PCL is called from more than one field and you need to display the name of the field for some reason, or just to distinguish between the fields that may have called the PCL.","example#Example":"None","purpose#Purpose":"sys.get_field() returns current display field’s name.","returns#Returns":"alpha any alpha - The current display field’s name.","see-also#See Also":"sys.get_program() sys.get_category()","sysget_field#sys.get_field()":"","usage#Usage":"fldname = sys.get_field();","where-used#Where Used":"sys.get_field() can be called anytime there is a current display field. That is, anytime between SFldLp and EFldLp processing."},"title":"sys.get_field"},"/docs/systempcls/sys-get_filename/":{"data":{"":"","arguments#Arguments":"alpha - Optional asprog name of the program to find in. The default is the current program.\nasfile","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_filename() returns the 4C filename for . It can be useful in PCLs that use an asfile as input parameters. Internally, 4C saves an asfile as an integer, so this is a way for an application to determine at runtime what 4C filename is associated with a PCL parameter.","example#Example":"None","purpose#Purpose":"None","returns#Returns":"alpha","see-also#See Also":"sys.get_asfile()","sysget_filename#sys.get_filename()":"","usage#Usage":"\u003cfilename\u003e = sys.get_filename([ \u003casprog\u003e, ] \u003casfile\u003e);","where-used#Where Used":"sys.get_filename() can be called from anywhere."},"title":"sys.get_filename"},"/docs/systempcls/sys-get_filenum/":{"data":{"":"","arguments#Arguments":"alpha - Optional asprog name of the program to find in. The default is the current program.\nalpha","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_filenum() returns the internal file identifier that 4C uses internally instead of the asfile name. 4C refers to all files internally by an integer. This integer can be used in any PCL that expects a file parameter. Programs that are used as report or screen writers may use sys.get_filenum() to read a file that is determined only at run time.","example#Example":"None","purpose#Purpose":"sys.get_filenum() returns the internal file identifier that 4C uses internally instead of the asfile name.","returns#Returns":"integer \u003e= 0 - The filenum of the file with asfile name .\n\u003c 0 - No asfile with name in current program.","see-also#See Also":"sys.get_cdef()","sysget_filenum#sys.get_filenum()":"","usage#Usage":"\u003cfilenum\u003e = sys.get_filenum([ \u003casprog\u003e, ] \u003cfilename\u003e);","where-used#Where Used":"sys.get_filenum() can be called from anywhere. Its main use is probably in programs used as screen and report writers that do not know which files they are reading until run time."},"title":"sys.get_filenum"},"/docs/systempcls/sys-get_fkhelp/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of course this is subject to change.","description#Description":"sys.get_fkhelp() returns the value of the 4C environment variable XLFKHELPMSG. This env variable is used to control how function key help messages display automatically. If sys.get_fkhelp() returns “ON”, then 4C will display as much function key help messages as will fit on XLMSGLINE2. If the return is “OFF”, then 4C does not display any function key help messages without the user explicitly requesting it. If the return is “STATUS”, then 4C will display an appropriate message indicating how to get the function key help. This message will display for any input field that has any function keys enabled.","example#Example":"In the system program sys.help.set, the Init PCL calls sys.get_fkhelp() in order to display the current value before allowing the user to change it. The entire Init PCL follows:\nhelpmsg = sys.get_help(); fkhelp = sys.get_fkhelp(); msgl1 = sys.get_msgline1(); msgl2 = sys.get_msgline2(); retsel = sys.get_return();","purpose#Purpose":"sys.get_fkhelp() returns the value of the 4C environment variable XLFKHELPMSG.","returns#Returns":"alpha “ON” - Function Key Help is on.\n“OFF” - Function Key Help is off.\n“STATUS” - Only the message “f2=FKHELP” will display if function keys are available.","see-also#See Also":"sys.get_help() sys.get_msgline1() sys.get_msgline2() sys.get_return() sys.set_fkhelp() sys.set_help() sys.set_msgline1() sys.set_msgline2() sys.set_return()","sysget_fkhelp#sys.get_fkhelp()":"","usage#Usage":"fkhelp = sys.get_fkhelp();","where-used#Where Used":"sys.get_fkhelp() can be called from anywhere. It is most likely used in system programs that may allow the user to change the value."},"title":"sys.get_fkhelp"},"/docs/systempcls/sys-get_fklabel/":{"data":{"":"","arguments#Arguments":"alpha - The 4C name for the function key. (i.e. “add”, “search”, “user1”, “user2”, etc.)","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_fklabel() will return the label associated with a 4C function key. All 4C function keys are defined in the file sys.spc_char. Function key labels can be defined in termcap, or 4C will determine an appropriate label. If there is no real mapping between a terminal function key and the 4C function key, then the label will be the alternate. So, some function key labels may look like - “\\Eug”","example#Example":"The system program search menu, sys.pr.search.s calls sys.get_fklabel() for each of the fkeylabels displayed. Here is the code from the Init PCL of sys.pr.search.s:\nfkeylabel[0] = sys.get_fklabel(\"system1\"); fkeylabel[1] = sys.get_fklabel(\"system2\"); fkeylabel[2] = sys.get_fklabel(\"system3\"); fkeylabel[3] = sys.get_fklabel(\"system4\"); fkeylabel[4] = sys.get_fklabel(\"system5\"); fkeylabel[5] = sys.get_fklabel(\"system6\"); fkeylabel[6] = sys.get_fklabel(\"system7\"); fkeylabel[7] = sys.get_fklabel(\"system8\");","purpose#Purpose":"sys.get_fklabel() returns the label associated with a function key.","returns#Returns":"alpha The label associated with “NULL” - No such FKEY","see-also#See Also":"sys.get_fkeylabel()","sysget_fklabel#sys.get_fklabel()":"","usage#Usage":"fklabel = sys.get_fklabel(\u003cfkeyname\u003e);","where-used#Where Used":"sys.get_fklabel() can be called from anywhere. It typically would be called from a menu program that allows selection by function keys. This will normally be done in the Init PCL. The labels can then be displayed without being hardcoded."},"title":"sys.get_fklabel"},"/docs/systempcls/sys-get_fltype/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"When using option panels it sometimes is important to be able to know what type of fld loop was being processed when some event occurs like the user clicking a command button.","example#Example":"The 4cSys sys.pr.srch.1 program calls sys.get_fltype() when in the refresh() PCL in order to determine if it is in the initial option panel. If it is in the initial option panel, it will call sys.end_fldloop() otherwise it calls sys.dr_restart().","purpose#Purpose":"sys.get_fltype() returns the current fld loop type","returns#Returns":"integer - One of\nFLTYPE_MAIN FLTYPE_DRIVER FLTYPE_INIT FLTYPE_OPTION FLTYPE_NONE","see-also#See Also":"Sys PCLs List","sysget_fltype#sys.get_fltype()":"","usage#Usage":"fltype = sys.get_fltype();","where-used#Where Used":"sys.get_fltype() can be called from anywhere."},"title":"sys.get_fltype"},"/docs/systempcls/sys-get_fmtfield/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed. alpha - The asfile name of the file containing . alpha - The name of the field you want to format. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”. alpha - The alpha field where 4C will store the formatted field. This field is passed by name and should not be quoted.","bugs--features--comments#Bugs / Features / Comments":"Only the format that is defined for in the data dictionary is used. You cannot specify another format.","description#Description":"sys.get_fmtfield() formats a field and stores the formatted field in the arg.","example#Example":"There are several examples in the 4C debugger program sys.dbg.fld.det.","purpose#Purpose":"None","returns#Returns":"0 - OK - the formatted value of is in . -1 - Error - Either or or is invalid.","see-also#See Also":"sys.get_afield() sys.get_ffield() sys.get_ifield() sys.put_fmtfield() sys.put_afield() sys.put_ffield()","sysget_fmtfield#sys.get_fmtfield()":"","usage#Usage":"ret = sys.get_fmtfield([\u003casprog\u003e], \u003casfilename\u003e, \u003cfieldname\u003e, \u003cretbuf\u003e);","where-used#Where Used":"sys.get_fmtfield() can be called from anywhere. It is useful in programs that are report/screen writers and you don’t know what is to be displayed until runtime."},"title":"sys.get_fmtfield"},"/docs/systempcls/sys-get_gcount/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get the count for. This is an optional argument. If it is not passed, then sys.get_gcount() uses the current CB.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_gcount() returns the current grand count of CB Selected rcds for a particular CB. It can be called with 0 or 1 arguments. The grand rcd count is the same as the rcd count for the CB EOF Group.\nIf called with 0 arguments, then the current grand count of CB Selected rcds for the current CB is returned.\nIf used with 1 arg, the arg is . sys.get_gcount() will return the grand count of CB Selected rcds for the current CB. You may want to use sys.get_gcount() in this manner if you need to access the current grand rcd count of any CB outside of the processing for that CB.\nThus, you can get any grand rcd count for any currently active CB from any PCL.\n4C maintains the grand rcd count for each CB as the CB EOF Group rcd count. The grand rcd count is updated at the same time that totals are updated. That is, the grand rcd count is updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. The grand rcd count is never reset to zero.","example#Example":"The following example could be used to skip the CB EOF processing if no records have been CB Selected. Assume that this call is made from the CB EOF PCL. No arguments are passed, and sys.get_gcount() returns the total count of records CB Selected for the CB EOF Group of the current CB.\nif (sys.get_gcount() == 0) sys.exit_cb(); The next example could be used to skip the printing of totals if only 1 record has been CB Selected. Assume that this call is also made from the CB EOF PCL. No arguments are passed, and sys.get_gcount() returns the grand count of records CB Selected for the current CB.\nif (sys.get_gcount() \u003e 1) printtots();","purpose#Purpose":"Return Grand Record Count","returns#Returns":"-1 - is invalid.\n\u003e= 0 - The current grand count of CB Selected rcds for specified CB.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_gmin() sys.get_tot() sys.get_gtot()","sysget_gcount#sys.get_gcount()":"","usage#Usage":"count = sys.get_gcount(); count = sys.get_gcount(\u003cCBNAME\u003e); Or more generally\ncount = sys.get_gcount([\u003cCBNAME\u003e]); In most cases, sys.get_gcount() will be used without arguments. When used this way, it will work with the current CB.\nArguments are allowed so that you can get CB EOF rcd counts without needing to be processing a particular CB.","where-used#Where Used":"sys.get_count() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_gcount"},"/docs/systempcls/sys-get_gmax/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get a max val for. This is an optional argument. If it is not passed, then sys.get_gmax() uses the current CB.\n- The name of the CB TOT Var to return the grand max val for. This argument must always be specified.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_gmax() returns the current max val of a CB TOT Var for a CB EOF Group for a particular CB. This is called the grand max of the TOT Var for the CB. It can be called with 1 or 2 arguments.\nIf called with 1 arg, the arg is . sys.get_gmax() will return the current grand max val of the CB TOT Var for the Current CB.\nIf used with 2 args, the args are and . sys.get_gmax() will return the current grand max val of the CB TOT Var for the specified CB. You may want to use sys.get_gmax() in this manner if you need to access a grand max val of a particular CB outside of the current CB.\nThus, you can get any CB TOT Var grand max val for any currently active CB from any PCL.\n4C maintains grand max values for each CB TOT Var that was defined as MAX. The Grand Max Val of a CB TOT Var is the same as the Max Val of the CB TOT Var for the CB EOF Group. This value is updated at the same time that totals are updated. That is, the grand max value is updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. The grand max vals are never reset to null.","example#Example":"The following example gets the current grand max value for the CB TOT Var sys.pr_syssize for the current CB.\nmax = sys.get_gmax(sys.pr_syssize);","purpose#Purpose":"Return Grand Max Val","returns#Returns":"sys.get_gmax() can return alpha, integer or float. Since any value is valid for a max, there is no way to return a unique bad value, however sys.get_gmax() will try to return a bad value when necessary. A bad return for an alpha is the NULL string, or “”. A bad return for a float is -1.0, and a bad ret for an integer is -1. Thus the following may be considered bad returns sometimes, but they could also be perfectly valid.\n\"\" - OR -1.0 - OR -1 - Either or is invalid. AnyValue - The current grand max of the CB TOT Var for specified CB.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_gmin() sys.get_tot() sys.get_gtot()","sysget_gmax#sys.get_gmax()":"","usage#Usage":"max = sys.get_gmax(\u003ccbtot\u003e); max = sys.get_gmax(\u003cCBNAME\u003e,\u003ccbtot\u003e); Or more generally\nmax = sys.get_gmax([\u003cCBNAME\u003e,]\u003ccbtot\u003e); In most cases, sys.get_gmax() will be used with one argument. When used this way, it will work with the current CB. Optional arguments are allowed so that you can get grand max vals without needing to be processing a particular CB.","where-used#Where Used":"sys.get_gmax() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_gmax"},"/docs/systempcls/sys-get_gmin/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get a min val for. This is an optional argument. If it is not passed, then sys.get_gmin() uses the current CB.\n- The name of the CB TOT Var to return the grand min val for. This argument must always be specified.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_gmin() returns the current min val of a CB TOT Var for a CB EOF Group for a particular CB. This is called the grand min of the TOT Var for the CB. It can be called with 1 or 2 arguments.\nIf called with 1 arg, the arg is . sys.get_gmin() will return the current grand min val of the CB TOT Var for the Current CB.\nIf used with 2 args, the args are and . sys.get_gmin() will return the current grand min val of the CB TOT Var for the specified CB. You may want to use sys.get_gmin() in this manner if you need to access a grand min val of a particular CB outside of current CB processing.\nThus, you can get any CB TOT Var grand min val for any currently active CB from any PCL.\n4C maintains grand min values for each CB TOT Var that was defined as MIN. The Grand Min Val of a CB TOT Var is the same as the Min Val of the CB TOT Var for the CB EOF Group. This value is updated at the same time that totals are updated. That is, the grand min value is updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. The grand min vals are never reset to null.","example#Example":"The following example gets the current grand min value for the CB TOT Var sys.pr_syssize for the current CB.\nmin = sys.get_gmin(sys.pr_syssize);","purpose#Purpose":"Return Grand Min Val","returns#Returns":"sys.get_gmin() can return alpha, integer or float. Since any value is valid for a min, there is no way to return a unique bad value, however sys.get_gmin() will try to return a bad value when necessary. A bad return for an alpha is the NULL string, or “”. A bad return for a float is -1.0, and a bad ret for an integer is -1. Thus the following may be considered bad returns sometimes, but they could also be perfectly valid.\n\"\" - OR -1.0 - OR -1 - Either or is invalid. AnyValue - The current grand min of the CB TOT Var for specified CB.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_tot() sys.get_gtot()","sysget_gmin#sys.get_gmin()":"","usage#Usage":"min = sys.get_gmin(\u003ccbtot\u003e); min = sys.get_gmin(\u003cCBNAME\u003e,\u003ccbtot\u003e); Or more generally\nmin = sys.get_gmin([\u003cCBNAME\u003e,]\u003ccbtot\u003e); In most cases, sys.get_gmin() will be used with one argument. When used this way, it will work with the current CB. Optional arguments are allowed so that you can get grand min vals without needing to be processing a particular CB.","where-used#Where Used":"sys.get_gmin() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_gmin"},"/docs/systempcls/sys-get_grpname/":{"data":{"":"","arguments#Arguments":"integer - The index of the group that you want the group name of. must be greater than or equal to 0, and less than sys.num_groups.","bugs--features--comments#Bugs / Features / Comments":"sys.get_grpname() only works on the foreground set of groups.\nsys.get_grpname() will return a group name even if is out of range.","description#Description":"sys.get_grpname() returns the name of the group identified by . A 4C group is an independent set of programs within the same 4C session. sys.get_grpname() only works with the foreground set of groups. In addition to the foreground set of groups, there is a system set, and a background set. The background set is not implemented yet.","example#Example":"The following example is the Init PCL of the system program sys.grp.search.\nsys.create_tfile(sys.t_group); for (i = 0; i \u003c sys.num_groups; i += 1) { sys.tg_name = sys.get_grpname(i); sys.read_file(sys.t_group,F_ADD); sys.upd_file(sys.t_group,F_DEFAULT); }","purpose#Purpose":"sys.get_grpname() returns the name of the group identified by .","returns#Returns":"\"\" - No foreground groups.\nGroupName - the name of the group with index grpidx.","see-also#See Also":"sys.link_group()","sysget_grpname#sys.get_grpname()":"","usage#Usage":"grpname = sys.get_grpname(\u003cgrpidx\u003e);","where-used#Where Used":"sys.get_grpname() can be called from anywhere.\nThis PCL is meant for INTERNAL USE ONLY."},"title":"sys.get_grpname"},"/docs/systempcls/sys-get_gtot/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get a total val for. This is an optional argument. If it is not passed, then sys.get_gtot() uses the current CB.\n- The name of the CB TOT Var to return the grand total val for. This argument must always be specified.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_gtot() returns the current total val of a CB TOT Var for a CB EOF Group for a particular CB. This is called the grand total of the TOT Var for the CB. It can be called with 1 or 2 arguments.\nIf called with 1 arg, the arg is . sys.get_gtot() will return the current grand total val of the CB TOT Var for the Current CB.\nIf used with 2 args, the args are and . sys.get_gtot() will return the current grand total val of the CB TOT Var for the specified CB. You may want to use sys.get_gtot() in this manner if you need to access a grand total val of a particular CB outside current CB processing.\nThus, you can get any CB TOT Var grand total val for any currently active CB from any PCL.\n4C maintains grand total values for each CB TOT Var that was defined as TOT. The Grand Total Val of a CB TOT Var is the same as the Total Val of the CB TOT Var for the CB EOF Group. This value is updated at the same time that totals are updated. That is, the grand total value is updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. The grand total vals are never reset to null.","example#Example":"The following example gets the current grand total value for the CB TOT Var sys.pr_syssize for the current CB.\ntot = sys.get_gtot(sys.pr_syssize);","purpose#Purpose":"Return Grand Total Val","returns#Returns":"sys.get_gtot() can return integer or float. Since any value is valid for a tot, there is no way to return a unique bad value, however sys.get_gtot() will try to return a bad value when necessary. A bad return for a float is -1.0, and a bad ret for an integer is -1. Thus the following may be considered bad returns sometimes, but they could also be perfectly valid.\n-1.0 - OR -1 - Either or is invalid. AnyValue - The current grand total of the CB TOT Var for specified CB.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_gmin() sys.get_tot() sys.get_gtot()","sysget_gtot#sys.get_gtot()":"","usage#Usage":"tot = sys.get_gtot(\u003ccbtot\u003e); tot = sys.get_gtot(\u003cCBNAME\u003e,\u003ccbtot\u003e); Or more generally\ntot = sys.get_gtot([\u003cCBNAME\u003e,]\u003ccbtot\u003e); In most cases, sys.get_gtot() will be used with one argument. When used this way, it will work with the current CB. Optional arguments are allowed so that you can get grand total vals without needing to be processing a particular CB.","where-used#Where Used":"sys.get_gtot() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_gtot"},"/docs/systempcls/sys-get_help/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of Course this is subject to change.","description#Description":"sys.get_help() returns the value of the 4C environment variable XLHELPMSG. This env variable is used to control whether 4C automatically displays help messages on all input fields. If sys.get_help() returns “ON”, then 4C will display input field help messages. If the return is “OFF”, then 4C does not display any input field help messages without the user explicitly requesting it.","example#Example":"In the system program sys.help.set, the Init PCL calls sys.get_help() in order to display the current value before allowing the user to change it. The entire Init PCL follows:\nhelpmsg = sys.get_help(); fkhelp = sys.get_fkhelp(); msgl1 = sys.get_msgline1(); msgl2 = sys.get_msgline2(); retsel = sys.get_return();","purpose#Purpose":"sys.get_help() returns the value of the 4C environment variable XLHELPMSG.","returns#Returns":"alpha “ON” - Field Help is on.\n“OFF” - Field Help is off.","see-also#See Also":"sys.get_fkhelp() sys.get_msgline1() sys.get_msgline2() sys.get_return() sys.set_fkhelp() sys.set_help() sys.set_msgline1() sys.set_msgline2() sys.set_return()","sysget_help#sys.get_help()":"","usage#Usage":"helpmsg = sys.get_help();","where-used#Where Used":"sys.get_help() can be called from anywhere. It is most likely used in system programs that may allow the user to change the value."},"title":"sys.get_help"},"/docs/systempcls/sys-get_idfval/":{"data":{"":"","arguments#Arguments":"- The label for the field. This is an integer from 0 to num display fields - 1. sys.cur_field may be used.","bugs--features--comments#Bugs / Features / Comments":"It is impossible to tell if a -1 return means an error or if the value of the field really is -1. However, the only errors are DFLABEL out of range, or the data type of the display field is not an integer.","description#Description":"sys.get_idfval() returns the integer value of a display field. You may want to use this in the verify PCL for a display field if you need to do some type of special formatting. You can use this in a global PCL and not need to know the name of a display field in order to get its value. Just pass sys.cur_field as the .","example#Example":"None","purpose#Purpose":"sys.get_idfval() returns the integer value of a display field.","returns#Returns":"The integer value of the display field.\n-1 - possible error","see-also#See Also":"sys.get_adfval() sys.get_idfval() sys.get_fdfval()","sysget_idfval#sys.get_idfval()":"","usage#Usage":"ival = sys.get_idfval(\u003cDFLABEL\u003e);","where-used#Where Used":"sys.get_idfval() can be called from anywhere but will probably be called from a verify pcl for a display field."},"title":"sys.get_idfval"},"/docs/systempcls/sys-get_idx/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_idx() returns the index into the internal user table for the current 4C process.","example#Example":"None","purpose#Purpose":"sys.get_idx() returns the index into the user table of the current process.","returns#Returns":"integer - The index into the internal user info table.","see-also#See Also":"sys.get_maxusers() sys.get_nusers() sys.get_ttyname() sys.get_username()","sysget_idx#sys.get_idx()":"","usage#Usage":"\u003cuseridx\u003e = sys.get_idx();","where-used#Where Used":"sys.get_idx() can be called from anywhere."},"title":"sys.get_idx"},"/docs/systempcls/sys-get_ifield/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed. alpha - The asfile name of the file containing . This must be passed in quotes, or in an alpha variable. alpha - The name of the field who’s value you want. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”.","bugs--features--comments#Bugs / Features / Comments":"If is not an integer type, no error is indicated, and -1 will be returned.","description#Description":"sys.get_ifield() locates the field identified by and returns the value in it. sys.get_ifield() is meant to be used when you don’t know the field to get until runtime.","example#Example":"None","purpose#Purpose":"sys.get_ifield() returns an integer value from an integer field by name.","returns#Returns":"integer - - The value in field -1 - Possible error, but could also mean that has the value -1.","see-also#See Also":"sys.get_fmtfield() sys.get_afield() sys.get_ffield() sys.put_fmtfield() sys.put_afield() sys.put_ffield()","sysget_ifield#sys.get_ifield()":"","usage#Usage":"ival = sys.get_ifield([\u003casprog\u003e], \u003casfilename\u003e, \u003cfieldname\u003e);","where-used#Where Used":"sys.get_ifield() can be called from anywhere. It may be used in report/screen writers that do not know what fields they are using until runtime."},"title":"sys.get_ifield"},"/docs/systempcls/sys-get_keyno/":{"data":{"":"","arguments#Arguments":"asfilename - The asfile that is in. - A field in file . or\n- The cdef of a field in","bugs--features--comments#Bugs / Features / Comments":"There is no real check to see if is in file, so if it isn’t, the results will be unpredictable.\nTo be consistent with other PCLs that need a , it is better to use the than the itself.\nIt is unfortunate that the return does not match the key num field in the file definition.","description#Description":"sys.get_keyno() returns the keyno associated with in . This number is the internal representation which is one less than that defined in the file definition. Some system PCLs expect this keyno in this form. Especially sys.seek_key(). This PCL replaces the obsolete $key_number().","example#Example":"In the system program, sys.prmem.rpt1.1, the DrInit PCL for sys.program sets the start and end key and then calls sys.seek_key(). sys.seek_key() expects a keynum argument, which is gotten by calling sys.get_keyno. Coding it this way allows for the keynum to change if you modify the file definition. The relevant code follows:\nelse { sys.pr_name = sys.prm_fromprog; sys.set_skey(sys.program,S_PRNAME,MATCH_PARTIAL); sys.pr_name = sys.prm_toprog; sys.set_ekey(sys.program,S_PRNAME,MATCH_PARTIAL); sys.seek_key(sys.program, sys.get_keyno(sys.program,sys.pr_name),SEEK_START); } The sys.seek_key() statement could also be coded as:\nsys.seek_key(sys.program, sys.get_keyno(sys.program,S_PRNAME),SEEK_START); This method is now the preferred method because it is consistent with the way most other SysPCLs refer to file variables.","purpose#Purpose":"sys.get_keyno() returns the keyno associated with a field.","returns#Returns":"integer \u003c 0 - Not a key field \u003e= 0 - The key number of the field. 0 ==\u003e Primary key, 1 ==\u003e first secondary, etc. The keyno returned is 1 less than that defined in the file definition.","see-also#See Also":"sys.seek_key()","sysget_keyno#sys.get_keyno()":"","usage#Usage":"keyno = sys.get_keyno(\u003casfile\u003e,[ \u003cfield\u003e | \u003cfldcdef\u003e ]);","where-used#Where Used":"sys.get_keyno() can be called from anywhere. It will normally be called so that the keyno can be passed to other system PCLs that expect it. In particular, a DrInit PCL that calls sys.seek_key() should call sys.get_keyno() instead of hardcoding the argument."},"title":"sys.get_keyno"},"/docs/systempcls/sys-get_keystate/":{"data":{"":"","arguments#Arguments":"Alpha - - Should be one of “Shift”, “Control” or “Alt”","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Long Description\nRequirements\n4csrvr version 5.0.6 and higher\n4cclient version 5.0.6 and higher","example#Example":"The global 4cSys PCL lv_sortby() checks if either Shift or Control is pressed and if so will sort descending instead of ascending.","purpose#Purpose":"sys.get_keystate() lets the application determine if any of Shift, Control, or Alt was pressed when the user clicked a button or listview column hdr.","returns#Returns":"0 - Specified key was not pressed\n1 - Specified key was pressed","see-also#See Also":"Sys PCLs List","sysget_keystate#sys.get_keystate()":"","usage#Usage":"if (sys.get_keystate(\u003ckey\u003e)) do_something();","where-used#Where Used":"sys.get_keystate() can be called from anywhere."},"title":"sys.get_keystate"},"/docs/systempcls/sys-get_ldata/":{"data":{"":"","arguments#Arguments":"- an alpha var that was used in a previous call to sys.open_ldata()\n- can be one of:\nLD_DEFAULT - Using LD_DEFAULT, sys.get_ldata() will not return until the data has been retrieved or an error has been returned from the external process. LD_NOWAIT - Request the data but don’t wait for it before returning. Using LD_NOWAIT is faster but your application will not know exactly when the data has been retrieved.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Use sys.get_ldata() to get data from non onetime non automatic LData connections with external processes. The data will be returned into the field specified in the sys.open_ldata() call.","example#Example":"None","purpose#Purpose":"sys.get_ldata() requests data from an open LData connection.","returns#Returns":"-1 = Failure and sys.errno will be set. Probably no open LData connection with name .\n0 - Success","see-also#See Also":"sys.open_ldata() sys.close_ldata() sys.set_ldata()","sysget_ldata#sys.get_ldata()":"","usage#Usage":"ret = sys.get_ldata(\u003cldname\u003e, \u003cflags\u003e);","where-used#Where Used":"sys.get_ldata() can be called from anywhere. If you specified LD_AUTOMATIC, you won’t normally need to call sys.get_ldata() since your application will be sent the data as it changes anyway."},"title":"sys.get_ldata"},"/docs/systempcls/sys-get_linediff/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_linediff() returns to the user program the number of lines printed by all nested programs since the last field was printed by the current program. If a page boundary is crossed, it is reflected in the return of sys.get_linediff().\nsys.get_linediff() is meant to be called by scrolling programs after calling other printing programs in order to determine the number of lines that need to be skipped before printing the next iteration.\nIt makes no sense to call sys.get_linediff() from a non-scrolling program or from any non-printing program.","example#Example":"/* Print details if any */ sys.push_prog(\"print.detail\"); /* Skip past nested progs and leave one blank line If nothing was printed by \"print.detail\", then no call to sys.skip() is made. */ if ((ldiff = sys.get_linediff()) \u003e 0) sys.skip(ldiff + 1);","purpose#Purpose":"sys.get_linediff() returns the number of lines printed by nested programs since the last field printed by the current program.","returns#Returns":"\u003e= 0 - number of lines printed by other programs since last field printed by this program.\nThere are no error returns.","see-also#See Also":"sys.page() sys.skip() sys.end_page() sys.exit_page() sys.page_isfull() sys.get_pagediff() sys.is_tof()","sysget_linediff#sys.get_linediff()":"","usage#Usage":"ldiff = sys.get_linediff();","where-used#Where Used":"sys.get_linediff() can be called from rpt programs after pushing another program, but before printing another field."},"title":"sys.get_linediff"},"/docs/systempcls/sys-get_linenum/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"If no fields have been printed on the current page, then sys.get_linenum() will return 0.","description#Description":"sys.get_linenum() returns the current linenum of the currnt page of the device that the current program is printing on. This is meant as a replacement of the PCL “sys.line_number()”. The reason for adding this PCL is that sys.line_number() sounds more like a variable name than a PCL. I think that by using PCLs that sound like verbs they are easier to remember. sys.line_number() will still work as before, but I would suggest using sys.get_linenum() instead. The current line number is defined as the last line that was used to print a field.","example#Example":"The following example is from the tutorial program md.fm. In the callhelp() PCL, it uses sys.get_linenum() to be able to pass a row ofst to mhp.fm.\npush_prog(\"mhp.fm\", itoa(sys.get_linenum()), \"40\"); NOTE: push_prog() is a global PCL in the tutorial directory.","purpose#Purpose":"sys.get_linenum() returns the current line number.","returns#Returns":"integer linenum - the current line number of the device being used by the current program.","see-also#See Also":"sys.get_pagenum() sys.get_linediff() sys.get_pagediff()","sysget_linenum#sys.get_linenum()":"","usage#Usage":"linenum = sys.get_linenum();","where-used#Where Used":"sys.get_linenum() can be called from anywhere. It will often be used to be able to pass a row ofst to a pushed program."},"title":"sys.get_linenum"},"/docs/systempcls/sys-get_max/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get a max val for. This is an optional argument. If it is not passed, then sys.get_max() uses the current CB. If it is passed, then the argument must also be passed.\n- The fldname that defines the CB Var Group that you want the max val for. This is an optional argument as long as the argument is not used. If is not used, then sys.get_max() assumes the current CB Var/EOF Group for the current CB.\n- The name of the CB TOT Var to return the max val for. This argument must always be specified.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_max() returns the current max val of a CB TOT Var for a CB Var/EOF Group for a particular CB. It can be called with 1, 2, or 3 arguments.\nIf called with 1 arg, the arg is . sys.get_max() will return the current max val of the CB TOT Var for the Current CB Var/EOF Group for the current CB.\nIf used with 2 args, the args are and . sys.get_max() will return the current max val of the CB TOT Var for the specified CB Var Group for the current CB. You may want to use sys.get_max() in this manner if you need to access a CB TOT Var of a particular CB Var Group for the current CB outside of the current CB Var Group.\nIf used with 3 args, the args are , , and . sys.get_max() will return the max val of the CB TOT Var for the specified CB Var for the specified CB. You may want to use sys.get_max() in this manner if you need to access a CB TOT Var for a particular CB Var Group of any CB outside of the processing for that CB.\nThus, you can get any CB TOT Var max val for any CB Var Group for any currently active CB from any PCL.\nIn order to get a CB TOT Var max val for the CB EOF Group outside of the CB EOF Group processing, you need to call sys.get_gmax() instead of sys.get_max().\n4C maintains max values for each CB TOT Var that was defined as MAX for each CB Var group and for the CB EOF Group. This value is updated at the same time that totals are updated. That is, the max value is updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. After a CB is processed, the max values of all CB TOT Vars for each CB Var Group at the same or lower level than the triggering group are set to NULL. The max values of the CB TOT Vars for all higher level CB Var Groups and of the CB EOF Group are not modified.","example#Example":"The following example gets the current max value for the CB TOT Var sys.pr_syssize for the current CB Var/EOF Group for the current CB.\nmax = sys.get_max(sys.pr_syssize);","purpose#Purpose":"sys.get_max() returns the current max val of a CB TOT Var for a CB Var/EOF Group for a particular CB.","returns#Returns":"sys.get_max() can return alpha, integer or float. Since any value is valid for a max, there is no way to return a unique bad value, however sys.get_max() will try to return a bad value when necessary. A bad return for an alpha is the NULL string, or “”. A bad return for a float is -1.0, and a bad ret for an integer is -1. Thus the following may be considered bad returns sometimes, but they could also be perfectly valid.\n\"\" - OR\n-1.0 - OR\n-1 - Either , , or is invalid.\nAnyValue - The current max of the CB TOT Var for specified CB and CB Var Group.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_gmin() sys.get_tot() sys.get_gtot()","sysget_max#sys.get_max()":"","usage#Usage":"max = sys.get_max(\u003ccbtot\u003e); max = sys.get_max(\u003ccbvar\u003e,\u003ccbtot\u003e); max = sys.get_max(\u003cCBNAME\u003e,\u003ccbvar\u003e,\u003ccbtot\u003e); Or more generally\nmax = sys.get_max([[\u003cCBNAME\u003e,]\u003ccbvar\u003e,]\u003ccbtot\u003e); In most cases, sys.get_max() will be used with one argument. When used this way, it will work with the current CB and the current CB Var/EOF Group. Optional arguments are allowed so that you can get max vals without needing to be processing a particular CB Var Group or even a particular CB.","where-used#Where Used":"sys.get_max() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_max"},"/docs/systempcls/sys-get_maxusers/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_maxusers() returns the max number of users that 4C is configured for. This corresponds to the Users parameter in the XLCONFIG file.","example#Example":"The following code is the Init PCL for sys.ui.display.\nmaxusers = sys.get_maxusers(); nusers = sys.get_nusers(); sys.create_tfile(sys.usr_info); for (i = 0; i \u003c maxusers; i += 1) { if ((sys.ui_usrname = sys.get_username(i)) == \"\") continue; sys.ui_idx = i; sys.read_file(sys.usr_info,F_ADD|F_NODEBLOCK); sys.ui_ttyname = sys.get_ttyname(i); totusrsize += sys.ui_maxumem = sys.get_maxumem(i); sys.upd_file(sys.usr_info,F_DEFAULT); } sys.ui_usrname = \"\"; /* clear for drinit */","purpose#Purpose":"sys.get_maxusers() returns the max number of users that 4C is configured for.","returns#Returns":"integer - The max number of users that 4C is configured for.","see-also#See Also":"sys.get_idx() sys.get_nusers() sys.get_ttyname() sys.get_username()","sysget_maxusers#sys.get_maxusers()":"","usage#Usage":"maxusers = sys.get_maxusers();","where-used#Where Used":"sys.get_maxusers() can be called from anywhere. It is used by some of the system configuration/display programs."},"title":"sys.get_maxusers"},"/docs/systempcls/sys-get_min/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get a min val for. This is an optional argument. If it is not passed, then sys.get_min() uses the current CB. If it is passed, then the argument must also be passed.\n- The fldname that defines the CB Var Group that you want the min val for. This is an optional argument as long as the argument is not used. If is not used, then sys.get_min() assumes the current CB Var/EOF Group for the current CB.\n- The name of the CB TOT Var to return the min val for. This argument must always be specified.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_min() returns the current min val of a CB TOT Var for a CB Var/EOF Group for a particular CB. It can be called with 1, 2, or 3 arguments.\nIf called with 1 arg, the arg is . sys.get_min() will return the current min val of the CB TOT Var for the Current CB Var/EOF Group for the current CB.\nIf used with 2 args, the args are and . sys.get_min() will return the current min val of the CB TOT Var for the specified CB Var Group for the current CB. You may want to use sys.get_min() in this manner if you need to access a CB TOT Var of a particular CB Var Group for the current CB outside of the current CB Var Group.\nIf used with 3 args, the args are , , and . sys.get_min() will return the min val of the CB TOT Var for the specified CB Var for the specified CB. You may want to use sys.get_min() in this manner if you need to access a CB TOT Var for a particular CB Var Group of any CB outside of the processing for that CB.\nThus, you can get any CB TOT Var min val for any CB Var Group for any currently active CB from any PCL.\nIn order to get a CB TOT Var min val for the CB EOF Group outside of the CB EOF Group processing, you need to call sys.get_gmin() instead of sys.get_min().\n4C maintains min values for each CB TOT Var that was defined as MIN for each CB Var group and for the CB EOF Group. This value is updated at the same time that totals are updated. That is, the min value is updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. After a CB is processed, the min values of all CB TOT Vars for each CB Var Group at the same or lower level than the triggering group are set to NULL. The min values of the CB TOT Vars for all higher level CB Var Groups and of the CB EOF Group are not modified.","example#Example":"The following example gets the current min value for the CB TOT Var sys.pr_syssize for the current CB Var/EOF Group for the current CB.\nmin = sys.get_min(sys.pr_syssize);","purpose#Purpose":"sys.get_min() returns the current min val of a CB TOT Var for a CB Var/EOF Group for a particular CB.","returns#Returns":"sys.get_min() can return alpha, integer or float. Since any value is valid for a min, there is no way to return a unique bad value, however sys.get_min() will try to return a bad value when necessary. A bad return for an alpha is the NULL string, or “”. A bad return for a float is -1.0, and a bad ret for an integer is -1. Thus the following may be considered bad returns sometimes, but they could also be perfectly valid.\n\"\" - OR\n-1.0 - OR\n-1 - Either , , or is invalid.\nAnyValue - The current min of the CB TOT Var for specified CB and CB Var Group.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_gmin() sys.get_tot() sys.get_gtot()","sysget_min#sys.get_min()":"","usage#Usage":"min = sys.get_min(\u003ccbtot\u003e); min = sys.get_min(\u003ccbvar\u003e,\u003ccbtot\u003e); min = sys.get_min(\u003cCBNAME\u003e,\u003ccbvar\u003e,\u003ccbtot\u003e); Or more generally\nmin = sys.get_min([[\u003cCBNAME\u003e,]\u003ccbvar\u003e,]\u003ccbtot\u003e); In most cases, sys.get_min() will be used with one argument. When used this way, it will work with the current CB and the current CB Var/EOF Group. Optional arguments are allowed so that you can get min vals without needing to be processing a particular CB Var Group or even a particular CB.","where-used#Where Used":"sys.get_min() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_min"},"/docs/systempcls/sys-get_msgline1/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running.\nOf Course this is subject to change.","description#Description":"sys.get_msgline1() returns the value of the 4C environment variable XLMSGLINE1. This env variable is used to control where 4C displays field help messages. This is normally one of the last two lines available on the screen.","example#Example":"In the system program sys.help.set, the Init PCL calls sys.get_msgline1() in order to display the current value before allowing the user to change it. The entire Init PCL follows:\nhelpmsg = sys.get_help(); fkhelp = sys.get_fkhelp(); msgl1 = sys.get_msgline1(); msgl2 = sys.get_msgline2(); retsel = sys.get_return();","purpose#Purpose":"sys.get_msgline1() returns the value of the 4C environment variable XLMSGLINE1.","returns#Returns":"integer 0 - The 4C Message Line Number One","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline2() sys.get_return() sys.set_fkhelp() sys.set_help() sys.set_msgline1() sys.set_msgline2() sys.set_return()","sysget_msgline1#sys.get_msgline1()":"","usage#Usage":"msgline1 = sys.get_msgline1();","where-used#Where Used":"sys.get_msgline1() can be called from anywhere. It is most likely used in system programs that may allow the user to change the value."},"title":"sys.get_msgline1"},"/docs/systempcls/sys-get_msgline2/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running.\nOf Course this is subject to change.","description#Description":"sys.get_msgline2() returns the value of the 4C environment variable XLMSGLINE2. This env variable is used to control where 4C displays fkey help messages. This is normally one of the last two lines available on the screen.","example#Example":"In the system program sys.help.set, the Init PCL calls sys.get_msgline2() in order to display the current value before allowing the user to change it. The entire Init PCL follows:\nhelpmsg = sys.get_help(); fkhelp = sys.get_fkhelp(); msgl1 = sys.get_msgline1(); msgl2 = sys.get_msgline2(); retsel = sys.get_return();","purpose#Purpose":"sys.get_msgline2() returns the value of the 4C environment variable XLMSGLINE2.","returns#Returns":"integer 0 - The 4C Message Line Number Two","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline1() sys.get_return() sys.set_fkhelp() sys.set_help() sys.set_msgline1() sys.set_msgline2() sys.set_return()","sysget_msgline2#sys.get_msgline2()":"","usage#Usage":"msgline2 = sys.get_msgline2();","where-used#Where Used":"sys.get_msgline2() can be called from anywhere. It is most likely used in system programs that may allow the user to change the value."},"title":"sys.get_msgline2"},"/docs/systempcls/sys-get_nusers/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_nusers() returns the number of 4C processes currently running. Each copy of 4C and each 4C utility counts as one process. sys.get_nusers() always returns \u003c= sys.get_maxusers().","example#Example":"The following code is the Init PCL for sys.ui.display.\nmaxusers = sys.get_maxusers(); nusers = sys.get_nusers(); sys.create_tfile(sys.usr_info); for (i = 0; i \u003c maxusers; i += 1) { if ((sys.ui_usrname = sys.get_username(i)) == \"\") continue; sys.ui_idx = i; sys.read_file(sys.usr_info,F_ADD|F_NODEBLOCK); sys.ui_ttyname = sys.get_ttyname(i); totusrsize += sys.ui_maxumem = sys.get_maxumem(i); sys.upd_file(sys.usr_info,F_DEFAULT); } sys.ui_usrname = \"\"; /* clear for drinit */","purpose#Purpose":"sys.get_nusers() returns the number of 4C processes currently running.","returns#Returns":"integer - The number of 4C processes currently running.","see-also#See Also":"sys.get_idx() sys.get_maxusers() sys.get_ttyname() sys.get_username()","sysget_nusers#sys.get_nusers()":"","usage#Usage":"nusers = sys.get_nusers();","where-used#Where Used":"sys.get_nusers() can be called from anywhere. It is used by some of the system configuration/display programs."},"title":"sys.get_nusers"},"/docs/systempcls/sys-get_pagediff/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_pagediff() returns to the user program the difference in page numbers of the current page and the page last printed on by the current program.\nsys.get_pagediff() is meant to be called by scrolling programs after calling other printing programs in order to determine if a page boundary was crossed or not. It is not necessary to call this routine unless you MUST know that a page boundary was crossed. In most cases it is not necessary to check if a page boundary was crossed because sys.skip() will cause an exit page if you skip past a page boundary. Normally, you will only need to call sys.get_linediff() and sys.skip() in order to deal with programs nested within scrolling programs.\nIt makes no sense to call sys.get_pagediff() from a non-scrolling program or from any non-printing program.","example#Example":"/* Print details if any */ sys.push_prog(\"print.detail\"); /* If page break caused by nested program then exit current page. In most cases it is not necessary to check if a page boundary was crossed because sys.skip() will cause an exit page if you skip past a page boundary. */ if (sys.get_pagediff()) sys.exit_page();","purpose#Purpose":"sys.get_pagediff() returns the difference in the page numbers of the current page and the page last printed on by the current program.","returns#Returns":"\u003e= 0 - difference in page numbers of current page and page of last printed item for current program.\nThere are no error returns.","see-also#See Also":"sys.page() sys.skip() sys.end_page() sys.exit_page() sys.page_isfull() sys.get_linediff() sys.is_tof()","sysget_pagediff#sys.get_pagediff()":"","usage#Usage":"pdiff = sys.get_pagediff();","where-used#Where Used":"sys.get_pagediff() can be called from rpt programs after pushing another program, but before printing another field."},"title":"sys.get_pagediff"},"/docs/systempcls/sys-get_pagenum/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_pagenum() returns the current pagenum of the device that the current program is printing on. This is meant as a replacement of the PCL “sys.page_number()”. The reason for adding this PCL is that sys.page_number() sounds more like a variable name than a PCL. I think that by using PCLs that sound like verbs they are easier to remember. sys.page_number() will still work as before, but I would suggest using sys.get_pagenum() instead.","example#Example":"The following line is used as a StartFld PCL for the sys.rpt.phdr80 program for the pagenumber field. sys.rpt.phdr80 is used in the sys.prmem example reports as a page hdr.\npagenumber = sys.get_pagenum();","purpose#Purpose":"sys.get_pagenum() returns the current page number.","returns#Returns":"pagenum - the current page number of the device being used by the current program.","see-also#See Also":"sys.get_linenum() sys.get_linediff() sys.get_pagediff()","sysget_pagenum#sys.get_pagenum()":"","usage#Usage":"pagenum = sys.get_pagenum();","where-used#Where Used":"sys.get_pagenum() can be called from anywhere. It will normally be used when printing headers for reports."},"title":"sys.get_pagenum"},"/docs/systempcls/sys-get_parent/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program you want the name of the parent of.\nThis is an optional argument, and if it is not used, then the current program is assumed.","bugs--features--comments#Bugs / Features / Comments":"If more than one program exist with the same name, sys.get_parent() only ever sees one of them. It will be the most recently used.\nThere is no way to determine the name of the program that called a program, except for a pushed program where the parent program is the calling program.","description#Description":"sys.get_parent() returns the asprog name of the parent of the current program or of the program specified in the argument. The parent may or may not be the program that started . If was pushed, then it will be the calling program. If was linked, then it will be the program that pushed the first program on the same level as . If was execed, then its parent is the parent of the program that execed it.","example#Example":"None","purpose#Purpose":"sys.get_parent() returns the asprog name of the parent of the current program or of the program specified in the argument.","returns#Returns":"\"\" - Either no such asprog , or is at the top of the 4C hierarchy and has no parent.\nparent - The asprog name of the parent of","see-also#See Also":"sys.cbc_init()","sysget_parent#sys.get_parent()":"","usage#Usage":"parent = sys.get_parent([\u003casprog\u003e]);","where-used#Where Used":"sys.get_parent() can be called from anywhere."},"title":"sys.get_parent"},"/docs/systempcls/sys-get_pid/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_pid() returns the Process Id of the 4C process.","example#Example":"None","purpose#Purpose":"sys.get_pid() returns the Process Id of the 4C process.","returns#Returns":"integer - The Process Id","see-also#See Also":"None","sysget_pid#sys.get_pid()":"","usage#Usage":"pid = sys.get_pid();","where-used#Where Used":"sys.get_pid() can be called from anywhere."},"title":"sys.get_pid"},"/docs/systempcls/sys-get_progname/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the 4C program that you want the real program name of.","bugs--features--comments#Bugs / Features / Comments":"If more than one program is active with the same asprog name, only the most recently active one is used by sys.build_stlist().","description#Description":"sys.get_progname() returns the real program name for the asprog arg. It is probably not real useful to normal programs, but debugger type programs will have a use for it. It was added so that the 4C debugger programs could call it when the asprog name was known in order to display the real program name.","example#Example":"The following example is from the 4C debugger program sys.dbg.fld. It is the aspefld PCL. It is used in order to display the real program name along with the asprog name on the screen.\nif (sys.is_prog(asprog) == 0) { sys.err_msg(\"No Such Program:\",asprog); sys.exit_field(sys.cur_field); } progname = sys.get_progname(asprog);","purpose#Purpose":"sys.get_progname() returns the real program name for the asprog arg.","returns#Returns":"NULLSTRING - No such currently active\n- The real program name of","see-also#See Also":"sys.is_prog()","sysget_progname#sys.get_progname()":"","usage#Usage":"progname = sys.get_progname(\u003casprog\u003e);","where-used#Where Used":"sys.get_progname() can be called from anywhere. However, it is normally only used in the 4C debugger programs."},"title":"sys.get_progname"},"/docs/systempcls/sys-get_program/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"Don’t confuse this PCL with sys.get_progname().","description#Description":"sys.get_program() returns the real program name of the current program.","example#Example":"The system program sys.mem.summary uses sys.get_program() to re exec itself. The advantage of doing this is that sys.mem.summary could be renamed, and it would still work. The code that does this is in the EndFldLp PCL getans(). Here it is:\nif (sys.get_answer(\"Again?\",'y',1,INP_QUICK) == 'y') sys.exec_prog(sys.get_program());","purpose#Purpose":"sys.get_program() returns the real program name of the current program.","returns#Returns":"alpha The real program name of the current program","see-also#See Also":"sys.get_progname() sys.get_category() sys.get_field()","sysget_program#sys.get_program()":"","usage#Usage":"progname = sys.get_program();","where-used#Where Used":"sys.get_program() can be called from anywhere."},"title":"sys.get_program"},"/docs/systempcls/sys-get_return/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of Course this is subject to change.","description#Description":"sys.get_return() returns the value of the 4C environment variable XLRETURN. This env variable is used to control how a select screen acts when a is typed. If sys.get_return() returns “SELECT”, then a select screen will treat the key like accept. Otherwise, it will not. This may or may not be set in the users shell environment. Even if set, it could be different, because sys.set_return() will not affect the shell environment.","example#Example":"In the system program sys.help.set, the Init PCL calls sys.get_return() in order to display the current value before allowing the user to change it. The entire Init PCL follows:\nhelpmsg = sys.get_help(); fkhelp = sys.get_fkhelp(); msgl1 = sys.get_msgline1(); msgl2 = sys.get_msgline2(); retsel = sys.get_return();","purpose#Purpose":"sys.get_return() returns the value of the 4C environment variable XLRETURN.","returns#Returns":"alpha “SELECT” - The return key will select the rcd in select screens.\n“NOSELECT” - The return key will not select the rcd in select screens. Only the key will select the rcd.","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline1() sys.get_msgline2() sys.set_fkhelp() sys.set_help() sys.set_msgline1() sys.set_msgline2() sys.set_return()","sysget_return#sys.get_return()":"","usage#Usage":"retsel = sys.get_return();","where-used#Where Used":"sys.get_return() can be called from anywhere. It is most likely used in system programs that may allow the user to change the value."},"title":"sys.get_return"},"/docs/systempcls/sys-get_rusage/":{"data":{"":"","arguments#Arguments":"- The asfile for a sys.t_rusage() file. - Combinations of RU_CURRENT, RU_TOTAL, and RU_RESET","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_rusage() will populate the file variables with appropriate values depending on the flags passed in. If RU_TOTAL is specified the the resource usage returned is the total resources used by the current 4csrvr session since it started. Otherwise the values returned are the resources used since the last call to sys.init_rusage(). If the RU_RESET flag is specified, then after populating the the saved current resource usage is updated acting as if another call to sys.init_rusage() was made. Passing in only RU_DEFAULT is the same as passing in RU_CURRENT.\nRequirements\nsys.get_rusage() requires 4CServer Version 6.2.2-05 or later","example#Example":"The sys.profile.s bootstrap program has examples of both sys.init_rusage() and sys.get_rusage().","purpose#Purpose":"None","returns#Returns":"-1 - Invalid 0 - OK - File variables of the have been populated appropriately","see-also#See Also":"sys.get_rusage()","sysget_rusage#sys.get_rusage()":"","usage#Usage":"ret = sys.get_rusage(\u003ctruasfile\u003e,\u003cruflags\u003e);","where-used#Where Used":"sys.get_rusage() can be called from anywhere. It will typically be called after running a section of code that you are monitoring for resource usage. This code is typically sandwiched between a calls to sys.init_rusage() and sys.get_rusage()."},"title":"sys.get_rusage"},"/docs/systempcls/sys-get_saveval/":{"data":{"":"","arguments#Arguments":"alpha - An optional name that identifies a previous save. var - - A 4C variable of any type","bugs--features--comments#Bugs / Features / Comments":"The only way to verify that there was no error is to check that sys_ret is equal to SYSRET_OK.\nAssigning a saved variable to an incompatible variable (i.e. integer to alpha) is not flagged as an error.","description#Description":"sys.get_saveval() will return the saved value of a variable that was saved using sys.fl_save(). It does not store into the variable itself, rather it stores into . This makes it easier to compare save values with current values. You can of course store into the variable itself explicitly.","example#Example":"None","purpose#Purpose":"sys.get_saveval() returns a single saved variable","returns#Returns":"Return depends on saved variable type.","see-also#See Also":"sys.fl_save() sys.restore_share() sys.fl_restore()","sysget_saveval#sys.get_saveval()":"","usage#Usage":"ret = sys.get_saveval([ \u003cname\u003e, ] \u003cvar\u003e);","where-used#Where Used":"sys.get_saveval() can be called from anywhere."},"title":"sys.get_saveval"},"/docs/systempcls/sys-get_sflmfmax/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"If when running the sys.mem.summary program you usually have File Mem Faults, you need to either increase the amount of system memory specified in the XLCONFIG file, or lower the number of files.","description#Description":"sys.get_sflmfmax() returns the max sfl mem fault value. This is the maximum amount of memory allocated in non-shared memory instead of shared memory at one time because shared memory was not available when a file needed it. sfl stands for an internal structure named sys_file.","example#Example":"The following stmt is the StFld PCL for sflmfmax in the program sys.mem.summary.\nsflmfmax = sys.get_sflmfmax();","purpose#Purpose":"sys.get_sflmfmax() returns the max sfl mem fault value.","returns#Returns":"integer - The max amount memory allocated in non-shared memory instead of shared memory because shared memory could not be allocated when a file def was being read into shared memory.","see-also#See Also":"sys.get_sflsfmax() sys.get_spmfmax() sys.get_spsfmax()","sysget_sflmfmax#sys.get_sflmfmax()":"","usage#Usage":"sflmfmax = sys.get_sflmfmax();","where-used#Where Used":"sys.get_sflmfmax() can be called from anywhere. It is used in the system program sys.mem.summary to help in configuring the system. This is meant for INTERNAL USE ONLY."},"title":"sys.get_sflmfmax"},"/docs/systempcls/sys-get_sflsfmax/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"If when running the sys.mem.summary program you usually have File Slot Faults, you probably need to increase the number of files specified in the XLCONFIG file.","description#Description":"sys.get_sflsfmax() returns the max sfl slot fault value. This is the maximum number of files allocated in non-shared memory instead of shared memory at one time because no sfl slot was available when a file needed it. sfl stands for an internal structure named sys_file.","example#Example":"The following stmt is the StFld PCL for sflsfmax in the program sys.mem.summary.\nsflsfmax = sys.get_sflsfmax();","purpose#Purpose":"sys.get_sflsfmax() returns the max sfl slot fault value.","returns#Returns":"integer - The max number of files allocated in non-shared memory instead of shared memory because there were no available sfl slots when a file def was being read into shared memory.","see-also#See Also":"sys.get_sflmfmax() sys.get_spmfmax() sys.get_spsfmax()","sysget_sflsfmax#sys.get_sflsfmax()":"","usage#Usage":"sflsfmax = sys.get_sflsfmax();","where-used#Where Used":"sys.get_sflsfmax() can be called from anywhere. It is used in the system program sys.mem.summary to help in configuring the system.\nsys.get_sflsfmax() is meant for INTERNAL USE ONLY."},"title":"sys.get_sflsfmax"},"/docs/systempcls/sys-get_spcalt/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_spcalt() returns the alternate value of a 4C function key. The alternate value is normally an escape sequence that the user types in order to trigger a 4C function key. The 4C function key is triggered whenever 4C recognizes the spcstring sequence or the spcalt sequence in the input stream.","example#Example":"The following is from the slp() PCL of sys.spc.set.\nspcstring = sys.get_spcstr(sys.spc_name); spclabel = sys.get_spclabel(sys.spc_name); spcalt = sys.get_spcalt(sys.spc_name); ok = ''","purpose#Purpose":"sys.get_spcalt() returns the alternate value of a 4C function key.","returns#Returns":"spcalt - The alternate value of the spc for . This will be blank if an illegal is specified. Any control characters are converted to a displayable format.","see-also#See Also":"sys.set_spcstr() sys.set_spclabel() sys.set_spcalt() sys.get_spcstr() sys.get_spclabel() sys.get_spcalt()","sysget_spcalt#sys.get_spcalt()":"","usage#Usage":"spcalt = sys.get_spcalt(\u003cspcname\u003e);","where-used#Where Used":"sys.get_spcalt() can be called from anywhere. It normally would be called from a program that remaps the function keys to a particular users liking."},"title":"sys.get_spcalt"},"/docs/systempcls/sys-get_spclabel/":{"data":{"":"","arguments#Arguments":"alpha - The name of the spc to get the label for. This will be a key to the file sys.spc_char.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_spclabel() returns the label of a 4C function key.","example#Example":"The following is from the slp() PCL of sys.spc.set.\nspcstring = sys.get_spcstr(sys.spc_name); spclabel = sys.get_spclabel(sys.spc_name); spcalt = sys.get_spcalt(sys.spc_name); ok = ''","purpose#Purpose":"sys.get_spclabel() returns the current value of a label for a 4C function key.","returns#Returns":"spclabel - The value of the label for . This will be blank if an illegal is specified.","see-also#See Also":"sys.set_spcstr() sys.set_spclabel() sys.set_spcalt() sys.get_spcstr() sys.get_spclabel() sys.get_spcalt()","sysget_spclabel#sys.get_spclabel()":"","usage#Usage":"spclabel = sys.get_spclabel(\u003cspcname\u003e);","where-used#Where Used":"sys.get_spclabel() can be called from anywhere. It normally would be called so that you can indicate to the user what function key to press."},"title":"sys.get_spclabel"},"/docs/systempcls/sys-get_spcstr/":{"data":{"":"","arguments#Arguments":"alpha - The name of the spc to get. This will be a key to the file sys.spc_char.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_spcstr() returns the spcstring sequence of a 4C function key. The spcstring sequence is what 4C expects to see when you press a particular 4C function key like or . Whenever 4C sees the spcstring sequence in the input stream, it triggers the 4C function key that it is associated with. The 4C function key can be triggered by the spcalt sequence also.","example#Example":"The following is from the slp() PCL of sys.spc.set.\nspcstring = sys.get_spcstr(sys.spc_name); spclabel = sys.get_spclabel(sys.spc_name); spcalt = sys.get_spcalt(sys.spc_name); ok = ''","purpose#Purpose":"sys.get_spcstr() returns the current value of a 4C function key.","returns#Returns":"spcstr - The value of the spc string for . This will be blank if an illegal is specified. Any control characters are converted to a displayable format.","see-also#See Also":"sys.set_spcstr() sys.set_spclabel() sys.set_spcalt() sys.get_spclabel() sys.get_spcalt()","sysget_spcstr#sys.get_spcstr()":"","usage#Usage":"spcstr = sys.get_spcstr(\u003cspcname\u003e);","where-used#Where Used":"sys.get_spcstr() can be called from anywhere. It normally would be called from a program that remaps the function keys to a particular users liking."},"title":"sys.get_spcstr"},"/docs/systempcls/sys-get_spmfmax/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"If when running the sys.mem.summary program you usually have Program Mem Faults, you need to either increase the amount of system memory specified in the XLCONFIG file, or lower the number of programs.","description#Description":"sys.get_spmfmax() returns the max sp mem fault value. This is the maximum amount of memory allocated in non-shared memory instead of shared memory at one time because shared memory was not available when a program needed it. sp stands for an internal structure named sys_prog.","example#Example":"The following stmt is the StFld PCL for spmfmax in the program sys.mem.summary.\nspmfmax = sys.get_spmfmax();","purpose#Purpose":"sys.get_spmfmax() returns the max sp mem fault value.","returns#Returns":"integer - The max amount memory allocated in non-shared memory instead of shared memory because shared memory could not be allocated when a program was being read into shared memory.","see-also#See Also":"sys.get_sflmfmax() sys.get_sflsfmax() sys.get_spsfmax()","sysget_spmfmax#sys.get_spmfmax()":"","usage#Usage":"spmfmax = sys.get_spmfmax();","where-used#Where Used":"sys.get_spmfmax() can be called from anywhere. It is used in the system program sys.mem.summary to help in configuring the system. This is meant for INTERNAL USE ONLY."},"title":"sys.get_spmfmax"},"/docs/systempcls/sys-get_spsfmax/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"If when running the sys.mem.summary program you usually have Program Slot Faults, you probably need to increase the number of programs specified in the XLCONFIG file.","description#Description":"sys.get_spsfmax() returns the max sp slot fault value. This is the maximum number of programs allocated in non-shared memory instead of shared memory at one time because no sp slot was available when a program needed it. sp stands for an internal structure named sys_prog.","example#Example":"The following stmt is the StFld PCL for spsfmax in the program sys.mem.summary.\nspsfmax = sys.get_spsfmax();","purpose#Purpose":"sys.get_spsfmax() returns the max sp slot fault value.","returns#Returns":"integer - The max number of programs allocated in non-shared memory instead of shared memory because there were no available sp slots when a program was being read into shared memory.","see-also#See Also":"sys.get_sflmfmax() sys.get_sflsfmax() sys.get_spmfmax()","sysget_spsfmax#sys.get_spsfmax()":"","usage#Usage":"spsfmax = sys.get_spsfmax();","where-used#Where Used":"sys.get_spsfmax() can be called from anywhere. It is used in the system program sys.mem.summary to help in configuring the system.\nsys.get_spsfmax() is meant for INTERNAL USE ONLY."},"title":"sys.get_spsfmax"},"/docs/systempcls/sys-get_svinfo/":{"data":{"":"","arguments#Arguments":"alpha - -","bugs--features--comments#Bugs / Features / Comments":"There is no difference between calling sys.get_clinfo() or sys.get_svinfo() when is “ConnectStatus” or “Interactive”.","description#Description":"sys.get_svinfo() returns a string representation of the requested info. must be one of:\n“ConnectStatus” - The returned value when requesting “ConnectStatus” can be one of: “Error” - The client connection has been lost. sys.errno will be set to the os errno. “Connected” - The client is currently connected. “Disconnected” - The client is disconnected but the server is still working. “Interactive” - Returns “Yes” or “No” depending on whether the server is communicating with an interactive or non-interactive client. “UserName” - Returns the user name associated with the 4csrvr process. This will normally be the same as the system variable sys.l_username. “ComputerName” - Returns the computer name of the server or “Unknown” if it cannot be determined. “MACAddress” - Returns the MAC Address of the ethernet card being used by the server in “xx:xx:xx:xx:xx:xx” notation or “Unknown” if it cannot be determined. “PublicKey” - Returns a string representation of the 4C Servers Host public key. This should be unique across all 4c server installations as long as the server install was done properly. This string can be long. “Idle” - Returns “Yes” or “No” depending on whether the server was idle when the last timeout occurred. It only makes sense to check for “Idle” if you are processing a client timeout. SerialCustName - Returns the customer name from the serialization file. SerialLicenseType - Returns the License type from the serialization file. SerialComputerName - Returns the computer name from the serialization file. SerialMACAddrList - Returns the list of MAC Addresses from the serialization file. SerialMaxUsers - Returns the number of licensed users from the serialization file. SerialStartDate - Returns the date the serialization file became active. SerialEndDate - Returns the last date the serialization file is good for. SerialError - Returns “Yes” to indicate that the serialization file is invalid. SerialHWError - Returns “Yes” to indicate the serialization file hardware list does not match the current hardware configuration. SerialDemo - Returns “Yes” to indicate that 4C is running in Demo mode. SerialInfoDisplayed - Returns “Yes” to indicate that serialization info has been displayed to the user. sys.get_svinfo() always returns an alpha value. If the requested info is numeric, the application will need to convert it.","example#Example":"See the demo.info.1 demo program for an example of sys.get_svinfo().","purpose#Purpose":"sys.get_svinfo() retrieves server info.","returns#Returns":"alpha - A alpha representation of the requested info.","see-also#See Also":"sys.get_clnfo()","sysget_svinfo#sys.get_svinfo()":"","usage#Usage":"aval = sys.get_svinfo(\u003cinfotype\u003e);","where-used#Where Used":"sys.get_svinfo() can be called from anywhere."},"title":"sys.get_svinfo"},"/docs/systempcls/sys-get_timeoutp/":{"data":{"":"","arguments#Arguments":"TIMEOUT_TYPE must be one of\nTO_SVGLOBAL - Server Session Timeout. TO_SVPROGRAM - Server Program Timeout TO_CLGLOBAL - Client Session Timeout TO_CLPROGRAM - Client Program Timeout.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_timeoutp() returns the timeout prog and its arguments for either a program or a session timeout.","example#Example":"The demo programs that catch timeouts have examples. See:\ndemo.main.s lockscreen.s","purpose#Purpose":"sys.get_timeoutp() returns the timeout prog and its arguments for any server/client program/session timeout.","returns#Returns":"Blank - there is no timeoutprog or no timeout defined for TIMEOUT_TYPE.\nNonBlank - The program and args associated with TIMEOUT_TYPE.","see-also#See Also":"sys.set_timeout() sys.get_timeoutv() sys.set_alarm() sys.lock_clientws() sys.exit_client() sys.exit_4c()","sysget_timeoutp#sys.get_timeoutp()":"","usage#Usage":"oldtimeoutp = sys.get_timeoutp(TIMEOUT_TYPE);","where-used#Where Used":"sys.get_timeoutp() can be called from anywhere. However it will normally be called by a timeout processing program that wants to disable a timeout in the InitPCL and reenable it in the ExitPCL."},"title":"sys.get_timeoutp"},"/docs/systempcls/sys-get_timeoutv/":{"data":{"":"","arguments#Arguments":"TIMEOUT_TYPE must be one of\nTO_SVGLOBAL - Server Session Timeout. TO_SVPROGRAM - Server Program Timeout TO_CLGLOBAL - Client Session Timeout TO_CLPROGRAM - Client Program Timeout.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_timeoutv() returns the #seconds for the specified timeout type.","example#Example":"The demo programs that catch timeouts have examples. See:\ndemo.main.s lockscreen.s","purpose#Purpose":"sys.get_timeoutv() returns the timeout value for any server/client session/program timeout.","returns#Returns":"0 - there is no timeout defined for TIMEOUT_TYPE.\n0 - The #seconds associated with TIMEOUT_TYPE.","see-also#See Also":"sys.set_timeout() sys.get_timeoutp() sys.set_alarm() sys.lock_clientws() sys.exit_client() sys.exit_4c()","sysget_timeoutv#sys.get_timeoutv()":"","usage#Usage":"oldtimeoutv = sys.get_timeoutv(TIMEOUT_TYPE);","where-used#Where Used":"sys.get_timeoutv() can be called from anywhere."},"title":"sys.get_timeoutv"},"/docs/systempcls/sys-get_tot/":{"data":{"":"","arguments#Arguments":"- The name of the CB that you need to get a running total for. This is an optional argument. If it is not passed, then sys.get_tot() uses the current CB. If it is passed, then the argument must also be passed.\n- The fldname that defines the CB Var Group that you want the running total for. This is an optional argument as long as the argument is not used. If is not used, then sys.get_tot() assumes the current CB Var/EOF Group for the current CB.\n- The name of the CB TOT Var to return the running total for. This argument must always be specified.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_tot() returns the current running total of a CB TOT Var for a CB Var/EOF Group for a particular CB. It can be called with 1, 2, or 3 arguments.\nIf called with 1 arg, the arg is . sys.get_tot() will return the current running total of the CB TOT Var for the Current CB Var/EOF Group for the current CB.\nIf used with 2 args, the args are and . sys.get_tot() will return the current running total of the CB TOT Var for the specified CB Var Group for the current CB. You may want to use sys.get_tot() in this manner if you need to access a CB TOT Var of a particular CB Var Group for the current CB outside of the current CB Var Group.\nIf used with 3 args, the args are , , and . sys.get_tot() will return the running total of the CB TOT Var for the specified CB Var for the specified CB. You may want to use sys.get_tot() in this manner if you need to access a CB TOT Var for a particular CB Var Group of any CB outside of the processing for that CB.\nThus, you can get a running total for any CB TOT Var for any CB Var Group for any currently active CB from any PCL.\nIn order to get a running total of a CB TOT Var for the CB EOF Group outside of the CB EOF Group processing, you need to call sys.get_gtot() instead of sys.get_tot().\n4C maintains running totals for each CB TOT Var that was defined as TOT for each CB Var group and for the CB EOF Group. This value is updated after the rcd has been CB Selected and before running the DRSELECT or DRPROC PCL. After a CB is processed, the running totals of all CB TOT Vars for each CB Var Group at the same or lower level than the triggering group are set to NULL. The running totals of the CB TOT Vars for all higher level CB Var Groups and of the CB EOF Group are not modified.","example#Example":"The following example gets the current running total for the CB TOT Var sys.pr_syssize for the current CB Var/EOF Group for the current CB.\ntot = sys.get_tot(sys.pr_syssize);","purpose#Purpose":"sys.get_tot() returns the current running total of a CB TOT Var for a CB Var/EOF Group for a particular CB.","returns#Returns":"sys.get_tot() can return integer or float. Since any value is valid for a tot, there is no way to return a unique bad value, however sys.get_tot() will try to return a bad value when necessary. A bad return for a float is -1.0, and a bad ret for an integer is -1. Thus the following may be considered bad returns sometimes, but they could also be perfectly valid.\n-1.0 - OR -1 - Either , , or is invalid. AnyValue - The current running total of the CB TOT Var for specified CB and CB Var Group.","see-also#See Also":"sys.get_count() sys.get_gcount() sys.get_max() sys.get_gmax() sys.get_min() sys.get_gmin() sys.get_tot() sys.get_gtot()","sysget_tot#sys.get_tot()":"","usage#Usage":"tot = sys.get_tot(\u003ccbtot\u003e); tot = sys.get_tot(\u003ccbvar\u003e,\u003ccbtot\u003e); tot = sys.get_tot(\u003cCBNAME\u003e,\u003ccbvar\u003e,\u003ccbtot\u003e); Or more generally\ntot = sys.get_tot([[\u003cCBNAME\u003e,]\u003ccbvar\u003e,]\u003ccbtot\u003e); In most cases, sys.get_tot() will be used with one argument. When used this way, it will work with the current CB and the current CB Var/EOF Group. Optional arguments are allowed so that you can get running totals without needing to be processing a particular CB Var Group or even a particular CB.","where-used#Where Used":"sys.get_tot() can be called from anywhere as long as there is an active driver with set appropriately to either CB_DRPROC or CB_DRSEL."},"title":"sys.get_tot"},"/docs/systempcls/sys-get_tsinfo/":{"data":{"":"","arguments#Arguments":"asfile - The asfile for sys.dt_info that receives the timestamp info.\ninteger or integer64 - A UTC unix epoch timestamp.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_tsinfo() returns date, time, and timestamp info for a single UTC Unix epoch timestamp. The info is returned in the fields of a sys.dt_info asfile. See the file definition for sys.dt_info for more info.\nRequirements\n4cserver 6.4.7-07 or later\nWhen time is switching between daylight time and standard time, the same date and time can have 2 different valid timestamps, one using DT and one using ST. When this is the case the dti_alttimestamp will have the alternate timestamp. An example for this is the 2020-11-01 anytime between 1:00:00am and 1:59:59am for any USA location that uses daylight savings time.\nWhen time is switching between standard time and daylight time, there is one hour that does not really exist but sys.get_dtinfo() will return the info for that date and time as if it did exist but the fields in the sys.dt_info file will have the correct date and time on return. An example of this is 2020-03-08 anytime between 2:00:00am and 2:59:59am for any USA location that uses daylight savings time.","example#Example":"None","purpose#Purpose":"sys.get_tsinfo() returns date, time, and timestamp info for","returns#Returns":"0 - OK\n-1 - Error","see-also#See Also":"sys.get_dtinfo()","sysget_tsinfo#sys.get_tsinfo()":"","usage#Usage":"rc = sys.get_tsinfo(, );","where-used#Where Used":"sys.get_tsinfo() can be called from anywhere."},"title":"sys.get_tsinfo"},"/docs/systempcls/sys-get_tty/":{"data":{"":"","arguments#Arguments":"alpha - the name of the user that you want the tty name of.","bugs--features--comments#Bugs / Features / Comments":"If more than one user with same name are running 4C, sys.get_tty() will only ever return the ttyname of one of them.\nBe careful not to confuse this routine with sys.get_ttyname() which uses a instead of .","description#Description":"sys.get_tty() returns the tty name of . The “/dev/” is stripped off of the name returned.","example#Example":"None","purpose#Purpose":"sys.get_tty() returns the terminal name of .","returns#Returns":"\"\" - No such user currently logged on.\nalpha - The terminal name of user .","see-also#See Also":"sys.get_ttyname() sys.send_msg()","sysget_tty#sys.get_tty()":"","usage#Usage":"ttyname = sys.get_tty(\\\u003cusername\\\u003e);","where-used#Where Used":"sys.get_tty() can be called from anywhere. It could be used before a call to sys.send_msg() to determine the ttyname parameter."},"title":"sys.get_tty"},"/docs/systempcls/sys-get_ttyname/":{"data":{"":"","arguments#Arguments":"integer - The index into the user table","bugs--features--comments#Bugs / Features / Comments":"Be careful not to confuse this PCL with sys.get_tty() which takes a arg instead of a arg.","description#Description":"sys.get_ttyname() returns the terminal name of the user with idx . This comes from an internal table in shared memory maintained by 4C.","example#Example":"The following code is the Init PCL for sys.ui.display.\nmaxusers = sys.get_maxusers(); nusers = sys.get_nusers(); sys.create_tfile(sys.usr_info); for (i = 0; i \u003c maxusers; i += 1) { if ((sys.ui_usrname = sys.get_username(i)) == \"\") continue; sys.ui_idx = i; sys.read_file(sys.usr_info,F_ADD|F_NODEBLOCK); sys.ui_ttyname = sys.get_ttyname(i); totusrsize += sys.ui_maxumem = sys.get_maxumem(i); sys.upd_file(sys.usr_info,F_DEFAULT); } sys.ui_usrname = \"\"; /* clear for drinit */","purpose#Purpose":"sys.get_ttyname() returns the terminal name of the user identified by .","returns#Returns":"alpha - The terminal for the user with idx \"\" - No user associated with","see-also#See Also":"sys.get_idx() sys.get_maxusers() sys.get_nusers() sys.get_username() sys.get_tty()","sysget_ttyname#sys.get_ttyname()":"","usage#Usage":"ttyname = sys.get_ttyname(\u003cuseridx\u003e);","where-used#Where Used":"sys.get_ttyname() can be called from anywhere. It is used by some of the system configuration/display programs."},"title":"sys.get_ttyname"},"/docs/systempcls/sys-get_username/":{"data":{"":"","arguments#Arguments":"integer - The index into the 4C user info table. This must be \u003e= 0 and \u003c sys.get_maxusers().","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.get_username() returns the user name of the user identified by . The user info table is an internal table maintained by 4C. Some entries may be blank due to users logging on and off. The main purpose of this routine is to aid in system programs that display configuration and usage information.","example#Example":"The following code is the Init PCL for sys.ui.display.\nmaxusers = sys.get_maxusers(); nusers = sys.get_nusers(); sys.create_tfile(sys.usr_info); for (i = 0; i \u003c maxusers; i += 1) { if ((sys.ui_usrname = sys.get_username(i)) == \"\") continue; sys.ui_idx = i; sys.read_file(sys.usr_info,F_ADD|F_NODEBLOCK); sys.ui_ttyname = sys.get_ttyname(i); totusrsize += sys.ui_maxumem = sys.get_maxumem(i); sys.upd_file(sys.usr_info,F_DEFAULT); } sys.ui_usrname = \"\"; /* clear for drinit */","purpose#Purpose":"sys.get_username() returns the user name of the user identified by .","returns#Returns":"alpha - The username associated with \"\" - No user associated with","see-also#See Also":"sys.get_idx() sys.get_maxusers() sys.get_nusers() sys.get_ttyname()","sysget_username#sys.get_username()":"","usage#Usage":"username = sys.get_username(\u003cuseridx\u003e);","where-used#Where Used":"sys.get_username() can be called from anywhere. It is used by some of the system configuration and display programs."},"title":"sys.get_username"},"/docs/systempcls/sys-hide_panel/":{"data":{"":"","arguments#Arguments":"integer - the cdef of the panel.","bugs--features--comments#Bugs / Features / Comments":"sys.hide_panel() is obsolete. Use sys.show_panel(...,SF_HIDE) instead.","description#Description":"sys.hide_panel() hides the specified panel. Any children of the panel, whether they are dflds or panels are also hidden. In the case of tabfolder or overlay sub panels, making one sub panel invisible does not result in making any sibling sub panels visible.","example#Example":"See the demo.ovly.2, demo.ovly.3, and demo.tabf.3 demo programs for examples.","purpose#Purpose":"sys.hide_panel() is obsolete.","returns#Returns":"integer 0 - OK\n-1 - Not a screen program, or client version not up to date.","see-also#See Also":"sys.show_panel()","syshide_panel#sys.hide_panel()":"","usage#Usage":"ret = sys.hide_panel(\u003cpnlcdef\u003e);","where-used#Where Used":"sys.hide_panel() can be called from any PCL in a Panel program except the InitPCL, EndPCL, and ExitPCL."},"title":"sys.hide_panel"},"/docs/systempcls/sys-init_rusage/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.init_rusage() saves the current resource usage so that a later call to sys.get_rusage() can return the resource usage since the last call to sys.init_rusage()","example#Example":"The sys.profile.s bootstrap program has examples of both sys.init_rusage() and sys.get_rusage().","purpose#Purpose":"sys.init_rusage() saves the current resource usage so that a later call to sys.get_rusage() can return the resource usage since the last call to sys.init_rusage()","returns#Returns":"0 - Always returns 0","see-also#See Also":"sys.get_rusage()","sysinit_rusage#sys.init_rusage()":"","usage#Usage":"ret = sys.init_rusage();","where-used#Where Used":"sys.init_rusage() can be called from anywhere but is typically called right before code that you are monitoring for resource usage."},"title":"sys.init_rusage"},"/docs/systempcls/sys-input_ok/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.input_ok() and be used to determine if the current field will allow input. This may be useful to know in case the field is being processed but will not allow input due to tabbing to another field or user pressing key or something similar.","example#Example":"None","purpose#Purpose":"sys.input_ok() lets the application know if the current field will be input.","returns#Returns":"0 - Either there is not a current field or the current field is not going to allow input. 1 - Field will allow user input.","see-also#See Also":"None","sysinput_ok#sys.input_ok()":"","usage#Usage":"if (sys.input_ok()) do_something();","where-used#Where Used":"sys.input_ok() should be called only from the SFld PCL for any field."},"title":"sys.input_ok"},"/docs/systempcls/sys-int_val/":{"data":{"":"","arguments#Arguments":"- The alpha to convert to ascii.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.int_val() converts an alpha character to its equivalent integer value.","example#Example":"/* Convert 1 char to lower case */ if ((avar(i,i) \u003e= 'A') \u0026\u0026 (avar(i,i) \u003c= 'Z')) avar(i,i) = sys.char_val(sys.int_val(avar(i,i))+32);","purpose#Purpose":"sys.int_val() converts an alpha character to an integer value.","returns#Returns":"- The integer equivalent of .","see-also#See Also":"sys.char_val()","sysint_val#sys.int_val()":"","usage#Usage":"ivar = sys.int_val();","where-used#Where Used":"sys.int_val() can be called from anywhere."},"title":"sys.int_val"},"/docs/systempcls/sys-is_clsrvr/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"This is not available in older character versions of 4c.","description#Description":"sys.is_clsrvr() is meant to allow you to distinguish between character4c and client/srvr 4c while your application is running.","example#Example":"if (sys.is_clsrvr()) dosomething(); else dosomethingelse();","purpose#Purpose":"sys.is_clsrvr() returns 1 if 4c is client/server 4c.","returns#Returns":"0 - Not running Client/Server 4c\n1 - Running Client/Server 4c","see-also#See Also":"sys.cbp_exit() sys.char_val()","sysis_clsrvr#sys.is_clsrvr()":"","usage#Usage":"ret = sys.is_clsrvr();","where-used#Where Used":"sys.is_clsrvr() can be called from anywhere."},"title":"sys.is_clsrvr"},"/docs/systempcls/sys-is_prog/":{"data":{"":"","arguments#Arguments":"asprog - The 4C asprog name of the program","bugs--features--comments#Bugs / Features / Comments":"There is no way to determine if more than one copy of is running. However, this could be added.","description#Description":"sys.is_prog() indicates if the arg is a currently running 4C program.","example#Example":"The following example is from the 4C debugger program sys.dbg.fld. It is the aspefld PCL. It is used in order to verify that exists before trying to display the fields in .\nif (sys.is_prog(asprog) == 0) { sys.err_msg(\"No Such Program:\",asprog); sys.exit_field(sys.cur_field); } progname = sys.get_progname(asprog);","purpose#Purpose":"sys.is_prog() indicates if the arg is a currently running 4C program.","returns#Returns":"0 - is not currently running.\n1 - is currently running","see-also#See Also":"sys.get_progname()","sysis_prog#sys.is_prog()":"","usage#Usage":"ret = sys.is_prog();","where-used#Where Used":"sys.is_prog() can be called from anywhere. It is used in the 4C debugger programs for verification. It could also be used to prevent multiple copies of a program from being run."},"title":"sys.is_prog"},"/docs/systempcls/sys-is_tof/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.is_tof() is called to determine if the current output device is at top of form. Typically, sys.is_tof() is called to determine if page headers and report headers need to be printed.\nsys.is_tof() can be called from any program, scrolling and non-scrolling, printing and non-printing. The report output device needs to be open.\nsys.is_tof() should be called instead of checking if sys.get_linenum() \u003c= 1.\nNormally, sys.is_tof() would be called from the SPagePCL of a scrolling program, or from the InitPCL of a non-scrolling program.\nAfter a call to sys.page(), calls to sys.is_tof() will return 1 until something new is printed on the current output device, or until sys.skip() is called. Thereafter, calls to sys.is_tof() will return 0 until the next call to sys.page().","example#Example":"if (sys.is_tof()) sys.push_prog(\"rpt.pagehdr\");","purpose#Purpose":"sys.is_tof() is used to determine if the current output device is at the top of form or not.","returns#Returns":"1 - Current output device is at top of form.\n0 - Current output device is not at top of form.\nThere are no error returns.","see-also#See Also":"sys.page_isfull() sys.page() sys.skip()","sysis_tof#sys.is_tof()":"","usage#Usage":"if (sys.is_tof()) dosomething();","where-used#Where Used":"sys.is_tof() is NORMALLY called from a StartPage PCL of a scrolling rpt program, or from an init PCL of a non-scrolling rpt program. It is usually used in together with sys.page_isfull() and sys.page(). It is used to determine if headers need to be printed."},"title":"sys.is_tof"},"/docs/systempcls/sys-kill_prog/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program that is to be killed.\ninteger [exitcode] - optional arg to set the exit code of the program killed. If you do not set this, then the value EXIT_KILL is the exit code of your program. Normally, if you set this arg, you will use EXIT_KILL for the exit code.\ninteger [killflags] - Optional arg to specify how kill should work. These flags can be or’d together. If you specify killflags, then the optional arg [exitcode] needs to be specified also. You can use any of the following for [killflags].\nK_SINGLE - Kill only the program specified. This is the default if no killflags are specified. K_CHILDREN - Kill all children of program specified. This flag alone will not kill the program specified, only programs that are children of it. K_LEVEL - Kill all programs on same level or lower than program specified. K_DEFAULT - Shorthand for K_SINGLE|K_CHILDREN. This is NOT the default if no flags are specified.","bugs--features--comments#Bugs / Features / Comments":"When a program is killed, the End PCL and the Exit PCL will both be executed. This may need to be changed.","description#Description":"sys.kill_prog() kills a 4C program. It can only be used for the current 4C session. You cannot kill a program of another 4C process. Killing a program causes the killed program to set run the PrEnd PCL when it regains control. One effect of killing a program is that when control returns to it, it will not redraw itself.","example#Example":"The 4C debugger program sys.dbg.kill allows you to kill a running program from the debugger. The following code comes from the killit PCL of this program.\nif (killflag == 'y') { beep(); return; } sys.kill_prog(sys.tp_asprog); killflag = 'y'","purpose#Purpose":"sys.kill_prog() kills the program specified by the argument.","returns#Returns":"0 - OK - program killed\n-1 - No such program .","see-also#See Also":"sys.dbg.kill()","syskill_prog#sys.kill_prog()":"","usage#Usage":"ret = sys.kill_prog(\u003casprog\u003e,[exitcode], [killflags]);","where-used#Where Used":"sys.kill_prog() can be called from anywhere. Currently it is used by the 4C debugger."},"title":"sys.kill_prog"},"/docs/systempcls/sys-l_fill/":{"data":{"":"","arguments#Arguments":"alpha - The alpha variable to left fill. alpha - An alpha variable of length 1 to use as the fill char. integer - The maximum length to fill to.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"None","example#Example":"None","purpose#Purpose":"sys.l_fill() will left pad with up to length","returns#Returns":"alpha - A copy of left filled with to a length of","see-also#See Also":"Sys PCLs List","sysl_fill#sys.l_fill()":"","usage#Usage":"= sys.l_fill(,,);","where-used#Where Used":"sys.l_fill() can be called from anywhere."},"title":"sys.l_fill"},"/docs/systempcls/sys-l_strip/":{"data":{"":"","arguments#Arguments":"alpha - The alpha variable to strip leading characters from.\nalpha - A string of length 1 indicating the character that should be stripped from the beginning of .","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"None","example#Example":"None","purpose#Purpose":"sys.l_strip() strips all leading characters from the beginning of","returns#Returns":"alpha - A copy of with the leading characters deleted.","see-also#See Also":"Sys PCLs List","sysl_strip#sys.l_strip()":"","usage#Usage":"\u003caret\u003e = sys.l_strip(\u003coriginalstring\u003e,\u003cstripchar\u003e);","where-used#Where Used":"sys.l_strip() can be called from anywhere."},"title":"sys.l_strip"},"/docs/systempcls/sys-link_group/":{"data":{"":"","arguments#Arguments":"int flags - Currently unused\nalpha - Any alpha value is a valid group name.\nalpha - The real program name of the program to start if does not exist yet.","bugs--features--comments#Bugs / Features / Comments":"This group stuff is only experimental right now and it will be better defined in the future.","description#Description":"sys.link_group() starts a new 4C group or links to an existing one. A 4C group is a set of programs, pushed and linked, working together as a group. 4C allows you to run multiple independent groups. Each group maintains its own context and the user can switch between groups with function keys. The programmer can also switch between groups using sys.link_group(). The group name can be any alpha value. The group name uniquely identifies a group.","example#Example":"The following example is from the program sys.grp.start. It is the EndFldLoop PCL.\nsys.link_group(0,grpname,progname); sys.exit_prog(0);","purpose#Purpose":"sys.link_group() starts a new 4C group or links to an existing one.","returns#Returns":"integer 0 - OK - link succeeded\n-1 - Could not run program","see-also#See Also":"sys.exit_prog()","syslink_group#sys.link_group()":"","usage#Usage":"ret = sys.link_group(,,);","where-used#Where Used":"sys.link_group() can be called from anywhere. It will eventually be integrated into 4C better than it is now."},"title":"sys.link_group"},"/docs/systempcls/sys-link_prog/":{"data":{"":"","arguments#Arguments":"linkflags - optional arg that can be either LP_DEFAULT or LP_FROMANCESTOR progname - alpha arg1,arg2,…,arg15 - 0-15 optional alpha args that have meaning to the called program.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.link_prog() starts a program that is a sibling of the currently running program. The program started by sys.link_prog does not need to exit before returning to the program that called it. In screen programs, linking back to a program can be accomplished using the mouse or function keys. The application can also link back with another call to sys.link_prog(). The flag LP_FROMANCESTOR causes 4C to look search through the hierarchy of currently pushed programs for one that explicitly defines the program being called in its Call/Share. If found, the new program is linked to this program rather than the currently running program. This is useful when nested programs may want to link to the same instance of a program rather than start a new instance. This flag is used in the bootstrap display field definitions sys.df.fm.pnl and sys.df.fm.def to link to the other development programs.","example#Example":"See the calls to sys.link_prog in the program development bootstraps. Especially note how LP_FROMANCESTOR is used in sys.df.fm.pnl and sys.df.fm.def. The LP_FROMANCESTOR in these two programs makes the sys.link_prog act like the link was made from sys.df.maint1.","purpose#Purpose":"sys.link_prog() starts or links to a currently running program.","returns#Returns":"OK - program ran - and has exited or linked back -1 - Err - Could not run program","see-also#See Also":"sys.push_prog() sys.exec_prog()","syslink_prog#sys.link_prog()":"","usage#Usage":"sys.link_prog([\u003clinkflags\u003e],\u003cprogname\u003e[,Arg1-Arg15]); ret = sys.link_prog([\u003clinkflags\u003e],\u003cprogname\u003e [,arg1 [..., [arg15]] ... ]);","where-used#Where Used":"sys.link_prog() usually is only used in screen programs."},"title":"sys.link_prog"},"/docs/systempcls/sys-lock_clientws/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"sys.lock_clientws() requires the client to be running version 4.4.8 or higher.","description#Description":"sys.lock_clientws() will lock the client workstation. Multiple calls to sys.lock_clientws() are OK. To unlock the workstation the user needs only enter the workstation passwd, which may be blank.","example#Example":"If the demo application catches a client timeout, it runs the program lockws.1. This program gives the user 60 seconds to respond. If the user does not respond at all, then lockws.1 calls sys.lock_clientws() and then exits the lockws.1 program.","purpose#Purpose":"sys.lock_clientws() locks the client workstation.","returns#Returns":"0 - OK\n-1 - Client version \u003c 4.4.8","see-also#See Also":"sys.exit_client()","syslock_clientws#sys.lock_clientws()":"","usage#Usage":"ret = sys.lock_clientws();","where-used#Where Used":"sys.lock_clientws() will normally be called when a client timeout has been caught and the application needs to protect the application data that may be visible on the client workstation."},"title":"sys.lock_clientws"},"/docs/systempcls/sys-log_close/":{"data":{"":"","arguments#Arguments":"alpha - The name specified when the log was opened.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_close() explicitly closes an open log. Logs are implicitly closed if the application does not call sys.close_log() and the 4C program that opened the log exits.","example#Example":"None","purpose#Purpose":"sys.log_close() closes an open log.","returns#Returns":"0 - OK\n-1 - is not a currently open log.","see-also#See Also":"sys.log_open() sys.log_seek() sys.log_read() sys.log_getattr() sys.log_getname() sys.log_getval() sys.log_copyflds() sys.log_error()","syslog_close#sys.log_close()":"","usage#Usage":"ret = sys.log_close();","where-used#Where Used":"sys.log_close() can be called from anywhere."},"title":"sys.log_close"},"/docs/systempcls/sys-log_copyflds/":{"data":{"":"","arguments#Arguments":"alpha - The name used to open the log file.\nasfile - The asfile name of the file to copy to.\ninteger - One of LOG_IMAGE_PKEY, LOG_IMAGE_BEFORE, or LOG_IMAGE_AFTER.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_copyflds() copies log rcd data to 4c file variables. Fields are copied by matching name only, so if the file definition of the rcd in the log file does not match the file definition of it is OK. Only those fields with matching names will be copied. The 4c file variables are updated in memory only. No file update is done. This PCL is expected to be useful for replication applications.","example#Example":"None","purpose#Purpose":"sys.log_copyflds() copies log rcd data to 4c file variables.","returns#Returns":"\u003e= 0 - The number of fields copied.\n\u003c 0 - Error","see-also#See Also":"sys.log_open() sys.log_close() sys.log_seek() sys.log_read() sys.log_getattr() sys.log_getname() sys.log_getval() sys.log_error()","syslog_copyflds#sys.log_copyflds()":"","usage#Usage":"ret = sys.log_copyflds(\u003clclname\u003e,\u003casfile\u003e,\u003cimagetype\u003e);","where-used#Where Used":"sys.log_copyflds() can be called anytime a log file is open and it has a current rcd."},"title":"sys.log_copyflds"},"/docs/systempcls/sys-log_error/":{"data":{"":"","arguments#Arguments":"alpha - A name. It does not need to refer to an open log.\nalpha - A 4c filename.\nalpha - a one char severity code. Should be ‘0’ - ‘9’\nalpha - Application specific message","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_error() writes a rcd to the log_err file. The log_err file is on the same system that the 4csrvr is running on. It has nothing to do with the system that any open log files refer to. The idea was to allow applications that read log files, to be able to write errors to a common file. The 4C system will also write logging errors to this file. This file is purged by the log.purge.1 program. Systems that use logging or use sys.log_error() need to make sure that the log.purge.1 program is run periodically.","example#Example":"None","purpose#Purpose":"sys.log_error() writes a rcd to the log_err file.","returns#Returns":"0 - Always returned","see-also#See Also":"sys.log_open() sys.log_close() sys.log_seek() sys.log_read() sys.log_getattr() sys.log_getname() sys.log_getval() sys.log_copyflds()","syslog_error#sys.log_error()":"","usage#Usage":"ret = sys.log_err(,,,);","where-used#Where Used":"sys.log_error() can be called from anywhere."},"title":"sys.log_error"},"/docs/systempcls/sys-log_getattr/":{"data":{"":"","arguments#Arguments":"alpha - The name specified in sys.open_log()\ninteger - One of\nLOG_ATTR_DATE LOG_ATTR_TIME LOG_ATTR_ISEQUENCE LOG_ATTR_NFIELDS LOG_ATTR_NPKFIELDS LOG_ATTR_UPDTYPE LOG_ATTR_FILENAME LOG_ATTR_USER LOG_ATTR_APPPROG LOG_ATTR_FCPROG LOG_ATR_CLIPADDR LOG_ATTR_STATUS LOG_ATTR_FILESTATUS LOG_ATTR_FULLPATH LOG_ATTR_SFTIME alpha - Optional argument only needed when is LOG_ATTR_FILESTATUS.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_getattr() returns an attribute associated with a single log rcd. The attributes that can be queried are as follows:\nLOG_ATTR_DATE - The date of the log rcd. LOG_ATTR_TIME - The time of the log rcd. LOG_ATTR_ISEQUENCE - The integer sequence number of the log rcd. LOG_ATTR_NFIELDS - The number of data fields from the corresponding 4C file written to the log rcd. LOG_ATTR_NPKFIELDS - The number of primary key fields from the corresponding 4C file written to the log rcd. LOG_ATTR_UPDTYPE - The update type can be one of, “Add”, “Modify”, “Delete”, or “FWrite” LOG_ATTR_FILENAME - The 4C filename corresponding to the log rcd. LOG_ATTR_USER - The 4C user that wrote the log rcd. LOG_ATTR_APPPROG - The 4C application program that wrote the log rcd. This won’t be set for updates done with 4C utility programs like xlfile. LOG_ATTR_FCPROG - The 4C executable that wrote the log rcd. LOG_ATR_CLIPADDR - The ip addr of the client that caused the log rcd to be written. LOG_ATTR_STATUS - The status of the log, either LOG_STATUS_RUNNING or LOG_STATUS_NONE. LOG_ATTR_FILESTATUS - The status of a single file associated with the log. The status will be one of LOG_STATUS_RUNNING or LOG_STATUS_NONE. LOG_ATTR_FULLPATH - The fullpath to the original file that generated the current log record. LOG_ATTR_SFTIME - The compile time of the 4C file definition used for the current log record. This can be useful when it is necessary for the log reading system to automatically update a file definition that may be out of sync with the logging system. The sftime returned can be compared to the sftime in the local sys.file_hdr and if necessary a more recent file definition can be fetched.","example#Example":"The log.view.det and the log.view.key programs have examples of using sys.log_getattr(). Both programs are in the 4cSys application.","purpose#Purpose":"sys.log_getattr() returns an attribute associated with a single log rcd.","returns#Returns":"The value of the requested attribute is returned in . can be either an alpha variable or an integer variable.","see-also#See Also":"sys.log_open() sys.log_close() sys.log_seek() sys.log_read() sys.log_getname() sys.log_getval() sys.log_copyflds() sys.log_error()","syslog_getattr#sys.log_getattr()":"","usage#Usage":"val = sys.log_getattr(\u003clclname\u003e,\u003cattrtype\u003e,[ \u003cfilename\u003e ]);","where-used#Where Used":"sys.log_getattr() can be called anytime a log file is open. Except for LOG_ATTR_STATUS and LOG_ATTR_FILESTATUS, there needs to be a current log rcd when calling sys.log_getattr()."},"title":"sys.log_getattr"},"/docs/systempcls/sys-log_getname/":{"data":{"":"","arguments#Arguments":"alpha - The name used to open the log file.\ninteger - The idx of the fld in the current log rcd. The must be \u003e= 0 and \u003c total number of fields in the current log rcd.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_getname() returns a fieldname of a field in the log file.","example#Example":"The 4cSys application uses sys.log_getname() in the log.view.det program.","purpose#Purpose":"sys.log_getname() returns a fieldname of a field in the log file.","returns#Returns":"alpha - The name of the requested field.\n\"\" - Error","see-also#See Also":"sys.log_open() sys.log_close() sys.log_seek() sys.log_read() sys.log_getattr() sys.log_getval() sys.log_copyflds() sys.log_error()","syslog_getname#sys.log_getname()":"","usage#Usage":"aval = sys.log_getname(\u003clclname\u003e,\u003cfldidx\u003e);","where-used#Where Used":"sys.log_getname() can be called anytime a log file is open and there is a current log rcd."},"title":"sys.log_getname"},"/docs/systempcls/sys-log_getval/":{"data":{"":"","arguments#Arguments":"alpha - The name used to open the log file.\ninteger - The idx of the fld in the current log rcd. The must be \u003e= 0 and \u003c total number of fields in the current log rcd.\ninteger - One of LOG_IMAGE_PKEY, LOG_IMAGE_BEFORE, or LOG_IMAGE_AFTER.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_getval() returns a formatted field from a log rcd. Use the parameter to specify whether the value you want corresponds to the original value (LOG_IMAGE_BEFORE), the updated value (LOG_IMAGE_AFTER) or a primary key value (LOG_IMAGE_PKEY). Not all log rcds will have a BeforeImage or an AfterImages. This will depend on the way the log was defined and the update type. All log rcds will have a PKeyImage.","example#Example":"The 4cSys application has examples of using sys.log_getval() in the log.view.det program.","purpose#Purpose":"sys.log_getval() returns a formatted field from a log rcd.","returns#Returns":"alpha - The formatted value of the requested field.\n\"\" - If sys.errno is set then this indicates an error.","see-also#See Also":"sys.log_open() sys.log_close() sys.log_seek() sys.log_read() sys.log_getattr() sys.log_getname() sys.log_copyflds() sys.log_error()","syslog_getval#sys.log_getval()":"","usage#Usage":"aval = sys.log_getval(,,);","where-used#Where Used":"sys.log_getval() can be called anytime a log file is open and it has a current rcd."},"title":"sys.log_getval"},"/docs/systempcls/sys-log_open/":{"data":{"":"","arguments#Arguments":"alpha - The name that the local 4csrvr will use to refer to this log.\nalpha - A valid 4C connection string.\nalpha - The name that is used for the log on the machine where the log resides. This will be the key to the log_hdr file on that machine.\ninteger - Any combination of LOG_DEFAULT, LOG_IMAGE_PKEY, LOG_IMAGE_BEFORE, LOG_IMAGE_AFTER, LOG_FULLPATH, LOG_SENDCREATE LOG_DEFAULT is equivalent to LOG_IMAGE_PKEY|LOG_IMAGE_BEFORE|LOG_IMAGE_AFTER|LOG_FULLPATH. LOG_SENDCREATE is not included due to older applications that might not be expecting to get an update type of “Create”.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_open() opens a remote 4C log file for reading. On the remote machine this will start a new srvr process, 4clogrdr. Once a log has been opened, it stays open until closed by the application or until the 4C program that opened it exits. Any programs pushed can access the log as long as they use the same name it was opened as.","example#Example":"The log.view program uses sys.log_open().","purpose#Purpose":"sys.log_open() opens a 4c log for reading.","returns#Returns":"0 - Log opened OK\n-1 - Error opening log sys.errno will contain the error number.","see-also#See Also":"sys.log_close() sys.log_seek() sys.log_read() sys.log_getattr() sys.log_getname() sys.log_getval() sys.log_copyflds() sys.log_error()","syslog_open#sys.log_open()":"","usage#Usage":"ret = sys.log_open(,,,);","where-used#Where Used":"sys.log_open() will normally be used only very special purpose 4C programs."},"title":"sys.log_open"},"/docs/systempcls/sys-log_read/":{"data":{"":"","arguments#Arguments":"alpha - The name used in opening the log\ninteger - Either LOG_READNEXT or LOG_READEXACT","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_read() reads a single log rcd. Once read, that rcd becomes the current log record and sys.log_getattr(), sys.log_getname(), sys.log_getval(), and sys.log_copyflds() can be used on that rcd. Before the first call to sys.log_read() using LOG_READNEXT, the application should call sys.log_seek(). Before every call to sys.log_read() using LOG_READEXACT, the application should call sys.log_seek().","example#Example":"The log.view.det has an example of sys.log_read() using LOG_READEXACT and the log.view.key program has an example of sys.log_read() using LOG_READNEXT. Both programs are in the 4cSys application.","purpose#Purpose":"None","returns#Returns":"0 - Log rcd read\n-1 - Either log not open or invalid","see-also#See Also":"sys.log_open() sys.log_close() sys.log_seek() sys.log_getattr() sys.log_getname() sys.log_getval() sys.log_copyflds() sys.log_error()","syslog_read#sys.log_read()":"","usage#Usage":"ret = sys.log_read(\u003clclname\u003e,\u003creadtype\u003e);","where-used#Where Used":"sys.log_read() can be called anytime a log is open."},"title":"sys.log_read"},"/docs/systempcls/sys-log_seek/":{"data":{"":"","arguments#Arguments":"alpha - The name used when the log was opened.\ndate - The date portion of the log_idx key\ntime - The time portion of the log_idx key\ninteger - The sequence portion of the log_idx key","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.log_seek() sets the log rcd ptr on an open log.","example#Example":"The log.view.det and log.view.key 4C programs in the 4cSys application both use sys.log_seek().","purpose#Purpose":"sys.log_seek() sets the next log rcd ptr","returns#Returns":"0 - OK\n-1 - does not refer to an open log","see-also#See Also":"sys.log_open() sys.log_close() sys.log_read() sys.log_getattr() sys.log_getname() sys.log_getval() sys.log_copyflds() sys.log_error()","syslog_seek#sys.log_seek()":"","usage#Usage":"ret = sys.log_seek(,,,);","where-used#Where Used":"sys.log_seek() can be called anytime a log is open."},"title":"sys.log_seek"},"/docs/systempcls/sys-md_calc/":{"data":{"":"","arguments#Arguments":"- The 4C field you want to calculate the message digest for. can be any datatype.\nor\nalpha - The name of the file to calculate the message digest for.\ninteger - One of MD_SHA1, MD_RIPEMD160, MD_MD5, MD_SHA256, MD_SHA512 and one of MD_FIELD or MD_FILE. If not specified, MD_SHA1|MD_FIELD is used.\ninteger - optional arg that can be one of ENCODE_BASE64 (the default), ENCODE_BASE64URL, or ENCODE_BASE16","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.md_calc() calculates the message digest of the value in a 4C field or the contents of a file. The message digest is a binary value that currently is difficult to represent in a 4C field so it is converted to an alpha representation using standard base64 encoding.","example#Example":"An example of using sys.md_calc() is in verifying passwords. Instead of saving a user password, save the the message digest. Then to verify the password, prompt for the password, calculate the message digest, and compare the message digest of the password with the saved message digest. If they are equal, then the password is correct. The demo programs demo.info.1 and password.fm both have examples of using sys.md_calc().","purpose#Purpose":"sys.md_calc() calculates and returns a message digest","returns#Returns":"alpha - An the encoded message digest","see-also#See Also":"Sys PCLs List","sysmd_calc#sys.md_calc()":"","usage#Usage":"md = sys.md_calc(\u003cfield\u003e[,\u003cmdflags\u003e [, encodingtype ]]); md = sys.md_calc(\u003cextfilename\u003e,\u003cmdflags\u003e);","where-used#Where Used":"sys.md_calc() can be called from anywhere."},"title":"sys.md_calc"},"/docs/systempcls/sys-message/":{"data":{"":"","arguments#Arguments":"- Integer flags that can be or’d together. Possible values are:\nSM_DEFAULT - Assumes SM_ERROR|SM_WAIT|SM_BEEP SM_INFO - Displays info message. SM_ERROR - Displays error message. SM_WAIT - Waits for user to click ok or press return before continuing. SM_NOWAIT - Displays message at bottom of layout and does not wait for user input. SM_TITLE - Uses first arg as title to the message dialog. If the first arg is not an alpha, then the SM_TITLE is ignored. SM_NOTITLE - Uses default title. SM_FLUSH - Flushes output to client so client even sees SM_NOWAIT messages immediately. SM_NOFLUSH - Does not flush SM_NOWAIT messages immediately. This flag has no effect on SM_WAIT messages. SM_BEEP - Sounds the bell with the message. SM_NOBEEP - Does not sound the bell. SM_LOG - Writes the message to the ErrLogFile file specified in XLCONFIG. SM_FMT - Format alpha fields using the associated format. Non alpha fields are always formatted using the flds format. The reason alpha fields are not is because when only alpha fields were allowed, they were not formatted. Just don’t want to surprise anybody. SM_SEP - Uses first non title arg as a separator. If it is not an alpha, then SM_SEP is ignored. SM_DELIM - Uses first non title arg as delimiter. If it is not an alpha, then SM_DELIM is ignored. The difference between SM_DELIM and SM_SEP is that SM_DELIM displays before first arg and after last arg as well as between all args. SM_SEP only displays between the args. AnyType - - Multiple flds that are formatted and concatenated to form the message. The difference between SM_DELIM and SM_SEP is that SM_DELIM displays before first arg and after last arg as well as between all args. SM_NOSEP - Specifies not to display a separator char between args. If none of SM_DELIM|SM_SEP|SM_NOSEP are specified, a space character displays between args. SF","bugs--features--comments#Bugs / Features / Comments":"If none of SM_ERROR, SM_INFO, or SM_LOG are specified, then SM_ERROR is assumed.\nIf SM_LOG is specified and neither SM_ERROR nor SM_INFO are, then a message is written to the ErrLogFile, but nothing is displayed to the user.","description#Description":"sys.message() displays either an error or an info message. This is meant to replace both sys.msg() and sys.err_msg(). If you do not specify a title as part of the sys.message() statement, then 4c will use the application ErrorWinTitle or the application InfoWinTitle if specified in the _4CSRVRCONFIG file. If no title is specified then 4C will use the name of the application followed by either \" - Info\" or \" - Error\" for the window title.\nRequirements 4CServer version 5.0.6-05 or higher is required for using non alpha arguments\n4CServer version 5.0.6-05 or higher is required for specifying SM_LOG, SM_FMT, SM_SEP, SM_NOSEP, and SM_DELIM flags.","example#Example":"sys.message(SM_INFO|SM_TITLE,\"4CSys Info\",\"No Such Program\");","purpose#Purpose":"sys.message() displays either an error or an info message.","returns#Returns":"0 - Currently the only value that can be returned.","see-also#See Also":"sys.get_answer()","sysmessage#sys.message()":"","usage#Usage":"ret = sys.message(\u003csmflags\u003e,arg1[,arg2,...arg15);","where-used#Where Used":"sys.message() can be called from anywhere."},"title":"sys.message"},"/docs/systempcls/sys-mk_temp/":{"data":{"":"","arguments#Arguments":"alpha - The starting chars to use for the basename.\nalpha - Optional directory to use instead of ${FC_TEMP}.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Use sys.mk_temp() when you may need to create a uniq temporary file. sys.mk_temp() does not create the file, it just returns a fullpath that at the time of call did not exist in the filesystem and the caller should be able to create a file with that name. sys.mk_temp() always uses the FC_TEMP directory for the beginning of the fullpath name returned.","example#Example":"The 4cSys global PCL, sys.app_trace(), uses sys.mk_temp() to find a name to be used in creating a uniq trace file. It passes in “trc” as the argument so the return will be the fullpath name to the FC_TEMP dir followed by “/tr-.” where is an 8 digit process id of the calling 4csrvr and is a uniq extension.","purpose#Purpose":"sys.mk_temp() returns a fullpath name that can be used to create a temporary file.","returns#Returns":"alpha - The fullpath name that can be used as a temporary file.","see-also#See Also":"Sys PCLs List","sysmk_temp#sys.mk_temp()":"","usage#Usage":"fullpath = sys.mktemp(\u003cfnstart\u003e [, \u003cdirname\u003e]);","where-used#Where Used":"sys.mk_temp() can be called from anywhere."},"title":"sys.mk_temp"},"/docs/systempcls/sys-null_data/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to null the data for.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.null_data() sets all non primary key file variables for to an empty string for alpha file variables and to a 0 for numeric file variables. sys.null_data() does not modify any permanent data. All modification is done on the file variables in memory.","example#Example":"None","purpose#Purpose":"sys.null_data() sets all non primary key file variables for a file to a blank or 0.","returns#Returns":"0 - OK\n-1 - Invalid","see-also#See Also":"sys.null_file() sys.null_field()","sysnull_data#sys.null_data()":"","usage#Usage":"ret = sys.null_data(\u003casfile\u003e);","where-used#Where Used":"sys.null_data() can be called from anywhere."},"title":"sys.null_data"},"/docs/systempcls/sys-null_field/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file\ninteger - The CDefine of the variable in to null.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.null_field() sets the referenced file variable to an empty string if it is an alpha file variable or to a 0 if it is a numeric file variable. sys.null_field() does not modify any permanent data. All modification is done on the file variable in memory.","example#Example":"None","purpose#Purpose":"sys.null_field() sets the referenced file variable to a blank or 0.","returns#Returns":"0 - OK\n-1 - Invalid","see-also#See Also":"sys.null_file() sys.null_data()","sysnull_field#sys.null_field()":"","usage#Usage":"ret = sys.null_field(\u003casfile\u003e,\u003cfldcdef\u003e);","where-used#Where Used":"sys.null_field() can be called from anywhere."},"title":"sys.null_field"},"/docs/systempcls/sys-null_file/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to null.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.null_file() sets all file variables for to an empty string for alpha file variables and to a 0 for numeric file variables. sys.null_file() does not modify any permanent data. All modification is done on the file variables in memory.","example#Example":"None","purpose#Purpose":"sys.null_file() sets all file variables for file to a blank or 0.","returns#Returns":"0 - OK\n-1 - Invalid","see-also#See Also":"sys.null_data() sys.null_field()","sysnull_file#sys.null_file()":"","usage#Usage":"ret = sys.null_file(\u003casfile\u003e);","where-used#Where Used":"sys.null_file() can be called from anywhere."},"title":"sys.null_file"},"/docs/systempcls/sys-open_file/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to open.\ninteger - Open flags. These can be or’d together with ‘|’. Possible values for the flags are:\nF_DEFAULT - Read/Write, NoCreate F_CREATE - Create the file. F_TEMP - Create and open a temporary file that will be deleted when it is closed. F_NOMSG - Do not display open error messages. F_READONLY - Open the file in readonly mode. F_NOREADONLY - Open the file in Read/Write mode. This is the default and does not normally need to be specified. F_TRANS F_NOTRANS F_SAVEBUF F_NOSAVEBUF F_BINARY - Open the file in binary mode. See the bootstrap program sys.file.xfer for how to access a file in binary mode. F_NODROP - With external databases, if F_CREATE is specified with F_NODROP, then truncate the table rather than dropping it and recreating it. There was a performance improvement with Oracle using this when the table was created a lot of times.","bugs--features--comments#Bugs / Features / Comments":"sys.open_file() does not set sys.errno for external database files.","description#Description":"sys.open_file() allows you to open files before they are automatically opened at file access time. If the asfile is already opened, possibly under a different ext name, it will be closed first. If the F_TEMP flag is specified, a temporary file is created. You do not need to specify both F_TEMP and F_CREATE. If the F_CREATE flag is specified without F_TEMP, then the file is created in the first directory of the data path. If neither F_CREATE nor F_TEMP are specified, then F_DEFAULT is assumed. This just opens the file. The F_SAVEBUF flag is used to specify that 4C saves the original field values after each read. You may want to do this if you will be calling sys.rcd_changed() or if you will be calling sys.upd_file() on many rcds that may not have changed. When F_SAVEBUF is used, sys.upd_file() will not actually rewrite any rcds that did not change. Error messages can be suppressed by using the F_NOMSG flag. The F_TRANS and F_NOTRANS flags can be used to override the default transaction logging for files that support this. If there is an error opening the file, sys.errno will be set to one of:\nERR_FILENF - File Not Found. ERR_FILEPERM - The process does not have permission to open the file in the desired mode. This may be due to file permissions or because another process has opened the file without allowing sharing. ERR_REMCONN - The file is a remote file and there was some type of connection error. ERR_FILEISOPEN - Create file failed because the file is open. ERR_UNKNOWN - Unknown error","example#Example":"The bootstrap program sys.ph.maint uses the following code in the edittext() pcl. It assumes that if the text file does not exist it should create it.\nif (sys.open_file(sys.pcl_text,F_DEFAULT|F_NOMSG) \u003c 0) sys.open_file(sys.pcl_text,F_CREATE);","purpose#Purpose":"sys.open_file() allows you to open a file before it is needed for file access.","returns#Returns":"0 - File opened OK.\n-1 - Some Error","see-also#See Also":"sys.close_file() sys.create_file() sys.create_tfile() sys.read_file()","sysopen_file#sys.open_file()":"","usage#Usage":"sys.open_file(\u003casfile\u003e,\u003cflags\u003e);","where-used#Where Used":"sys.open_file() can be called from anywhere. It most likely will be used when you want to create a file if it does not yet exist, or to determine existence of a file before you try to do something to it."},"title":"sys.open_file"},"/docs/systempcls/sys-open_ldata/":{"data":{"":"","arguments#Arguments":"- an alpha var that can be used in subsequent calls to sys.get_ldata(), sys.set_ldata(), and sys.close_ldata()\n- The key to the s_ldatah file.\n- Any type of field. This is the field in the 4C application that will be used for importing and exporting the data. When data is imported, this field will have the value of the imported data. When exporting data, the value in this field is formatted and exported to the external application.\n- can be combinations of:\nLD_ONETIME - Link to this data once only and either. Get or Set the data and close the connection immediately. If you use LD_ONETIME, you do not need to call sys.close_ldata(). LD_AUTOMATIC - This will automatically update the data in the 4C application without the application needing to call sys.get_ldata() explicitly. This is the default if neither LD_ONDEMAND or LD_AUTOMATIC are specified. LD_ONDEMAND - Opposite of LD_AUTOMATIC. This instructs 4C to send data to the 4C application only when it explicitly asks for it with sys.get_ldata(). LD_GET - Tells 4C that this LData is to be read from the external process. It is OK to use LD_GET and LD_SET together. If neither LD_GET or LD_SET is specified, then LD_GET is assumed. When LD_ONETIME is set along with LD_GET, then sys.open_ldata() call does not return until the data is retrieved from the external application. LD_SET - Tells 4C that this LData will be written to the external application. When LD_ONETIME is set along with LD_SET, then sys.open_ldata() call does not return until the data is written to the external application. LD_DEFAULT - With no other flags, implies LD_AUTOMATIC|LD_GET. - Alpha vars of the form “App=”. Multiple opts can be specified together by separating different options with a comma. Ex. “App=,Topic=”. The last 12 parameters can all be used for specifying these options.","bugs--features--comments#Bugs / Features / Comments":"You cannot specify more than one item/field in a sys.open_ldata() call. This makes startup of a connection with many items slow. If this is a problem, I will look for a way around it.","description#Description":"Use sys.open_ldata() to open LData connections with external processes. The LData connection will remain open for as long as is in memory. If it is not in a SysScratch file, and the program that has this field in memory exits, then the LData connection is closed automatically. Onetime LData links are automatically closed after the sys.open_ldata() call. You can explicitly close an open LData connection using sys.close_ldata().","example#Example":"There is a program in the bootstrap directory that you can look at to see how a connection to a spreadsheet may be set up. The program ldata.tst.1 links 10 different SysScratch 4c fields to 10 different cells in the spreadsheet /test/xx.xls. It uses the “testdde” record in the s_ldatah fileh. If you use this example, you will need to modify at least, the sldh_server and sldh_topic fields for the “testdde” rcd.","purpose#Purpose":"sys.open_ldata() opens a connection to linked data.","returns#Returns":"0 - Success.\n-1 = Failure and sys.errno will be set.","see-also#See Also":"sys.get_ldata() sys.set_ldata() sys.close_ldata()","sysopen_ldata#sys.open_ldata()":"","usage#Usage":"ret = sys.open_ldata(\u003cldname\u003e,\u003cldkey\u003e,\u003cfield\u003e,\u003cflags\u003e[,\u003copt\u003e...]);","where-used#Where Used":"sys.open_ldata() can be called from anywhere. For system wide LData connections that need to stay open, you will probably want to start this in a daemon process."},"title":"sys.open_ldata"},"/docs/systempcls/sys-open_log/":{"data":{"":"","arguments#Arguments":"alpha - a valid CISAM log file name.","bugs--features--comments#Bugs / Features / Comments":"It only works with CISAM, but as other databases are added it will be extended to include them. This may mean a change in calling sequence.","description#Description":"sys.open_log() opens a CISAM log file. The log file remains open until a call to sys.close_log(), or until the 4C session terminates. This call, as well as the task start, task end, and task abort calls were added to allow the CISAM users to take advantage of what CISAM offers in terms of transaction processing. See your CISAM manual to find out what all this means. The logfile can also be opened at the start of the 4C session by specifying the CILogFile in the XLCONFIG file.","example#Example":"None","purpose#Purpose":"sys.open_log() opens a CISAM log file.","returns#Returns":"0 - OK\n-1 - Either CISAM not available, or CISAM error and message displayed, or log file already open - message displayed also.","see-also#See Also":"sys.close_log() sys.start_task() sys.end_task() sys.abort_task()","sysopen_log#sys.open_log()":"","usage#Usage":"ret = sys.open_log(\u003clogname\u003e);","where-used#Where Used":"sys.open_log() can be called from anywhere."},"title":"sys.open_log"},"/docs/systempcls/sys-page/":{"data":{"":"","arguments#Arguments":"integer - This is an optional argument that will cause sys.page() to skip lines instead of doing a page break.","bugs--features--comments#Bugs / Features / Comments":"If called from the Program DrProc PCL, the DrProc PCL will execute a 2nd time for the current rcd. Avoid this by using CB PCLS to page.","description#Description":"sys.page() causes the current device to go to top of form, or to print blank lines. For a crt, this means prompting to continue, and then clearing the current window of the crt only. For other devices, this means putting out a form feed character, or enough blank lines to reach the next top of form. The current page number of the device is incremented. If the current device is already at the top of form, then sys.page() does not do anything. After a call to sys.page(), all calls to sys.is_tof() will return 1 until something has printed on the new page, or until sys.skip() has been called. After that, sys.is_tof() will return 0 until the next sys.page() call.\nThe can be used to make label printing and things like that easier. Other than printing blank lines, everything else acts the same. The internal page counter is incremented etc.\nThis PCL acts only on the current device. The current device is usually the device defined for the current program. However, if the current program has not finished executing the InitPCL, or the current program has already started executing the EndPCL, then the current device is the device used by the most recently active program that has made it past the InitPCL, but not as far as the EndPCL.\nThis PCL can be called from scrolling or from non-scrolling programs, from programs that print and from those that do not print.\nFrom non-scrolling programs, the most likely place to call sys.page() is from the InitPCL, the EndPCL, or the ExitPCL. If called at any of these places, you should make sure that the device has been opened by some calling program. It could also be called from the SFldLpPCL or the EFldLpPCL. It does not make very much sense to call sys.page() from any of the fld PCL statements.\nsys.page() could be called from a non-printing program almost anywhere that that program would be pushing a different program that prints. Once again, you would need to be sure that the non-printing program had the device open.\nThe most common use of sys.page() is in scrolling programs. Here, the most likely place to call it is from the SPagePCL, or the EPage PCL. When called from either of these two places there are no funny timing considerations. If called from other places, there are timing issues to consider. First, it should not be called from the SFldLpPCL, or any field PCL. The two other likely places to call sys.page() from are the EFldLp PCL and the DrProcPCL. If called from either of these two PCLs, 4C will set the next driver state to be StartPage. The next action 4C will take after completing the current PCL will be to execute the SPagePCL. The current PCL, including all nested PCLs, will execute until finished, but no further printing of records will occur on the current page. If this is the DrProc PCL, this means that the current record has not been printed yet, and will be printed on the next page. In order to accomplish this, 4C sets the next record ptr to the current record. In other words, the next record processed is the current record, and the DrProc PCL will actually execute twice for this record. This must be kept in mind when calculating totals and things like that in the DrProcPCL. If you are calculating totals in the DrProc PCL, and you call sys.page() also, you should exit the PCL with a return statement before updating your totals.","example#Example":"if (sys.page_isfull()) sys.page();","purpose#Purpose":"sys.page() causes the current device to go to top of form.","returns#Returns":"None","see-also#See Also":"sys.skip() sys.end_page() sys.exit_page() sys.page_isfull() sys.get_pagediff() sys.get_linediff() sys.is_tof()","syspage#sys.page()":"","usage#Usage":"sys.page([\u003cnskips\u003e]);","where-used#Where Used":"sys.page() is normally called from a StartPage PCL of a Scrolling rpt program, or from an Init PCL of a non scrolling rpt program, and is usually called after a call sys.page_isfull(). It may also be called during EndPage PCL processing."},"title":"sys.page"},"/docs/systempcls/sys-page_isfull/":{"data":{"":"","arguments#Arguments":"integer minlines;\nminlines is an optional argument that is the minimum number of lines that the user program needs to print another iteration of fields.\nIf minlines is not passed as an argument, then 4C will calculate what it thinks is the number of lines needed to display one iteration of all fields. It will include all NON-MULTI fields in the calculation.\nYou may want to pass a number higher than 4C would calculate if you want to leave space for something else also.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.page_isfull() indicates to the user program whether it can continue printing on the current page or not. sys.page_isfull() makes this determination based on the current line of the current device, the number of lines needed for one iteration of fields, including NON-MULTI fields, and the optional minlines argument. If used, the optional minlines argument overrides what 4C thinks is the min lines needed for one iteration of a field.\nsys.page_isfull() can be called from scrolling and from non-scrolling programs. It is necessary that the rpt device already be open.\nTypically, from a scrolling program, sys.page_isfull() would be called from the SPagePCL to determine if a call to sys.page() was necessary before printing headers and setting sys.page_ofst.\nIn a non-scrolling program, it would be called from the InitPCL, to determine if a call to sys.page() was necessary before printing headers and setting $row_ofst.\nI don’t see any reason to call this system PCL from any other place.","example#Example":"if (sys.page_isfull(6)) { sys.page(); sys.push_prog(\"pagehdr\"); sys.push_prog(\"rpthdr\"); } sys.page_ofst = sys.get_linenum() + 1; or\nif (sys.page_isfull()) { sys.page(); sys.push_prog(\"pagehdr\"); sys.push_prog(\"rpthdr\"); } $row_ofst = sys.get_linenum() + 1;","purpose#Purpose":"sys.page_isfull() returns a 1 or a 0 to the user program indicating whether the current page is full or not.","returns#Returns":"0 Page is not full.\nThere is room for at least one more iteration of fields, or there is at least minlines available for printing on.\n1 Page is full.\nEither there is not room for at least one more iteration of fields, or minlines are not available for printing on. User program should take appropriate action.\nThere are no error returns.","see-also#See Also":"sys.page() sys.end_page() sys.exit_page() sys.get_pagediff() sys.get_linediff()","syspage_isfull#sys.page_isfull()":"","usage#Usage":"if (sys.page_isfull([minlines])) dosomething();","where-used#Where Used":"sys.page_isfull() is normally called in the StartPage PCL of a scrolling rpt program, or in the Init PCL of a non-scrolling rpt program."},"title":"sys.page_isfull"},"/docs/systempcls/sys-pkey_close/":{"data":{"":"","arguments#Arguments":"alpha - - The name the application used when opening the key.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.pkey_close() simply closes an open public/private key.","example#Example":"The following Demo programs have examples of using sys.pkey_close()\ndemo.pkey.1 demo.pkey.2","purpose#Purpose":"sys.pkey_close() closes the private/public key associated with .","returns#Returns":"integer - 0 - OK\n-1 - not found.","see-also#See Also":"sys.pkey_open() sys.pkey_sign() sys.pkey_verify() sys.pkey_encrypt() sys.pkey_decrypt()","syspkey_close#sys.pkey_close()":"","usage#Usage":"ret = sys.pkey_close();","where-used#Where Used":"sys.pkey_close() can be called anytime a private/public key is open."},"title":"sys.pkey_close"},"/docs/systempcls/sys-pkey_decrypt/":{"data":{"":"","arguments#Arguments":"alpha - - The name used by the application when opening the private key.\nalpha - - The encrypted and encoded text to decode and decrypt\ninteger - - must be ENCODE_BASE64 or ENCODE_BASE64URL","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"sys.pkey_decrypt() will use an open private key to decrypt a small amount of base64 encoded text. amount of text.","example#Example":"The demo program demo.pkey.1 has an example of using a public/private key to encrypt and then using only the private key to decrypt a small amount of text. If you try to do this with too large a piece of text you will see that it fails at a fairly small length.","purpose#Purpose":"sys.pkey_decrypt() decrypts a publickey encrypted/base64 encoded piece of text","returns#Returns":"- The cleartext that was originally encrypted and encoded.\n\"\" - Some error","see-also#See Also":"sys.pkey_open() sys.pkey_close() sys.pkey_sign() sys.pkey_verify() sys.pkey_encrypt()","syspkey_decrypt#sys.pkey_decrypt()":"","usage#Usage":"cleartext = sys.pkey_decrypt(\u003cpkeyname\u003e,\u003cb64text\u003e,\u003cencodingtype\u003e);","where-used#Where Used":"sys.pkey_decrypt() can be called from anywhere as long as you have a valid private RSA key open."},"title":"sys.pkey_decrypt"},"/docs/systempcls/sys-pkey_encrypt/":{"data":{"":"","arguments#Arguments":"- The name used by the application when opening the public or private key. - The clear text to encrypt. - must be ENCODE_BASE64 or ENCODE_BASE64URL.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.pkey_encrypt() will use an open public or private key to encrypt and encode a very small amount of text. This should really only be used when it is necessary to encrypt a symmetric key and send it securely to another system. The size of text that can be encrypted is fairly small and you should assume it is no larger than 86 bytes.","example#Example":"The demo program demo.pkey.1 has an example of using a public/private key to encrypt and then using only the private key to decrypt a small amount of text. If you try to do this with too large a piece of text you will see that it fails at a fairly small length.","purpose#Purpose":"sys.pkey_encrypt() encrypts and encodes a small chunk of text using either a public or private key.","returns#Returns":"- The base64 encoding of the encrypted text. \"\" - Some error.","see-also#See Also":"sys.pkey_open() sys.pkey_close() sys.pkey_sign() sys.pkey_verify() sys.pkey_decrypt()","syspkey_encrypt#sys.pkey_encrypt()":"","usage#Usage":"b64text = sys.pkey_encrypt(\u003cpkeyname\u003e,\u003ctext\u003e,\u003cencodingtype\u003e);","where-used#Where Used":"sys.pkey_encrypt() can be called from anywhere as long as you have a valid public or private RSA key open."},"title":"sys.pkey_encrypt"},"/docs/systempcls/sys-pkey_open/":{"data":{"":"","arguments#Arguments":"alpha - - An application specified name that is used in subsequent calls to sys.pkey_close(), sys.pkey_sign(), and sys.pkey_verify().\nalpha - - Either a full path name to the key file, or the value of the key.\nalpha - - If the private key file or private key value is encrypted, this is the passwd. Use an empty string when opening the public key. When opening an HMAC key, the passphrase used is the symmetric key, and must be specified.\ninteger - Combinations of the following:\nPKEY_PUBLIC - Key being opened is the public part of the keypair. PKEY_PRIVATE - Key being opened is the private part of the keypair. PKEY_RSA - Key type is RSA PKEY_DSA - Key type is DSA PKEY_FILE - The arg is the pathname of the key file PKEY_FIELD - The arg is the value of the key PKEY_HMAC - The key being opened is an HMAC key. No other flags should be specified. Normally, you will specify one of PKEY_PUBLIC/PKEY_PRIVATE and one of PKEY_RSA/PKEY_DSA, and one of PKEY_FILE/PKEY_FIELD. The exception to this is when opening PKEY_HMAC is specified.\nalpha - - Optional name of the digest for an HMAC and RSA keys. Allowable values are: “sha1”, “sha256”, “sha512”, “md5”, and “rpmd160”. If digest name is not specified, the default “sha256” is used for HMAC keys and “sha1” for RSA keys. The reason that the defaults are different is that RSA keys were implemented way before HMAC keys and sha1 was a reasonable default at that time.","bugs--features--comments#Bugs / Features / Comments":"All keys opened with sys.pkey_open() by a 4C program are closed when that 4C program exits. Different 4C programs can use the same name for different private/public keys. Keys opened by parent programs are accessible by children programs as long as the same name is used.","description#Description":"sys.pkey_open() allows the application to open one of the private/public keys associated with a pair of public key cryptography keys or to create an HMAC key. Once open, the key can be used to sign or verify a public key cryptography signature. The private key can be used to sign and verify. HMAC Keys can be used to sign and to verify. The public key can only be used to verify a signature. The public key will not need a passphrase, but typically the private key will. In order to use any of the system pcls associated with public key cryptography, you need to understand public key cryptography. Please read some of the available resources on public key cryptography before using any of these system pcls.\nRequirements\nsys.pkey_open() requires 4CServer Version 4.6.1 or higher\nHMAC Keys are supported with 4csrvr version 6.0.3 and later.","example#Example":"The following Demo programs have examples of using sys.pkey_open()\ndemo.pkey.1 demo.pkey.2 demo.serial.cr demo.serial.chk There is an rsa public key pair installed with the demo application. The private key is ${XLAPP}/Keys/key_rsa and the passphrase to open this key is Software4C!Demo. The public key is ${XLAPP}/Keys/key_rsa.pub.\nSpecify one of the 2 rsa key files when running demo.pkey.1\ndemo.pkey.2 is similar to demo.pkey.1 except that it uses keys stored in the program rather than a file.","purpose#Purpose":"sys.pkey_open() Opens one of the private/public keys associated with a pair of public key cryptography keys.","returns#Returns":"0 - Key opened successfully\n-1 - Error - Possibly invalid path or invalid passphrase","see-also#See Also":"sys.pkey_close() sys.pkey_sign() sys.pkey_verify() sys.pkey_encrypt() sys.pkey_decrypt()","syspkey_open#sys.pkey_open()":"","usage#Usage":"ret = sys.pkey_open(,,,[,]);","where-used#Where Used":"sys.pkey_open() can be called from anywhere. An application that wants to prevent unauthorized access to the application may want to use public key cryptography to do so."},"title":"sys.pkey_open"},"/docs/systempcls/sys-pkey_sign/":{"data":{"":"","arguments#Arguments":"- The name used by the application when opening the private key. - The data to sign.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.pkey_sign() uses the open private key to create the digital signature for a string of text. The application may store this signature and use sys.pkey_verify() somewhere else in the application to verify that the signed text has not been modified.","example#Example":"The following Demo programs have examples of using sys.pkey_sign():\ndemo.pkey.1 demo.pkey.2 demo.serial.cr","purpose#Purpose":"sys.pkey_sign() uses an open private key to digitally sign a string of text.","returns#Returns":"- The digital signature of the text. \"\" - Error. Anything else - the digital signature of the text.","see-also#See Also":"sys.pkey_open() sys.pkey_close() sys.pkey_verify() sys.pkey_encrypt() sys.pkey_decrypt()","syspkey_sign#sys.pkey_sign()":"","usage#Usage":"sig = sys.pkey_sign(\u003cpkeyname\u003e,\u003ctext\u003e);","where-used#Where Used":"sys.pkey_sign() can be called anytime the private key is open."},"title":"sys.pkey_sign"},"/docs/systempcls/sys-pkey_verify/":{"data":{"":"","arguments#Arguments":"- The name the application used when opening the key. - The data to verify - The signature to verify","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.pkey_verify() uses public key cryptography to verify the digital signature of a string of text. The application must have open either the public or the private key corresponding to the private key that was used to digitally sign the text.","example#Example":"The following Demo programs have examples of using sys.pkey_verify()\ndemo.pkey.1 demo.pkey.2 demo.serial.cr","purpose#Purpose":"sys.pkey_verify() verifies a the signature for a string of text using public key cryptography.","returns#Returns":"0 - Signature verified. -1 - Signature verify failed.","see-also#See Also":"sys.pkey_open() sys.pkey_close() sys.pkey_sign() sys.pkey_encrypt() sys.pkey_decrypt()","syspkey_verify#sys.pkey_verify()":"","usage#Usage":"ret = sys.pkey_verify(\u003cpkeyname\u003e,\u003ctext\u003e,\u003csig\u003e);","where-used#Where Used":"sys.pkey_verify() can be called anytime the application has an open public/private key that they want to use to verify the digital signature of a string of text."},"title":"sys.pkey_verify"},"/docs/systempcls/sys-pr_restart/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.pr_restart() can be used by the application to restart the current program. If the program is a screen program, the window will not disappear. Program and file variables are not cleared. If you need to reset file variables to some other initial state, you will want to use one or more of sys.fl_save(), sys.fl_restore(), and sys.restore_share().\nIf the program is a scrolling program, the driver is closed and any screen list will be cleared. If the program is a panel program and it has an initial option panel, then that initial option panel will get control after the Start/Restart PCL is executed.","example#Example":"None","purpose#Purpose":"sys.pr_restart() restarts the current program at the Start/Restart state.","returns#Returns":"-1 - Program is not currently open.\nIf sys.pr_restart() succeeds then there is no return to the calling PCL.","see-also#See Also":"sys.fl_save() sys.restore_share() sys.fl_restore()","syspr_restart#sys.pr_restart()":"","usage#Usage":"ret = sys.pr_restart();","where-used#Where Used":"sys.pr_restart() can be called from anytime that the program is open. A program that has not finished executing the Open PCL or a program that has already started executing the Exit PCL is not considered open."},"title":"sys.pr_restart"},"/docs/systempcls/sys-prog_isopen/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"sys.prog_isopen() is an easy way to determine if a screen program has a client window currently display or if a report program has a device open. This can be useful because some system PCLs only work when a program is open. i.e. sys.dflist_clear(), sys.dflist_add(), and others.","example#Example":"None","purpose#Purpose":"sys.prog_isopen() returns 1 if the current program is open.","returns#Returns":"0 - Program is not open\n1 - Program is open","see-also#See Also":"Sys PCLs List","sysprog_isopen#sys.prog_isopen()":"","usage#Usage":"ret = sys.prog_isopen();","where-used#Where Used":"sys.prog_isopen() can be called from anywhere."},"title":"sys.prog_isopen"},"/docs/systempcls/sys-push_kprog/":{"data":{"":"","arguments#Arguments":"progname - alpha arg1,arg2,…,arg15 0-15 optional alpha args that have meaning to the called program.","bugs--features--comments#Bugs / Features / Comments":"If you have trouble when using this, use sys.push_prog(). There could still be some memory leaks in sys.push_kprog().\nThis is Obsolete, don’t use it anymore.","description#Description":"sys.push_kprog() is the same as sys.push_prog(), except that when this program exits, all user memory is preserved. The intention is that when pushing the same program many times from the same program it should be faster to keep the user memory intact. This should not be used for every pushed program, only those that may be called many times. For example, a driver that pushes the same program for every record selected would benefit a lot from using sys.push_kprog() as opposed to sys.push_prog(), especially when the number of records is large.\nNote: the ‘k’ in kprog stands for ‘keep’.","example#Example":"sys.push_kprog(\"program\");","purpose#Purpose":"sys.push_kprog() is Obsolete. It pushes a 4C program, without having to reallocate and reinitialize all the usr memory of the program.","returns#Returns":"OK - program ran - exit code now in $wexit_code -1 - Err - Could not run program","see-also#See Also":"sys.push_prog() sys.link_prog() sys.exec_prog()","syspush_kprog#sys.push_kprog()":"","usage#Usage":"sys.push_kprog(\u003cprogname\u003e[,Arg1-Arg15]); ret = sys.push_kprog(\u003cprogname\u003e [,arg1 [..., [arg15] ... ]]);","where-used#Where Used":"sys.push_kprog() can be called from anywhere."},"title":"sys.push_kprog"},"/docs/systempcls/sys-push_prog/":{"data":{"":"","arguments#Arguments":"progname - alpha arg1,arg2,…,arg15 0-15 optional alpha args that have meaning to the called program.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.push_prog() runs a 4C program at the next higher level from the current program. This means, that the current program will not regain control until the pushed program and all programs that it starts exit. When the push program exits, the current program can check $wexit_code for the exit code.","example#Example":"sys.push_prog(\"program\");","purpose#Purpose":"None","returns#Returns":"OK - program ran - exit code now in $wexit_code -1 - Err - Could not run program","see-also#See Also":"sys.link_prog() sys.exec_prog()","syspush_prog#sys.push_prog()":"","usage#Usage":"sys.push_prog(\u003cprogname\u003e[,Arg1-Arg15]); ret = sys.push_prog(\u003cprogname\u003e [,arg1 [..., [arg15]] ...]);","where-used#Where Used":"sys.push_prog() can be called from anywhere."},"title":"sys.push_prog"},"/docs/systempcls/sys-put_afield/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed.\nalpha - The asfile name of the file containing . This must be passed in quotes, or in an alpha variable.\nalpha - The name of the field you want to store the value. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”.\nalpha - The alpha value to store in .","bugs--features--comments#Bugs / Features / Comments":"If is not an alpha type, no error is indicated, but no value is stored either.","description#Description":"sys.put_afield() locates the field identified by and stores in it. sys.put_afield() is meant to be used when you don’t know the field to store into until runtime.","example#Example":"None","purpose#Purpose":"sys.put_afield() stores an alpha value in an alpha field by name.","returns#Returns":"0 - OK - stored in -1 - Error - Either or or is invalid.","see-also#See Also":"sys.get_fmtfield() sys.get_afield() sys.get_ffield() sys.get_ifield() sys.put_fmtfield() sys.put_ffield() sys.put_ifield()","sysput_afield#sys.put_afield()":"","usage#Usage":"ret = sys.put_afield([\u003casprog\u003e], \u003casfilename\u003e, \u003cfieldname\u003e, \u003caval\u003e);","where-used#Where Used":"sys.put_afield() can be called from anywhere. It may be used in report/screen writers that do not know what fields they are using until runtime."},"title":"sys.put_afield"},"/docs/systempcls/sys-put_env/":{"data":{"":"","arguments#Arguments":"alpha - the name of the environment variable.\nalpha - The new value for the environment variable.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.put_env() is used to modify environment variables. The variables modified will be accessible to any external programs called outside of 4C. If you modify XLDATA, then it affects any subsequent opens of files. If you modify XLPROG, then it affects any subsequent program calls. Modifying XLSYSTEM is not recommended.","example#Example":"None","purpose#Purpose":"sys.put_env() sets an environment variable.","returns#Returns":"integer 0 - normal return\n-1 - Error setting the value","see-also#See Also":"sys.get_env() sys.get_clenv()","sysput_env#sys.put_env()":"","usage#Usage":"\u003cret\u003e = sys.put_env(\u003cENVVAR\u003e,\u003cvalue\u003e);","where-used#Where Used":"sys.put_env() can be called from anywhere."},"title":"sys.put_env"},"/docs/systempcls/sys-put_ffield/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed.\nalpha - The asfile name of the file containing . This must be passed in quotes, or in an alpha variable.\nalpha - The name of the field you want to store the value. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”.\nfloat - The float value to store in .","bugs--features--comments#Bugs / Features / Comments":"If is not a float type, no error is indicated, but no value is stored either.","description#Description":"sys.put_ffield() locates the field identified by and stores in it. sys.put_ffield() is meant to be used when you don’t know the field to store into until runtime.","example#Example":"None","purpose#Purpose":"sys.put_ffield() stores a float value in a float field by name.","returns#Returns":"0 - OK - stored in -1 - Error - Either or or is invalid.","see-also#See Also":"sys.get_fmtfield() sys.get_afield() sys.get_ffield() sys.get_ifield() sys.put_fmtfield() sys.put_afield() sys.put_ifield()","sysput_ffield#sys.put_ffield()":"","usage#Usage":"ret = sys.put_ffield([], , , );","where-used#Where Used":"sys.put_ffield() can be called from anywhere. It may be used in report/screen writers that do not know what fields they are using until runtime."},"title":"sys.put_ffield"},"/docs/systempcls/sys-put_fmtfield/":{"data":{"":"","arguments#Arguments":"alpha - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed.\nalpha - The asfile name of the file containing . This must be passed in quotes, or in an alpha variable.\nalpha - The name of the field you want to store the value. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”.\nalpha - The formatted value to convert and store in . This field is passed by name and should not be quoted.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.put_fmtfield() converts an alpha to the appropriate type and stores the converted value in .","example#Example":"There are several examples in the 4C debugger program sys.dbg.fld.det.","purpose#Purpose":"sys.put_fmtfield() converts an alpha to the appropriate type and stores it in a field.","returns#Returns":"0 - OK - converted and stored in -1 - Error - Either or or or is invalid.","see-also#See Also":"sys.get_fmtfield() sys.get_afield() sys.get_ffield() sys.get_ifield() sys.put_afield() sys.put_ffield() sys.put_ifield()","sysput_fmtfield#sys.put_fmtfield()":"","usage#Usage":"ret = sys.put_fmtfield([\u003casprog\u003e], \u003casfilename\u003e, \u003cfieldname\u003e, \u003cfmtval\u003e);","where-used#Where Used":"sys.put_fmtfield() can be called from anywhere. It is used in the 4C debugger programs to allow you to change the value of fields in running programs."},"title":"sys.put_fmtfield"},"/docs/systempcls/sys-put_ifield/":{"data":{"":"","arguments#Arguments":"asprog - The asprog name of the program to use to find and . This is an optional argument, and if not used, the current program is assumed.\nalpha - The asfile name of the file containing . This must be passed in quotes, or in an alpha variable.\nalpha - The name of the field you want to store the value. This must be passed in quotes, or in an alpha variable. Dimesioned variables can be used also using a format like “field[n]”\ninteger - The integer value to store in .","bugs--features--comments#Bugs / Features / Comments":"If is not an integer type, no error is indicated, but no value is stored either.","description#Description":"sys.put_ifield() locates the field identified by and stores in it. sys.put_ifield() is meant to be used when you don’t know the field to store into until runtime.","example#Example":"None","purpose#Purpose":"sys.put_ifield() stores an integer value in an integer field by name.","returns#Returns":"0 - OK - stored in -1 - Error - Either or or is invalid.","see-also#See Also":"sys.get_fmtfield() sys.get_afield() sys.get_ffield() sys.get_ifield() sys.put_fmtfield() sys.put_afield() sys.put_ffield()","sysput_ifield#sys.put_ifield()":"","usage#Usage":"ret = sys.put_ifield([], , , );","where-used#Where Used":"sys.put_ifield() can be called from anywhere. It may be used in report/screen writers that do not know what fields they are using until runtime."},"title":"sys.put_ifield"},"/docs/systempcls/sys-r_fill/":{"data":{"":"","arguments#Arguments":"alpha - The alpha variable to right fill. alpha - An alpha variable of length 1 to use as the fill char. integer - The maximum length to fill to.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"None","example#Example":"None","purpose#Purpose":"sys.r_fill() will right pad with up to length","returns#Returns":"alpha - A copy of right filled with to a length of","see-also#See Also":"Sys PCLs List","sysr_fill#sys.r_fill()":"","usage#Usage":"= sys.r_fill(,,);","where-used#Where Used":"sys.r_fill() can be called from anywhere."},"title":"sys.r_fill"},"/docs/systempcls/sys-r_strip/":{"data":{"":"","arguments#Arguments":"alpha - The alpha variable to strip trailing characters from.\nalpha - A string of length 1 indicating the character that should be stripped from then end of .","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"None","example#Example":"None","purpose#Purpose":"sys.r_strip() strips all trailing characters from the end of","returns#Returns":"alpha - A copy of with the trailing characters deleted.","see-also#See Also":"Sys PCLs List","sysr_strip#sys.r_strip()":"","usage#Usage":"= sys.r_strip(,);","where-used#Where Used":"sys.r_strip() can be called from anywhere."},"title":"sys.r_strip"},"/docs/systempcls/sys-rand_integer/":{"data":{"":"","arguments#Arguments":"integer/int64 - lowval integer/int64 - highval","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.rand_integer() returns a random integer between the 2 passed in values. On error -1 is returned and sys_ret is set to SYSRET_ERROR. The values passed in can be either 32bit integer values or 64bit integer values.","example#Example":"None","purpose#Purpose":"sys.rand_integer() returns a random integer \u003e= lowval and \u003c= highval","returns#Returns":"integer/int64 - ival","see-also#See Also":"sys.rand_string() mathfunc","sysrand_integer#sys.rand_integer()":"","usage#Usage":"ival = sys.rand_integer(lowval,highval);","where-used#Where Used":"sys.rand_integer() can be called from anywhere."},"title":"sys.rand_integer"},"/docs/systempcls/sys-rand_string/":{"data":{"":"","arguments#Arguments":"alpha - The set of characters to use to create the random string. integer - The length of the string to return.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.rand_string() is used to create a cryptographically strong random string from the characters in . It can be used to create random numbers by limiting to the digits you want to allow in the number and then converting the return to a number. For example, to create a random 5 digit number use:\nn = atoi(sys.rand_string(\"0123456789\",5));","example#Example":"There are some examples of sys.rand_string() in the demo program dtf32.bld.1.","purpose#Purpose":"sys.rand_string() returns a random string of length from the characters .","returns#Returns":"alpha - The random string.","see-also#See Also":"sys.rand_integer() mathfunc","sysrand_string#sys.rand_string()":"","usage#Usage":"rstr = sys.rand_string(\u003ccharset\u003e,\u003clen\u003e);","where-used#Where Used":"sys.rand_string() can be called from anywhere."},"title":"sys.rand_string"},"/docs/systempcls/sys-rcd_changed/":{"data":{"":"","arguments#Arguments":"- the asfile name of the file you are checking","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.rcd_changed() lets the program know if a rcd has changed since it was read. If the file was opened with F_SAVEBUF, then no rereading of the rcd is necessary. However, if F_SAVEBUF was not used, then the file must be reread in order for the compare to be done. If you expect to make lots of calls to sys.rcd_changed() for a particular file, it is recommended that you open the file with F_SAVEBUF.","example#Example":"None","purpose#Purpose":"sys.rcd_changed() indicates whether any of the fields in a rcd changed since the last sys.read_file() call.","returns#Returns":"-1 - Files last access was not a successful sys.read_file().\n0 - Rcd has not changed since last sys.read_file() call.\n1 - Rcd has changed since last sys.read_file() call.","see-also#See Also":"sys.open_file()","sysrcd_changed#sys.rcd_changed()":"","usage#Usage":"ret = sys.rcd_changed(\u003casfile\u003e);","where-used#Where Used":"sys.rcd_changed() can be called from anywhere but probably would be called right before a call to sys.upd_file()."},"title":"sys.rcd_changed"},"/docs/systempcls/sys-read_file/":{"data":{"":"","arguments#Arguments":"file - The asfile name of the file you are reading.\ninteger - Any number of predefined flags that can be combined using the ‘|’ operator. See below for flag descriptions.\ninteger - optional arg that allows specification of key number to read by. The primary key number is 0, first secondary key 1, etc.\nAllowable flags are:\nF_DEFAULT - read based on sys.mode. If error, sys.next_field will be set to sys.cur_field. This flag is only used by screen programs that allow user setting of sys.mode through the function keys. It is normally used only on the main file of the screen program. F_CONTINUE - If specified with F_DEFAULT in a non scrolling program and sys.mode is either “Lookup” or “Delete” continue processing all fields without prompting for input. Without F_CONTINUE, the 4C program would skip to the EndFldLoop processing for “Delete” and jump back to the first field for “Lookup”. F_ADD - read in add mode. Rcd will be locked unless F_NOLOCK specified. Unless F_NODEBLOCK or F_OVERRIDE specified, data fields are cleared. Error if rcd exists unless F_MODIFY flag specified also. F_DELETE - read assuming record will be deleted. Unless F_NOLOCK specified, rcd will be locked first. Error if rcd does not exist. F_MODIFY - read assuming record will be modified. Unless F_NOLOCK specified, rcd will be locked first. Unless F_NODEBLOCK specified, data fields are updated. Error if rcd does not exist unless F_ADD specified also. F_VERIFY - read to verify rcd exists, but do not copy data into any fields. Unless F_LOCK specified rcd will not be locked. Error if record does not exist and sys.next_field will be set to sys.cur_field. F_VERIFYNE - read to verify rcd does not exist but do not clear data from data fields or set new data into them. Unless F_LOCK specified rcd will not be locked. Error if record exists and sys.next_field will be set to sys.cur_field. F_LOOKUP - read in lookup mode. Unless F_LOCK specified rcd will not be locked. Unless F_NODEBLOCK specified, data fields are updated. Error if rcd does not exist. F_NOMSG - suppresses default error messages so you can supply your own. F_NOLOCK - suppress default rcd locking even for update modes. F_LOCK - Force rcd locking even in non-update modes. F_OVERRIDE - Leave data fields untouched for F_ADD. F_WAIT - When locking, wait for lock rather than return error. F_KEYEQ - Read exact key only - THIS IS THE DEFAULT. F_KEYGEQ - If exact key not there, read next rcd with key greater. F_KEYLEQ - If exact key not there, read prev rcd with key less. F_KEYGT - Read next rcd with key greater than current key val. F_KEYLT - Read prev rcd less than current key val. F_SEQNEXT - Read next sequential rcd. F_SEQPREV - Read prev sequential rcd. F_DRNEXT - Equivalent to F_SEQNEXT except that if no var is specified, it will use the used in sys.dr_init() or sys.seek_key(). This is useful when using sys.dr_init() or sys.seek_key() to initiate sequential reading of a file without actually using sys.run_driver(). F_NODEBLOCK - Do not update or clear data fields.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.read_file() is the main way to access files in 4C. You can also use sys.run_driver() to read files sequentially, but to read a file by exact key, you must use sys.read_file(). Basically sys.read_file() reads a rcd in a file using an optional keynumber (0 by default) and a set flags. The flags determine most of what sys.read_file() does and they are described above. sys.read_file() can read sequentially or by key and may indicate that a rcd will be updated later by specifying an update mode.\nRequirements\nF_CONTINUE requires 4csrvr version 4.6.2 or higher.","example#Example":"There are many examples of sys.read_file() in the tutorial application. Some of them are listed below.\n/* from global PCL cm_read */ cm_code = cmcode; if (sys.read_file(cust_mstr,F_LOOKUP|F_NOMSG) \u003c 0) { if (cm_code == \"\") return(1); /* Return 1 for null cmcode */ return(-1); } return(0); /* from op.call.de.sel addcall() */ while (1) { if (sys.read_file(call_hdr,F_ADD|F_NOMSG|F_NODEBLOCK) \u003c 0) { if (sys.errno == 3) { /* Rcd Already Exists */ ch_num += 1; /* Try for next */ continue; } /* Different error - msg and exit PCL */ sys.err_msg(\"Error Trying to Add - TRY AGAIN\"); return; } break; }","purpose#Purpose":"sys.read_file() accesses a record in a file.","returns#Returns":"0 - File accessed OK.\n-1 - Some Error - Depends on mode and error code set in sys.errno.\nThe values sys.errno may have are: 1 - Record Not Found 2 - Cannot Lock Record 3 - Record Already Exists","see-also#See Also":"sys.run_driver() sys.seek_key() sys.set_ekey() sys.set_skey() sys.upd_file()","sysread_file#sys.read_file()":"","usage#Usage":"ret = sys.read_file(\u003cfile\u003e, \u003cflags\u003e [, \u003ckeyno\u003e]);","where-used#Where Used":"sys.read_file() can be called from anywhere. Normally when using the F_DEFAULT flag, sys.read_file() will be called from an EndField PCL of a screen program to access the main file of that screen."},"title":"sys.read_file"},"/docs/systempcls/sys-rel_dfile/":{"data":{"":"","arguments#Arguments":"integer - The fileno returned by a previous call to sys.get_dfile().","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Whenever you are done using a dynamic file, you should release all memory associated with the dynamic file by calling sys.rel_dfile(). Once sys.rel_dfile() has been called, the filenum associated with the dynamic file can no longer be used for any SysPCL calls that need an argument.","example#Example":"The global system PCL sys.rcd_exists() makes uses sys.get_dfile().","purpose#Purpose":"sys.rel_dfile() releases memory used by a dynamic file.","returns#Returns":"0 - OK\n-1 - Error - Invalid dynamic","see-also#See Also":"sys.get_dfile()","sysrel_dfile#sys.rel_dfile()":"","usage#Usage":"ret = sys.rel_dfile(\u003cfileno\u003e);","where-used#Where Used":"sys.rel_dfile() can be called from anytime there is an active dynamic file in a 4C program. It works only on dynamic files for the current program."},"title":"sys.rel_dfile"},"/docs/systempcls/sys-rep_string/":{"data":{"":"","arguments#Arguments":"integer - Any number of predefined flags that can be combined using the ‘|’ operator. See below for flag descriptions.\nalpha - The alpha var to modify\nalpha - The string, or sometimes the set of characters, that you want to match in is optional when RS_CONVERT is specified but mandatory in all other cases.\nalpha - The string, or sometimes the set of characters, that are used to replace the matched string or character in is optional when either RS_SQUEEZE or RS_CONVERT is specified but mandatory in all other cases.\nAllowable sflags are:\nRS_DEFAULT - Same as RS_ALL RS_ALL - Perform replace or squeeze on all matches found in RS_FIRST - Perform replace or squeeze on only the first match found in RS_LAST - Perform replace or squeeze on only the last match found in RS_LEADING - Perform replace or squeeze on only the leading matches found in RS_TRAILING - Perform replace or squeeze on only the trailing matches found in RS_ANY - Treat as a set of characters to match and replace rather than as a string to match and replace. RS_IGNORECASE - Make comparisons ignoring case. RS_TRANSLATE - Treat both and as sets of characters rather than strings. When a match is found in , that character is replaced by the character in at the index the matching char was found in RS_SQUEEZE - Squeeze multiple sequential occurrences of any character in to a single occurrence. is treated as a set of characters to match against rather than as a string to match. , if specified, is ignored. RS_CONVERT - Convert all escape sequences in to their character equivalents. i.e. \\t gets converted to a real tab character, \\n to a newline, \\r to a carriage return, etc. and , if specified, are both ignored.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.rep_string() can be used to delete, replace, or squeeze one or more occurrences of a substring within an alpha variable. The result of the string manipulation is returned as an alpha variable. The original alpha is left unchanged unless it is specified as . Some values are incompatible if used together and the resulting string manipulation done will not be well defined.\nDo not use RS_TRANSLATE and RS_SQUEEZE together.\nSpecifying an empty string for without RS_TRANSLATE will delete matching characters or sequences of characters.\nRequirements\n4C Server Version 5.6.3-03 or higher","example#Example":"The Demo application has a simple example in the demo.repstr.1 program.","purpose#Purpose":"sys.rep_string() allows you to replace or delete characters from an alpha var in","returns#Returns":"alpha - The new modified string.","see-also#See Also":"sys.split_string() sys.l_strip() sys.r_strip() sys.l_fill() sys.r_fill() toupper() tolower() Sys PCLs List","sysrep_string#sys.rep_string()":"","usage#Usage":"aval = sys.rep_string(,,[ , ] [ ]);","where-used#Where Used":"sys.rep_string() can be called from anywhere."},"title":"sys.rep_string"},"/docs/systempcls/sys-reset_prog/":{"data":{"":"","arguments#Arguments":"alpha - The name of the program to reset.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.reset_prog() reads the sys.program file, and resets the sys.pr_sftime field to 0. This causes the program to recompile the next time that it is run.","example#Example":"sys.prog.reset is pushed from sys.fh.maint to reset programs using the current file. sys.prog.reset calls sys.reset_prog() from the SortSel PCL for the sys.pr_file driver. The PCL is named resetprog(). Its code follows: sys.reset_prog(sys.pf_prname);","purpose#Purpose":"sys.reset_prog() sets a program for recompile.","returns#Returns":"0 - OK\n-1 - Error - Probably no such program, a message has been displayed.","see-also#See Also":"sys.build_prog() sys.build_file()","sysreset_prog#sys.reset_prog()":"","usage#Usage":"ret = sys.reset_prog(\u003cprogname\u003e);","where-used#Where Used":"sys.reset_prog() can be called from anywhere. It most likely will be called from system development programs, and not from other application programs."},"title":"sys.reset_prog"},"/docs/systempcls/sys-restore_share/":{"data":{"":"","arguments#Arguments":"asfile - Optional arg that limits the restore to fields in","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.restore_share() resets all or a subset of shared in fields to their original shared in values","example#Example":"sys.pr.srch.1 calls sys.restore_share(sys.program) in the restart() PCL in order to restore the original values of fields in sys.program.","purpose#Purpose":"sys.restore_share() resets all or a subset of shared in fields to their original shared in values","returns#Returns":"integer 0 - OK - all applicable field values reset to original shared in value\n-1 - was specified but not found","see-also#See Also":"sys.fl_restore() sys.fl_save() sys.get_saveval()","sysrestore_share#sys.restore_share()":"","usage#Usage":"ret = sys.restore_share([\u003cfilename\u003e]);","where-used#Where Used":"sys.restore_share() can be called from anywhere. However, it mostly makes sense to call it when a program is restarted to restore the original values of the shared in fields."},"title":"sys.restore_share"},"/docs/systempcls/sys-rexp_match/":{"data":{"":"","arguments#Arguments":"alpha - The text to search for the regular expression in.\nalpha - The regular expression\ninteger - Any combination of\nREXP_DEFAULT REXP_SIMPLE REXP_IGNORECASE","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.rexp_match() matches a regular expression in a string. If there is a match, then the return value is the string that matched and sys_ret is set to the index into of the start of the match. If there is no match, then the return is an empty string and sys_ret is set to -1. You should check sys_ret to determine if an empty return string means there was not a match.","example#Example":"demo.rexp.1 in the Demo app","purpose#Purpose":"sys.rexp_match() matches a regular expression","returns#Returns":"alpha - The sub string in that matched","see-also#See Also":"Sys PCLs List","sysrexp_match#sys.rexp_match()":"","usage#Usage":"aval = sys.rexp_match(\u003ctext\u003e,\u003crexp\u003e,\u003crexpflags\u003e);","where-used#Where Used":"sys.rexp_match() can be called from anywhere."},"title":"sys.rexp_match"},"/docs/systempcls/sys-rollback/":{"data":{"":"","arguments#Arguments":"alpha - A program specific name for the transaction. This name must be the same used that started the transaction.","bugs--features--comments#Bugs / Features / Comments":"See the discussion in External Database Files for more details on 4C transactions.","description#Description":"sys.rollback() rolls back the transaction specified by as well as any nested transactions. Only explicit transactions started by the application can be rolled back by the application and the transaction must have been started by the same 4C program that calls sys.rollback(). You cannot start transaction, “T1”, in programA, push ProgramB and roll back the transaction, “T1”, in programB.","example#Example":"See sys.begin() for example code.","purpose#Purpose":"sys.rollback() rolls back a 4C transaction.","returns#Returns":"0 - Transaction rolled back\n-1 - The transaction specified by does not exist","see-also#See Also":"sys.begin() sys.commit() External Database Files","sysrollback#sys.rollback()":"","usage#Usage":"ret = sys.rollback(\u003ctname\u003e);","where-used#Where Used":"sys.rollback() can be called from anywhere, but it can only rollback a transaction started within the same 4C program. When possible you should try to use sys.rollback() within the same PCL that called sys.begin()."},"title":"sys.rollback"},"/docs/systempcls/sys-rset_dfield/":{"data":{"":"","arguments#Arguments":"- the label of the display field that you want to reset.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.rset_dfield() just resets the display field corresponding to dfldlabel to be associated with the field defined as the display field. It only makes sense to use this PCL if previously you have used the sys.set_dfield() PCL.","example#Example":"None","purpose#Purpose":"sys.rset_dfield() resets the data field associated with a display field to its original value.","returns#Returns":"0 - OK\n-1 - no display field with label","see-also#See Also":"sys.set_dfield()","sysrset_dfield#sys.rset_dfield()":"","usage#Usage":"ret = sys.rset_dfield(\u003cLABEL\u003e);","where-used#Where Used":"sys.rset_dfield() can be called from anywhere, but it only makes sense sometime after sys.set_dfield() has been called."},"title":"sys.rset_dfield"},"/docs/systempcls/sys-run_fldloop/":{"data":{"":"","arguments#Arguments":"integer - - The index of a display field in the fldloop that you want to switch to.","bugs--features--comments#Bugs / Features / Comments":"Both 4csrvr and 4cclient version 5.2 and later are required.","description#Description":"sys.run_fldloop() allows the application to change the current fldloop to a different fldloop.","example#Example":"None","purpose#Purpose":"sys.run_fldloop() allows programmatic switching between option panel fld loops and the main fldloop.","returns#Returns":"integer - No Return - Fld Loop Switched\n-1 - Either the is invalid or is in the current executing fld loop.","see-also#See Also":"4C Panels Documentation","sysrun_fldloop#sys.run_fldloop()":"","usage#Usage":"ret = sys.run_fldloop(\u003cfldidx\u003e);","where-used#Where Used":"sys.run_fldloop() can be called any time the current screen program has at least one option panel."},"title":"sys.run_fldloop"},"/docs/systempcls/sys-seek_key/":{"data":{"":"","arguments#Arguments":"- asfile\ninteger - An integer returned by a call to sys.get_keyno()\ninteger - Either SEEK_START or SEEK_END","bugs--features--comments#Bugs / Features / Comments":"When using sys.seek_key() on secondary keys, you still need to specify the keyno in calls to sys.read_file(...,F_SEQNEXT). So use F_DRNEXT and F_DRPREV instead.\nBe very careful using F_SEQPREV after calling sys.seek_key(). It may actually read the next rcd rather than the previous.","description#Description":"sys.seek_key() prepares a file for reading sequentially. If the start key set by a call to sys.set_skey() is greater than the end key set by a call to sys.set_skey(), or if the is SEEK_END, sys.seek_key() reverses the meaning of F_SEQNEXT and F_SEQPREV for sequential reads that follow. You almost always should use F_SEQNEXT when reading a file sequentially after a call to sys.seek_key().\nF_DRNEXT and F_DRPREV can be used in place of F_SEQNEXT and F_SEQPREV and are better alternatives because you do not need to specify the key that you are reading by. They will always use the key specified in the arg.","example#Example":"See the demo.seekkey.1 demo program for an example.","purpose#Purpose":"sys.seek_key() prepares for sequential reading by seeking to either the start or end key position.","returns#Returns":"0 - OK\n-1 - Some Error","see-also#See Also":"sys.set_skey() sys.set_ekey() sys.read_file()","sysseek_key#sys.seek_key()":"","usage#Usage":"ret = sys.seek_key(\u003casfile\u003e,\u003ckeyno\u003e,\u003cseektype\u003e);","where-used#Where Used":"sys.seek_key() will typically be called after calls to sys.set_skey() and sys.set_ekey() and before calling sys.read_file(...,F_SEQNEXT)"},"title":"sys.seek_key"},"/docs/systempcls/sys-send_msg/":{"data":{"":"","arguments#Arguments":"alpha - The user to send the message to. alpha - The dotaddr of the user to send the message to. If is “”, then 4C sends the message to the first user that it finds matching . integer - currently unused - SHOULD PASS 0 integer - currently unused - SHOULD PASS 0 alpha - A valid 4C message alpha - - 1 or more arguments to the 4C message.","bugs--features--comments#Bugs / Features / Comments":"There is no way to get a response from the user the message was send to. This assumes only one client is connected from a single dotaddr.","description#Description":"sys.send_msg() is used to send a message to another 4C process. You can also send a message to yourself.\nCurrently the only message supported is to run a program. To send a message to run a program the arg is “run”, is the program name, and - are the arguments to the program. When the run message is sent to a user, the program has higher priority than any normal program. It will seem to the 4C user that a new program was pushed. The previous program will continue only when the new one exits. The 4C user must have the program in his search path or it can not execute.","example#Example":"None","purpose#Purpose":"sys.send_msg() sends a message to another 4C user.","returns#Returns":"0 - Message sent -1 - No user with and","see-also#See Also":"sys.get_dotaddr()","syssend_msg#sys.send_msg()":"","usage#Usage":"ret = sys.send_msg(\u003cusername\u003e,\u003cdotaddr\u003e,\u003cINTEGER1\u003e,\u003cINTEGER2\u003e,\u003cmsg\u003e, msgarg1 [,msgarg2 [,..., [msgarg11] ] ... ]);","where-used#Where Used":"sys.send_msg() can be called from anywhere. It typically might be used to send messages to a background 4C process."},"title":"sys.send_msg"},"/docs/systempcls/sys-send_result/":{"data":{"":"","arguments#Arguments":"- One of SR_DATA or SR_NAMES. - an alpha variable that the web client can use to distinguish between different types of results. - An alpha data value when using SR_DATA. An name when using SR_NAMES.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.send_result() can be used to send data to a Web Client. It can be used instead of or in addition to writing WebReports to send the data. If you want the req4c PHP client to be able to access data using associative arrays, then send call sys.send_result(SR_NAMES,...) before making multiple calls to sys.send_result(SR_DATA,...).","example#Example":"None","purpose#Purpose":"sys.send_result() sends results from a 4c web application to the web client.","returns#Returns":"0 - OK -1 - Current App is not a Web Application.","see-also#See Also":"Web4C","syssend_result#sys.send_result()":"","usage#Usage":"sys.send_result(\u003csrtype\u003e,\u003csrid\u003e,\u003caval\u003e[,\u003caval]...);","where-used#Where Used":"sys.send_result() can be called from any Web Application to send data to WebClient."},"title":"sys.send_result"},"/docs/systempcls/sys-set_add/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"There is no corresponding sys.set_look() PCL.","description#Description":"sys.set_add() is called when you want the default rcd access mode to be “Add”. When called, 4C first checks to see if the XLMODETOGGLE var is set to ON. If it is and sys.mode is already “Add”, 4C sets it back to “Lookup”. If it is anything else, then 4C sets sys.mode to “Add”. Next, 4C checks to see if it is in a field processing state. If so, then the next field state is set to exit that field. This will only happen after all nested PCLs are exited normally. The next field to process will be sys.cur_field if no input was entered on that field. If input was entered, then the next field to process will be sys.cur_field + 1.\nsys.mode can be reset to “Lookup” by pressing the key, or if XLMODETOGGLE is “ON”, by calling sys.set_add() again.\nThe main effect of calling sys.set_add() is that the system variable sys.mode in ‘$syslocalf’ is set to “Add”. This affects calls to sys.read_file() with the F_DEFAULT flag. Since sys.mode is in the local system file, this only affects the current program.\nCurrently, there are no other side effects of calling sys.set_add() but I would advise not to call it except during field processing.","example#Example":"In the development program sys.prog.mstr, sys.set_add() is called if the key is pressed on the sys.pr_name field.","purpose#Purpose":"sys.set_add() sets or toggles “Add” mode.","returns#Returns":"None","see-also#See Also":"sys.set_del() sys.set_mod() sys.read_file()","sysset_add#sys.set_add()":"","usage#Usage":"sys.set_add();","where-used#Where Used":"sys.set_add() should only be called during field processing of input screens. sys.set_add() is most often called from the key PCL processing."},"title":"sys.set_add"},"/docs/systempcls/sys-set_alarm/":{"data":{"":"","arguments#Arguments":"integer - Number of seconds for the alarm. If is 0, then there will be no timeout on user input.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_alarm() sets a timeout value for the next user input. The timeout value is the number of seconds to wait with NO user input, not the number of seconds to wait for a . Every character typed resets the alarm to the timeout value.\nIf the alarm is triggered during field input, then the verify PCL can be used to determine if the alarm was set off. sys.errno will be set to ERR_ALARM.\nIf the alarm is triggered during a call to sys.dr_epedit(), sys.dr_epselect1(), or sys.err_msg(), the return value will be less than 0, and sys.errno will be set to ERR_ALARM.\nIf the alarm is triggered during a call to sys.get_answer(), then the return will be blank and sys.errno will be set to ERR_ALARM.\nAfter any user input, the alarm is always reset to 0 even if it was not triggered. Your program must call sys.set_alarm() before every user input that needs to timeout.","example#Example":"None","purpose#Purpose":"sys.set_alarm() sets a timeout value on user input.","returns#Returns":"Always returns 0.","see-also#See Also":"sys.dr_epedit() sys.dr_epselect1() sys.err_msg() sys.get_answer()","sysset_alarm#sys.set_alarm()":"","usage#Usage":"sys.set_alarm(\u003cnsec\u003e);","where-used#Where Used":"sys.set_alarm() can be called from anywhere, but its affect is ALWAYS on the next user input. You would normally call this routine in an SFLD PCL, or immediately before a call to sys.dr_epedit() or sys.dr_epselect1()."},"title":"sys.set_alarm"},"/docs/systempcls/sys-set_break/":{"data":{"":"","arguments#Arguments":"alpha - The name of the program to set the breakpoint in. Use “ALL” to set the breakpoint for all programs.\ninteger - One of BRK_PROGRAM, BRK_PCL, BRK_VARIABLE, or BRK_SYSPCL.\nalpha - A name specific to the type of breakpoint being set. It will be one of pclname, varname, or syspcl name. For BRK_PROGRAM, the argument is ignored.\nalpha - The asfile name for the variable used in a BRK_VARIABLE breakpoint. For all other breakpoint types the argument is ignored.\nalpha - The alpha representation of the from value for a BRK_VARIABLE breakpoint when the argument includes BRK_FRVAL. For any other breakpoint type or a BRK_VARIABLE breakpoint with that include BRK_FRANY the argument is ignored.\nalpha - The alpha representation of the to value for a BRK_VARIABLE breakpoint when the argument includes BRK_TOVAL. For any other breakpoint type or a BRK_VARIABLE breakpoint with that include BRK_TOANY the argument is ignored.\ninteger - Combinations of BRK_ENTRY, BRK_EXIT, BRK_FRANY, BRK_FRVAL, BRK_TOANY, BRK_TOVAL, BRK_LINENO. When setting a BRK_PCL on a specific linenumber of a PCL the flags argument should be set to (BRK_LINENO | lineno).","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"In order for the application to run its own program when a breakpoint is required, the env var FC_DBGMAIN must be set correctly and the 4C Server version must be 6.4.3 or later.","example#Example":"sys.set_break() is useful for applications that need to debug seldom encountered issues that are rarely duplicatable. One scenario for this is to set a breakpoint on the SysPCL sys.upd_file() specifying BRK_ENTRY. Then in the application program referenced by FC_DBGMAIN, check for the conditions that you are looking for, such as a value in a file changing to a specific value and if that condition is met, call sys.app_trace() to create a complete trace of the current state of the 4c session and then somehow inform the developer via email or text message that the trace was created so someone can look into it. When used this way, the breakpoint is handled by the application program and there should be no end user interaction. The end user will not notice anything different than normal. Unless specifically cleared with sys.clr_break(), breakpoints remain in effect across the entire 4c session.","purpose#Purpose":"sys.set_break() sets a 4c session breakpoint.","returns#Returns":"0 - OK. Currently, this is the only value returned.","see-also#See Also":"sys.clr_break()","sysset_break#sys.set_break()":"","usage#Usage":"ret = sys.set_break(\u003cprname\u003e,\u003cbrktype\u003e,\u003cname\u003e,\u003casfilename\u003e,\u003cfromval\u003e,\u003ctoval\u003e,\u003cflags\u003e);","where-used#Where Used":"Normally this is used by the system dbg programs when a developer is doing interactive debugging of a 4c session. However, an application may want to set breakpoints on its own without user control when they use their own program for debugging some exceptional conditions. When used this way, the env var FC_DBGMAIN should be set to the application program that should run when breakpoints are encountered."},"title":"sys.set_break"},"/docs/systempcls/sys-set_busy/":{"data":{"":"","arguments#Arguments":"- The alpha that was used to start this progress bar in sys.start_busy()\n- One of SB_TITLE or SB_LABEL indicating what you are changing.\n- The new text for the progress bar title or label.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"This system pcl allows you to change either the label or the title of a currently running progress bar.","example#Example":"None","purpose#Purpose":"sys.set_busy() allows you to modify either the title or the label of a running progress bar.","returns#Returns":"-1 - means no progress bar with name was found. Otherwise 0 is returned.","see-also#See Also":"sys.start_busy() sys.stop_busy()","sysset_busy#sys.set_busy()":"","usage#Usage":"sys.set_busy(\u003cname\u003e, \u003ctype\u003e, \u003cnewtext\u003e);","where-used#Where Used":"sys.set_busy() can be called from anywhere."},"title":"sys.set_busy"},"/docs/systempcls/sys-set_clenv/":{"data":{"":"","arguments#Arguments":"alpha - The name of the environment variable.\nalpha - The value to set the environment variable to.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_clenv() sets an environment variable in the current client process. Only the running client and any process that the client starts have access to environment variables set this way.","example#Example":"None","purpose#Purpose":"sys.set_clenv() allows the server to set an environment variable on the client.","returns#Returns":"0 - Always returns 0","see-also#See Also":"sys.get_clenv() sys.get_env() sys.put_env()","sysset_clenv#sys.set_clenv()":"","usage#Usage":"sys.set_clenv(\u003cenvvar\u003e,\u003cenvval\u003e);","where-used#Where Used":"sys.set_clenv() is most useful when the you are going to have the 4cclient run another program and you need that program to have access to special info that you don’t want to pass as arguments to the program."},"title":"sys.set_clenv"},"/docs/systempcls/sys-set_clpref/":{"data":{"":"","arguments#Arguments":"integer - This can be either PREF_CURRENTUSER or PREF_ALLUSERS, possibly combined with PREF_SAVE.","bugs--features--comments#Bugs / Features / Comments":"sys.set_clpref() is not supported by the non interactive 4C client, 4ccl.\nSpecifying an incorrect is not detected as an error.\nDo not assume that the current user has permission to write the All Users cl-pref.txt file. No error is returned if PREF_SAVE is specified and the user does not have permission to write the cl-pref.txt file.","description#Description":"sys.set_clpref() allows the application to modify client preferences. You can modify preferences specific to the current user or for all users. This should be used only under special circumstances. If you want the preferences to be saved, then also specify PREF_SAVE as part of the argument. If PREF_SAVE is not specified, the modified preferences will not be saved permanently unless some subsequent call to sys.set_clpref() specifies PREF_SAVE or unless the user calls up the preferences dialog and saves them that way. You can set multiple preferences by specifying multiple args. Each arg is in the format “PrefName=Val” where PrefName and Val correspond to the names and values documented in: Client Preferences. In some cases, changing a client preference does not take effect until the client exits and restarts. In particular, modifying ConnFileList, FontFileList, or FKeyFileList require the client to exit and restart to have any effect.","example#Example":"sys.set_clpref(PREF_CURRENTUSER|PREF_SAVE,\"FontFileList=4csfont-1.txt\");","purpose#Purpose":"sys.set_clpref() allows the application to modify a client preference.","returns#Returns":"integer 0 - OK\n-1 - Error, probably client version earlier than 4.4.4","see-also#See Also":"sys.get_clinfo() sys.cl_restart() sys.set_clpref()","sysset_clpref#sys.set_clpref()":"","usage#Usage":"ret = sys.set_clpref(,[,]...);","where-used#Where Used":"sys.set_clpref() can be called from anywhere during an interactive client session.\nHowever, the client preferences really are for the client to choose and set. Except under extraordinary circumstances, you should not change client preferences for them without their interaction."},"title":"sys.set_clpref"},"/docs/systempcls/sys-set_cmenu/":{"data":{"":"","arguments#Arguments":"integer - CMNAME - The name of the ContextMenu. This name gets mapped to an integer when the program is compiled. Do not enclose it in quotes.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_cmenu() is used to change the current context menu of a program. If your program has only one context menu, you will not need to call this PCL. The first context menu of a program is always set as the default when the program runs.","example#Example":"None","purpose#Purpose":"sys.set_cmenu() lets the application change the current context menu.","returns#Returns":"0 - Context Menu Set OK\n-1 - Invalid ContextMenu Specified.","see-also#See Also":"sys.set_cmitem()","sysset_cmenu#sys.set_cmenu()":"","usage#Usage":"ret = sys.set_cmenu(CMNAME);","where-used#Where Used":"sys.set_cmenu() can be called from anywhere in a Screen Program."},"title":"sys.set_cmenu"},"/docs/systempcls/sys-set_cmitem/":{"data":{"":"","arguments#Arguments":"integer - CMNAME - The name of the ContextMenu. This name gets mapped to an integer when the program is compiled. Do not enclose it in quotes. integer - - Combinations of CM_ENABLED or CM_ENABLE CM_DISABLED or CM_DISABLE CM_VISIBLE or CM_SHOW CM_HIDDEN or CM_HIDE integer - item - Use the CDef for this item or CM_ALL to specify that all items in the specified CMENU have their attributes set.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Use sys.set_cmitem() to enable, disable, hide, and unhide items on a context menu. By default, all items in a context menu are visible and enabled at the start of a program.","example#Example":"The following code is from the sys.pf.maint program and either hides or unhides the DRIVER item on the CM1 context menu.\nif (sys.pf_drflag=='y') sys.set_cmitem(CM1,CM_ENABLED,DRIVER); else sys.set_cmitem(CM1,CM_DISABLED,DRIVER);","purpose#Purpose":"sys.set_cmitem() allows you to change the attributes of individual context menu items.","returns#Returns":"0 - Items Set OK -1 - Invalid ContextMenu Specified. 0 - Some items specified were invalid","see-also#See Also":"sys.set_cmenu()","sysset_cmitem#sys.set_cmitem()":"","usage#Usage":"ret = sys.set_cmitem(CMNAME,\u003cflags\u003e,item1,item2,...,itemn);","where-used#Where Used":"sys.set_cmitem() can be called from anywhere in a Screen Program."},"title":"sys.set_cmitem"},"/docs/systempcls/sys-set_datetype/":{"data":{"":"","arguments#Arguments":"alpha - Must be “AMERICAN” or “EUROPEAN” only.","bugs--features--comments#Bugs / Features / Comments":"This does not affect the way that dates are displayed. If you have a program that needs to display dates in American and in European format, you should define your own date data type, and change the format according to site. Of course, programs will need to be recompiled.","description#Description":"sys.set_datetype() allows you to set the 4C date input format to be either American format or European format. There is an environment variable that also controls this. It is XLDATETYPE and can the values “AMERICAN” or “EUROPEAN” also. If never set by the environment variable or through sys.set_datetype(), 4C assumes American date input format.","example#Example":"None","purpose#Purpose":"None","returns#Returns":"int 0 - OK\n-1 - invalid.","see-also#See Also":"sys.get_datetype()","sysset_datetype#sys.set_datetype()":"","usage#Usage":"ret = sys.set_datetype(\u003cdatetype\u003e);","where-used#Where Used":"sys.set_datetype() can be called from anywhere. However, it probably will only be called once in a 4C session in some sort of startup program."},"title":"sys.set_datetype"},"/docs/systempcls/sys-set_debug/":{"data":{"":"","arguments#Arguments":"choice - Can be “ON” or “OFF” only","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_debug() is used to turn 4C debug mode on or off.","example#Example":"The following example is from the bootstrap global PCL sys.dbg.set(). This PCL is called from any bootstrap program when the user12 key is pressed.\nif (sys.uscr_dbflag == \"ON\") sys.uscr_dbflag = \"OFF\"; else sys.uscr_dbflag = \"ON\"; sys.set_debug(sys.uscr_dbflag);","purpose#Purpose":"sys.set_debug() turns the 4C Debugger on or off.","returns#Returns":"0 - Debug mode turned on or off depending on .\n-1 - Invalid","see-also#See Also":"sys.get_debug()","sysset_debug#sys.set_debug()":"","usage#Usage":"ret = sys.set_debug(\u003cval\u003e);","where-used#Where Used":"sys.set_debug() can be called from anywhere. It is used in the bootstrap program development programs and is toggled on/off with the user12 function key."},"title":"sys.set_debug"},"/docs/systempcls/sys-set_del/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"There is no corresponding sys.set_look() PCL.","description#Description":"sys.set_del() is called when you want the default rcd access mode to be “Delete”. When called, 4C first checks to see if the XLMODETOGGLE var is set to ON. If it is and sys.mode is already “Delete”, 4C sets it back to “Lookup”. If it is anything else, then 4C sets sys.mode to “Delete”. Next, 4C checks to see if it is in a field processing state. If so, then the next field state is set to exit that field. This will only happen after all nested PCLs are exited normally. The next field to process will be sys.cur_field if no input was entered on that field. If input was entered, then the next field to process will be sys.cur_field + 1.\nsys.mode can be reset to “Lookup” by pressing the key, or if XLMODETOGGLE is “ON”, by calling sys.set_del() again.\nThe main effect of calling sys.set_del() is that the system variable sys.mode in ‘$syslocalf’ is set to “Delete”. This affects calls to sys.read_file() with the F_DEFAULT flag. Since sys.mode is in the local system file, this only affects the current program.\nCurrently, there are no other side effects of calling sys.set_del() but I would advise not to call it except during field processing.","example#Example":"In the development program sys.prog.mstr, sys.set_del() is called if the key is pressed on the sys.pr_name field.","purpose#Purpose":"sys.set_del() sets or toggles “Delete” mode.","returns#Returns":"None","see-also#See Also":"sys.set_add() sys.set_mod() sys.read_file()","sysset_del#sys.set_del()":"","usage#Usage":"sys.set_del();","where-used#Where Used":"sys.set_del() should only be called during field processing of input screens. sys.set_del() is most often called from the key PCL processing."},"title":"sys.set_del"},"/docs/systempcls/sys-set_dfattr/":{"data":{"":"","arguments#Arguments":"integer - the unique label id of the display field. This is in the display field specs and normally is upper case.\nalpha - Any valid device attribute that can be defined for the report field. Typical ones will be “so”, “ul”, “bold”. Any attribute can be preceded by “no \" in order to take it away. In addition, “default” or “no default” may be specified to control how the attributes specified relate to those defined in the program specification.","bugs--features--comments#Bugs / Features / Comments":"If you specify an integer instead of a display field label, there is no check to make sure it is within range of the display field numbers. If it is not, you probably get a segment fault or some other very nasty error.","description#Description":"sys.set_dfattr() allows you to control the display attributes of a report display field at run time. The attributes that you can set or unset are the same that can be defined for the field in the sys.df.maint programs. The way you specify the display field to this PCL is by its label. That is, the label defined in sys.dpy_field. This most often will be upper case letters. When a program is compiled, this label is converted to an integer. It always has the value of one less than its field number. If there are n display fields in the program, then the numbers for these fields will vary from 0 to n-1. Thus you could use a for loop to set all display fields between LABEL1 and LABELN. If you wanted to do this, then the code would look like the following:\nfor (dfnum = LABEL1; dfnum \u003c LABELN; dfnum += 1) sys.set_dfattr(dfnum,\"so\",\"no ul\"); Each of the attributes corresponds to a rcd in \\dev_cap under \\user, except for the default and no default attributes. The attributes correspond to the \\dc_longname field. If you specify “no default”, this means that you want to set exactly those attributes specified and leave ALL other attributes off. If you specify “default”, it means to set or unset the attributes specified, but to leave any others specified in the display field definition on. If you specify neither “default” nor “no default”, it is the same as specifying “default”.","example#Example":"In the 4C debugger program, the main menu is sys.prog.dbg. The StartFldLp PCL is used to turn “so” mode off for each of the 6 menu labels, and for the prompt field. The code that does this follows:\nok = '' dbgsel = 0; prompt = \"Enter Selection:\"; sys.set_dfattr(SEL1,\"no so\"); sys.set_dfattr(SEL2,\"no so\"); sys.set_dfattr(SEL3,\"no so\"); sys.set_dfattr(SEL4,\"no so\"); sys.set_dfattr(SEL5,\"no so\"); sys.set_dfattr(SEL6,\"no so\"); sys.set_dfattr(PROMPT,\"no so\"); After a selection is made, either by function key, or by typing the number without a return, the setsel() PCL is called. This PCL highlights the selection by setting “so” on, changes the prompt, and highlights the prompt as well. The code that does this follows:\nif (dbgsel == 1) sys.set_dfattr(SEL1,\"so\"); else if (dbgsel == 2) sys.set_dfattr(SEL2,\"so\"); else if (dbgsel == 3) sys.set_dfattr(SEL3,\"so\"); else if (dbgsel == 4) sys.set_dfattr(SEL4,\"so\"); else if (dbgsel == 5) sys.set_dfattr(SEL5,\"so\"); else if (dbgsel == 6) sys.set_dfattr(SEL6,\"so\"); prompt = \" Selection OK? \"; sys.set_dfattr(PROMPT,\"so\"); ok = 'y' Each possibility was tested separately to allow the insertion of display fields later without affecting the code.","purpose#Purpose":"sys.set_dfattr() allows runtime modification of report display field device attributes.","returns#Returns":"integer 0 - OK\n-1 - No current program or no fields in program.","see-also#See Also":"sys.set_dfoption()","sysset_dfattr#sys.set_dfattr()":"","usage#Usage":"ret = sys.set_dfattr(\u003cdflabel\u003e, \u003cattr\u003e [, \u003cattr\u003e ... ]);","where-used#Where Used":"sys.set_dfattr() can be called from anywhere. sys.set_dfattr() can be called from the INIT PCL to set attributes that need to be set only once, or it may be called from other PCLs to set attributes that change more often."},"title":"sys.set_dfattr"},"/docs/systempcls/sys-set_dfcolor/":{"data":{"":"","arguments#Arguments":"- integer var, should be the DFLABEL for the display field. - alpha var in “rrr:ggg:bbb” format If is “”, it will not be changed. If it is “Default”, it will change to the display fields default foreground. - alpha var in “rrr:ggg:bbb” format If is “”, it will not be changed. If it is “Default”, it will change to the display fields default background.","bugs--features--comments#Bugs / Features / Comments":"sys.set_dfcolor() is not implemented for scrollhdr or scrolldet fields.","description#Description":"sys.set_dfcolor() allows a program to dynamically change the background and foreground color of a single display field. This can be useful if it cannot be known at program compile time.","example#Example":"None","purpose#Purpose":"sys.set_dfcolor() allows a program to dynamically change the background and foreground color of a single ScreenProg display field.","returns#Returns":"The only value returned currently is 0.","see-also#See Also":"sys.set_prcolor() sys.set_dricolor()","sysset_dfcolor#sys.set_dfcolor()":"","usage#Usage":"ret = sys.set_dfcolor(\u003cdflabel\u003e,\u003cfgrgbval\u003e,\u003cbgrgbval\u003e);","where-used#Where Used":"sys.set_dfcolor() can be called from anywhere but most likely will be called from the Init PCL."},"title":"sys.set_dfcolor"},"/docs/systempcls/sys-set_dfformat/":{"data":{"":"","arguments#Arguments":"dflabel - the unique label id of the display field. This is in the display field specs and normally is upper case.\nalpha - The new format to use. must be a valid format to use with the display field.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_dfformat() is used to dynamically change the format of a display field at run time. The format that is set must be compatible with the data type of the display field. Using sys.set_dfformat() allows you to write one simple routine that may be used to get many types of input based on passed args.","example#Example":"The bootstrap program sys.get.answer uses sys.set_dfformat() to set the format of the answ display field based on the passed args. The code that does this is in the init PCL.\nprompt = argv[1]; defanswer = argv[2]; if ((maxlen = atoi(argv[3])) \u003e 32) maxlen = 32; flags = atoi(argv[4]); $row_ofst = min(sys.get_msgline1()*1.0,sys.get_msgline2()*1.0) - 2; if (flags \u0026 INP_QUICK) sys.set_dfoption(ANSWER,\"qi\"); if (flags \u0026 INP_UC) fmtchar = 'X' else fmtchar = 'x' fmt = fmtchar+'('+itoa(maxlen)+')' sys.set_dfformat(ANSWER,fmt);","purpose#Purpose":"sys.set_dfformat() changes the format of a display field at run time.","returns#Returns":"integer ret\n0 - OK - format set OK\n-1 - Some error, probably illegal .","see-also#See Also":"sys.set_dfoption() sys.set_dfattr()","sysset_dfformat#sys.set_dfformat()":"","usage#Usage":"ret = sys.set_dfformat(,);","where-used#Where Used":"sys.set_dfformat() can be called from anywhere."},"title":"sys.set_dfformat"},"/docs/systempcls/sys-set_dfield/":{"data":{"":"","arguments#Arguments":"- a display field label - a field name, not a C DEFINE\ncan be any data type","bugs--features--comments#Bugs / Features / Comments":"can be any data type, but it must be able to use the format defined for the display field with the label , and it must be able to use the help message of that field.\nThere is no special compile time checking done to insure that they are compatible.","description#Description":"sys.set_dfield() is used to associate a program variable with a display field. It can be used to allow the same program to display and input different fields depending on some program variable. The display field and the program variable that are associated by sys.set_dfield() must be of the same storage type. They should also be the same size if alpha. They should also be able to use the same help message since that is what they get.","example#Example":"None","purpose#Purpose":"sys.set_dfield() allows you to associate a data field with a display field at run time.","returns#Returns":"0 - OK -1 - no display field with label","see-also#See Also":"sys.share_field() sys.rset_dfield()","sysset_dfield#sys.set_dfield()":"","usage#Usage":"ret = sys.set_dfield(\u003cLABEL\u003e,\u003cfield\u003e);","where-used#Where Used":"sys.set_dfield() can be called from anywhere, but makes most sense in the Init PCL."},"title":"sys.set_dfield"},"/docs/systempcls/sys-set_dfimage/":{"data":{"":"","arguments#Arguments":"integer - - This should be the DFLABEL of the display field.\nalpha - - The path of the image on the server. If the display field type is label or cmdbtn, then this path should be relative to the FC_IMAGE directory on the server. If the display field type is image, then this path can be absolute, relative to the FC_IMAGE dir, or a url.","bugs--features--comments#Bugs / Features / Comments":"If either the server version or the client version is less than 4.2.2 then sys.set_dfimage() always sends the image across the network.\nAny program that uses sys.set_dfimage() should always initialize any of the images that may change in the “Open” pcl to the default image that you want displayed. Otherwise that last image set may be displayed the next time the program is run if the layout is still running.","description#Description":"sys.set_dfimage() changes the image of a 4C display field. The display field must have image info associated with it at compile time. If the display field type is label or pushbutton and you use different size images, they will stretch or shrink to the size defined at compile time. Notice, that when you resize the demo.image.1 program, the label gets bigger, but the image used does not change size.\nIf the display field type is image, the image size can change at run time and the it sizes to the image window depends on other image info associated with the display field at compile time.","example#Example":"See the programs demo.image.1 for an example of using pushbuttons and labels with images. See the programs demo.image.2 and demo.image.3 for examples of using the image display field type.","purpose#Purpose":"sys.set_dfimage() changes the image associated with a display field.","returns#Returns":"integer 0 - OK\n\u003c 0 - Invalid , or cur program is not a screen program","see-also#See Also":"sys.set_dfcolor() sys.set_pnlimage()","sysset_dfimage#sys.set_dfimage()":"","usage#Usage":"ret = sys.set_dfimage(\u003cdflabel\u003e,\u003cimagepath\u003e);","where-used#Where Used":"sys.set_dfimage() can be called from any screen program that is open. You can not call sys.set_dfimage() in the InitPCL."},"title":"sys.set_dfimage"},"/docs/systempcls/sys-set_dflabel/":{"data":{"":"","arguments#Arguments":"integer - - This should be the DFLABEL of the display field.\nalpha - - The new label.","bugs--features--comments#Bugs / Features / Comments":"The original label should be as long as or longer than any new label that you will use for that dfield. Otherwise it may be truncated, or in some cases completely hidden, when changed.","description#Description":"sys.set_dflabel() changes the label of a 4C display field. The display field must have a label associated with it at compile time. sys.set_dflabel() works with any field that has a side label or top label. The total length of the label is never changed.","example#Example":"None","purpose#Purpose":"sys.set_dflabel() changes the label associated with a display field.","returns#Returns":"integer 0 - OK\n\u003c 0 - Invalid , or cur program is not a screen program","see-also#See Also":"sys.set_dflabel()","sysset_dflabel#sys.set_dflabel()":"","usage#Usage":"ret = sys.set_dflabel(\u003cdflabel\u003e,\u003cnewlabel\u003e);","where-used#Where Used":"sys.set_dflabel() can be called from any screen program that is open. You can not call sys.set_dflabel() in the InitPCL."},"title":"sys.set_dflabel"},"/docs/systempcls/sys-set_dfoption/":{"data":{"":"","arguments#Arguments":"integer - the unique label id of the display field. This is in the display field specs and normally is upper case.\nalpha - any of the following:\n“qi”, “no qi” - Quick Input, No Quick Input “nc”, “no nc” - No Change, No No Change “do”, “no do” - Display Only, No Display Only “mi”, “no mi” - Mandatory Input, No Mandatory Input “ne”, “no ne” - No Echo, No No Echo “ab”, “no ab” - Attr Blanks, No Attr Blanks “spc”, “no spc” - Special char processing, No spc processing “ignore”, “no ignore” - Client will not/will not display this field “verify”, “no verify” - Used with inplist. Allows or disallows input of data not in the inplist. “inpselall”, “no inpselall” - Select all/no text in the display field on input “inpselstart” - Select start of text in the display field on input “inpselend” - Select end of text in the display field on input “inpstripfmt”, “no inpstripfmt” - Allow/Disallow stripping of fmt characters before input. “default” - OR With compile time defaults. This is the default setting unless one of “no default” or “merge” is specified “no default” - Don’t OR with compile time defaults “merge” - Combine with current settings “no merge” - Do not combine with current settings","bugs--features--comments#Bugs / Features / Comments":"A field that you want to change to and from DO must not be defined as DO in sys.dpy_field. It can be defined as an input field and then set to display only in the INIT PCL.\nIf you specify an integer instead of a display field label, there is no check to make sure it is within range of the display field numbers. If it is not, you probably get a segment fault or some other very nasty error.\n“inpselall”, “inpselstart”, “inpselend”, require both the 4csrvr and the 4cclient to be at version 4.8.1 or higher.\n“inpstripfmt” requires the 4csrvr to be at version 4.8.1 or higher.","description#Description":"sys.set_dfoption() allows you to control some of the options of a display field at run time. The options that you can control are listed above. The way you specify the display field to this PCL is by its label. That is, the label defined in sys.dpy_field. This most often will be upper case letters. When a program is compiled, this label is converted to an integer. It always has the value of one less than its field number. If there are n display fields in the program, then the numbers for these fields will vary from 0 to n-1. Thus you could use a for loop to set all display fields between LABEL1 and LABELN. If you wanted to do this, then the code would look like the following:\nfor (dfnum = LABEL1; dfnum \u003c LABELN; dfnum += 1) sys.set_dfoption(dfnum,\"do\",\"ne\"); Most of the options correspond to a flag in sys.dpy_field, that can be set in the display field settings. The settings here are considered the “default” options and unless one of “no default” or “merge” is specified, the options to sys.set_dfoption are combined with all the other “default” options.\nIf you specify “no default”, this means that you want to set exactly those flags and leave ALL other flags unset. If you specify “default”, it means to set or unset the flags specified, but to leave the others as specified in the display field definition. If you specify neither “default” nor “no default”, it is the same as specifying “default”.\n“merge” is useful in the cases where you make multiple calls to sys.set_dfoption and do not want to undo the previous settings.\nIf a Panel ListView item or Panel List item is set to “ignore” in the InitPCL it cannot later be set to “no ignore”. If a Panel ListView item is set to “ignore” in the InitPCL, then extra white space is removed from the layout if possible.","example#Example":"Among the 4C/Med Appt Scheduler programs, there is a program that prompts for days of the week. The INIT PCL for this program sets the prompts for the days and the input field for the days to no echo if those days are not possible to schedule on. In addition, the input field is set to display only. Thus, you may be prompted for all days of the week, or only for monday and tuesday, or something like that. The code that does this follows:\nif (as_us_daysel[6] != 'y') { sys.set_dfoption(PMONDAY,\"ne\"); sys.set_dfoption(MONDAY,\"ne\",\"do\"); } if (as_us_daysel[0] != 'y') { sys.set_dfoption(PTUESDAY,\"ne\"); sys.set_dfoption(TUESDAY,\"ne\",\"do\"); } if (as_us_daysel[1] != 'y') { sys.set_dfoption(PWEDNESDAY,\"ne\"); sys.set_dfoption(WEDNESDAY,\"ne\",\"do\"); } if (as_us_daysel[2] != 'y') { sys.set_dfoption(PTHURSDAY,\"ne\"); sys.set_dfoption(THURSDAY,\"ne\",\"do\"); } if (as_us_daysel[3] != 'y') { sys.set_dfoption(PFRIDAY,\"ne\"); sys.set_dfoption(FRIDAY,\"ne\",\"do\"); } if (as_us_daysel[4] != 'y') { sys.set_dfoption(PSATURDAY,\"ne\"); sys.set_dfoption(SATURDAY,\"ne\",\"do\"); } if (as_us_daysel[5] != 'y') { sys.set_dfoption(PSUNDAY,\"ne\"); sys.set_dfoption(SUNDAY,\"ne\",\"do\"); } The following demo programs show different ways that “ignore” works with Panel List programs and Panel ListView programs.\ndtf.lv2.s - Run this program to see a Panel ListView program and a Panel List program embedded in a layout. dtf.lv.2 - Run this program standalone to see a Panel ListView program run in its own layout. dtf.list.2 - Run this program to a Panel List program run in its own layout. Both the Panel List program and the Panel ListView program prompt to let you decide whether 2 of the list items should be set to “ignore” in the InitPCL, the OpenPCL, or not at all. It is worthwhile to notice the differences.","purpose#Purpose":"sys.set_dfoption() allows runtime modification of display field flags.","returns#Returns":"integer 0 - OK\n-1 - No current program or no fields in program.","see-also#See Also":"sys.set_dfattr()","sysset_dfoption#sys.set_dfoption()":"","usage#Usage":"ret = sys.set_dfoption(\u003cdflabel\u003e, \u003cdfoption\u003e [, \u003cdfoption\u003e ...]);","where-used#Where Used":"sys.set_dfoption() can be called from anywhere. sys.set_dfoption() can be called from the INIT PCL to set options that need to be set only once, or it may be called from other PCLs to set options that change more often. The most likely options to set and unset are display only and no echo."},"title":"sys.set_dfoption"},"/docs/systempcls/sys-set_dricolor/":{"data":{"":"","arguments#Arguments":"- integer var, index of line to change. This is one less than the linenumber. - An optional integer index (or DFLABEL) of the single display field you are setting the color for. - alpha var in “rrr:ggg:bbb” format. If is “”, it will not be changed. If it is “Default”, it will change to the programs default foreground. - alpha var in “rrr:ggg:bbb” format. If is “”, it will not be changed. If it is “Default”, it will change to the programs default background.","bugs--features--comments#Bugs / Features / Comments":"In order to set individual fields in the list item, the list must be part of a panel program.\nSetting the color of a single display field on an item requires both client and server version 4.8.1 or higher.","description#Description":"sys.set_dricolor() allows a program to dynamically change the background and foreground color of a single item in a scrolling program. This is useful to highlight particular items. If you specify the optional parameter, only that display field has its color modified.","example#Example":"None","purpose#Purpose":"sys.set_dricolor() allows a program to dynamically change the background and foreground color of a single item in a scrolling program.","returns#Returns":"-1 return indicates illegal index. 0 is returned otherwise.","see-also#See Also":"sys.set_prcolor() sys.set_dfcolor()","sysset_dricolor#sys.set_dricolor()":"","usage#Usage":"ret = sys.set_dricolor(\u003citemidx\u003e, [\u003cdfidx\u003e, ]\u003cfgrgbval\u003e, \u003cbgrgbval\u003e);","where-used#Where Used":"sys.set_dricolor() can be called anytime after the line has been added in to the 4C temp file. This most likely will be in the DrSel PCL after calling sys.dr_add(). The index of the item after the sys.dr_add() is dr_sequence-1."},"title":"sys.set_dricolor"},"/docs/systempcls/sys-set_droption/":{"data":{"":"","arguments#Arguments":"integer options;\nValid values for option are:\nDR_DEFAULT DR_AUTOSEQ DR_RENUMBER DR_INTERLEAVE DR_PROCREAD DR_PASTEOK DR_NOAUTOSEQ DR_NORENUMBER DR_NOINTERLEAVE DR_NOPROCREAD DR_NOPASTEOK DR_DUPOK DR_NODUPOK Any of the options except DR_DEFAULT can be ored together using the “|” operator.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"This PCL is meant to be called only from a Driver Init PCL. It can be used to enable auto sequencing of the driver file, to allow the renumbering cmd to be used in sys.dr_epedit(), and to allow interleaving of sorting and processing of records. It can also be used to disable any of these three options, however, this is not of much use yet. The options may be or’d together. The DR_INTERLEAVE option is incompatible with both DR_RENUMBER and with DR_AUTOSEQ. Using DR_DEFAULT sets the driver options to the default driver options specified in the driver definition screen.\nWhen DR_INTERLEAVE is specified, 4C will sort and select only enough records to display one screenfull of data at a time. The timing is different when using this option. Some Driver Proc PCLs will be interleaved with the Driver Sort/Select PCLs. The Driver End Sort PCL may be executed after some Driver Proc PCL’s. The advantage of using this option with some screens is so that the user does not need to wait a long time to build the temp file before seeing a screen full of data. The temp file will still be built. This option is meant for screen drivers.\nWhen the program driver characteristics allow a flag to specify DR_INTERLEAVE, the DR_NOINTERLEAVE option can be used in the Driver Init PCL to disable interleave.\nThe DR_AUTOSEQ option directs 4C to automatically sequence the driver file. When used, you cannot use DR_INTERLEAVE. After building the temp file, if 4C detects any records out of sequence, they are sequenced immediately. If the program uses sys.dr_epedit(), then deleting records causes immediate resequencing. If records are deleted in any other manner than through sys.dr_epedit(), the records will not be resequenced. However, there is no problem with missing sequence numbers. The next time a driver that autosequences is run with that file, the records will be resequenced. Records can only be inserted using sys.dr_epedit(). Inserting records first causes all records following the place of insertion to be resequenced with as high a sequence as possible. So, the user does not need to specify how many records he wants to insert. When ending insert mode, 4C will resequence any records that need to be resequenced. No conversion is necessary on any files whose last primary key can be used as a sequence number. Also, not all drivers that use a sequenced file need to enable autosequencing. Any length sequence number can be used, except it MUST be an alpha storage type. 4C will left fill the sequence number with zero’s when it calculates it. When adding, right now you need to set the sequence number yourself, but later 4C will do it automatically. To set, use the Start Fld PCL and a statement like:\nseq = sys.fmt_integer(dr_sequence,\"9999\"); When the program driver characteristics allow a flag to specify DR_AUTOSEQ, the DR_NOAUTOSEQ option can be used in the Driver Init PCL to disable the autosequencing.\nThe DR_RENUMBER option is a flag that signals sys.dr_epedit() to allow the user to specify ‘r’ as a command. The renumber cmd allows the user to renumber all or part of the selected rcds and to specify the increment to use when renumbering. See the section on modifications for using the renumber command within sys.dr_epedit(). When this option is used, the DR_INTERLEAVE option cannot be used, or it will be ignored.\nWhen the program driver characteristics allow a flag to specify DR_RENUMBER, the DR_NORENUMBER option can be used in the Driver Init PCL to disable renumbering.","example#Example":"sys.set_droption(DR_INTERLEAVE); sys.set_droption(DR_AUTOSEQ); sys.set_droption(DR_AUTOSEQ|DR_RENUMBER);","purpose#Purpose":"sys.set_droption() allows for some runtime configuring of a driver.","returns#Returns":"0 - Normal\n-1 - No current driver, or not in DrInit State.","see-also#See Also":"sys.dr_epedit()","sysset_droption#sys.set_droption()":"","usage#Usage":"ret = sys.set_droption(options);","where-used#Where Used":"sys.set_droption() can only be called during the DR_INIT state."},"title":"sys.set_droption"},"/docs/systempcls/sys-set_ekey/":{"data":{"":"","arguments#Arguments":"asfile - - The asfile name of the file you are setting the end key pos for.\ninteger - The cdef of the fld you want to seek to.\ninteger - Either MATCH_FULL or MATCH_PARTIAL","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_ekey() sets the end position for sequential reading of a file. It is typically used along with sys.set_skey(), and sys.seek_key() before calling sys.read_file(...,F_SEQNEXT). Before calling sys.set_ekey() set values into the fields that need them.","example#Example":"See the demo.seekkey.1 demo program for an example.","purpose#Purpose":"sys.set_ekey() sets the end position for sequential reads.","returns#Returns":"0 - End Pos Set OK\n-1 - Some Error","see-also#See Also":"sys.set_skey() sys.seek_key() sys.read_file()","sysset_ekey#sys.set_ekey()":"","usage#Usage":"ret = sys.set_ekey(\u003casfile\u003e,\u003cfldcdef\u003e,\u003cmatchtype\u003e);","where-used#Where Used":"sys.set_ekey() will typically be called before reading a file sequentially."},"title":"sys.set_ekey"},"/docs/systempcls/sys-set_env/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"None","example#Example":"None","purpose#Purpose":"sys.set_env() is and alias for sys.put_env() and works exactly the same.","returns#Returns":"None","see-also#See Also":"sys.put_env()","sysset_env#sys.set_env()":"","usage#Usage":"None","where-used#Where Used":"None"},"title":"sys.set_env"},"/docs/systempcls/sys-set_eod/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_eod() sets the end of data flag for the current program. This causes 4C to stop asking for input, but it continues all field processing and end fld loop processing. It acts as if the user entered except that no fkey PCL is run.\nRequirements\nsys.set_eod() requires 4CServer Version 4.6.2 or higher.","example#Example":"None","purpose#Purpose":"sys.set_eod() sets the end of data flag for the current 4C program.","returns#Returns":"Always returns 0","see-also#See Also":"sys.stack_fkey()","sysset_eod#sys.set_eod()":"","usage#Usage":"sys.set_eod();","where-used#Where Used":"sys.set_eod() can be called from anytime that current program is in the input field processing loop."},"title":"sys.set_eod"},"/docs/systempcls/sys-set_extfname/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file to set the extname of.\nalpha - The new external name to use.","bugs--features--comments#Bugs / Features / Comments":"No checking to see if name is valid is done","description#Description":"sys.set_extfname() allows you to set the external name of a file. The external name can be any name valid in the fiel definition. This includes directory names, environment variables, and absolute path names. sys.set_extfname() closes the file if it is open to this program. The next rcd access will cause the file to be opened using the the new name. If there is a problem with the new name, it will show up when the file is re-opened. All other programs using the same file will continue with the same external name they were using before. The only programs that are affected by the new name besides the current program are programs that are started AFTER the sys.set_extfname() call AND share the file FULL.","example#Example":"None","purpose#Purpose":"sys.set_extfname() allows you to set the external file name of a file.","returns#Returns":"None","see-also#See Also":"sys.open_file() sys.ext_filename()","sysset_extfname#sys.set_extfname()":"","usage#Usage":"sys.set_extfname(\u003casfile\u003e,\u003cextfname\u003e);","where-used#Where Used":"sys.set_extfname() can be called from anywhere. However, it will probably be called before any rcd accesses are made."},"title":"sys.set_extfname"},"/docs/systempcls/sys-set_extfnopt/":{"data":{"":"","arguments#Arguments":"alpha - The name of the library. alpha - The name of the option. alpha - The value to set the option to.","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"There are several options that can be set on a 4C External Library. Setting these options only affects the current 4C program that is using the library. The options that can be set are:\nMessageLevel - The value for MessageLevel can be any of “0”,“1”,“2”,“3”,“4”,“5”,“6”,“7”, “8”, or “9”. When set to “0”, not messages from the library are automatically displayed. When set to “1”, only error messages from the library are displayed. When set to “2” or higher, all messages, error and informational, from the library are displayed.","example#Example":"sys.set_extfnopt(\"FCCom\",\"MessageLevel\",\"1\");","purpose#Purpose":"None","returns#Returns":"integer - 0 - OK\n\u003c 0 - Error","see-also#See Also":"sys.get_extfnopt() Sys PCLs List","sysset_extfnopt#sys.set_extfnopt()":"","usage#Usage":"ret = sys.set_extfnopt(\u003cextlibname\u003e,\u003coptname\u003e,\u003coptval\u003e);","where-used#Where Used":"sys.set_extfnopt() can be called from any 4C program that uses the library ."},"title":"sys.set_extfnopt"},"/docs/systempcls/sys-set_exttype/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file you are setting the external type of. alpha - A valid exttype for the current application. integer - An optional argument that can be combinations of EXTTYPE_FILE, EXTTYPE_PROGRAM, and EXTTYPE_ALL. When not specified EXTTYPE_FILE is the default.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Use sys.set_exttype() to change the External type of a 4C file. You may want to do this if you are copying data from one database to another. The optional flags mean\nEXTTYPE_FILE - set for single . All accesses to that file will use the specified external type. EXTTYPE_PROGRAM - All explicit SQL statements in the current program will use the specified external type. EXTTYPE_ALL - This will set the XLEXTTYPE env var to the specified type so that any explicit SQL statements in any program that do not override the external type use the specified external type. Any future file opens of external files with ExtType set to XLEXTTYPE will also be affected.","example#Example":"None","purpose#Purpose":"Changes the external type of the for the current program.","returns#Returns":"None - the type is always set. If the file is not an External type file, the ext type is ignored when accessing the file. If is not valid, you won’t find this out until the file is accessed.","see-also#See Also":"sys.get_exttype()","sysset_exttype#sys.set_exttype()":"","usage#Usage":"ret = sys.set_exttype(\u003casfile\u003e,\u003cexttype\u003e [, \u003cextflags\u003e]);","where-used#Where Used":"sys.set_exttype() can be called from anywhere."},"title":"sys.set_exttype"},"/docs/systempcls/sys-set_fkhelp/":{"data":{"":"","arguments#Arguments":"alpha - This can be “ON”, “OFF”, or “STATUS” Any other value is ignored and causes an error return.","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of Course this is subject to change.","description#Description":"sys.set_fkhelp() sets the value of the 4C environment variable XLFKHELPMSG. This env variable is used to control how function key help messages display automatically. If XLFKHELPMSG is set to “ON”, then 4C will display as much function key help messages as will fit on XLMSGLINE2. If set to “OFF”, then 4C does not display any function key help messages without the user explicitly requesting it. If set to “STATUS”, then 4C will display an appropriate message indicating how to get the function key help. This message will display for any input field that has any function keys enabled.","example#Example":"In the system program sys.help.set, the EndFld PCL for ok calls sethelp() which in turn calls sys.set_fkhelp() to set the user specified value for XLFKHELPMSG. The entire sethelp() PCL follows:\nsys.set_help(helpmsg); sys.set_fkhelp(fkhelp); sys.set_msgline1(msgl1); sys.set_msgline2(msgl2); sys.set_return(retsel);","purpose#Purpose":"sys.set_fkhelp() allows you to modify the 4C environment variable XLFKHELPMSG.","returns#Returns":"integer 0 - OK - XLFKHELPMSG set.\n-1 - Illegal Val.","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline1() sys.get_msgline2() sys.get_return() sys.set_help() sys.set_msgline1() sys.set_msgline2() sys.set_return()","sysset_fkhelp#sys.set_fkhelp()":"","usage#Usage":"ret = sys.set_fkhelp(\u003cfkhelp\u003e);","where-used#Where Used":"sys.set_fkhelp() can be called from anywhere. It is most likely used in system programs that allow the user to change their environment."},"title":"sys.set_fkhelp"},"/docs/systempcls/sys-set_help/":{"data":{"":"","arguments#Arguments":"alpha - This can be “ON” or “OFF” only. Any other value is ignored and causes an error return.","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of Course this is subject to change.","description#Description":"sys.set_help() sets the value of the 4C environment variable XLHELPMSG. This env variable is used to control whether help messages display automatically. If XLHELPMSG is set to “ON”, then 4C will display field help messages on XLMSGLINE1. If set to “OFF”, then 4C does not display any field help messages automatically.","example#Example":"In the system program sys.help.set, the EndFld PCL for ok calls sethelp() which in turn calls sys.set_help() to set the user specified value for XLHELPMSG. The entire sethelp() PCL follows:\nsys.set_help(helpmsg); sys.set_fkhelp(fkhelp); sys.set_msgline1(msgl1); sys.set_msgline2(msgl2); sys.set_return(retsel);","purpose#Purpose":"sys.set_help() allows you to modify the 4C environment variable XLHELPMSG.","returns#Returns":"integer 0 - OK - XLHELPMSG set.\n-1 - Illegal Val.","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline1() sys.get_msgline2() sys.get_return() sys.set_fkhelp() sys.set_msgline1() sys.set_msgline2() sys.set_return()","sysset_help#sys.set_help()":"","usage#Usage":"ret = sys.set_help(\u003chelpmsg\u003e);","where-used#Where Used":"sys.set_help() can be called from anywhere. It is most likely used in system programs that allow the user to change their environment."},"title":"sys.set_help"},"/docs/systempcls/sys-set_ldata/":{"data":{"":"","arguments#Arguments":"- an alpha var that was used in a previous call to sys.open_ldata()\n- can be one of:\nLD_DEFAULT - Using LD_DEFAULT, sys.set_ldata() will not return until the send data has been acknowledged or an error has been returned from the external process. LD_NOWAIT - Send the data but don’t wait for acknowledgement before returning. Using LD_NOWAIT is faster but your application will not know for sure if the data was accepted by the external process.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"Use sys.set_ldata() to send data to a non onetime LData connection. The data sent will be copied from the field specified in the sys.open_ldata() call.","example#Example":"None","purpose#Purpose":"sys.set_ldata() sends data to an open LData connection.","returns#Returns":"-1 = Failure and sys.errno will be set. Probably no open LData connection with name .\n0 - Success","see-also#See Also":"sys.open_ldata() sys.close_ldata() sys.get_ldata()","sysset_ldata#sys.set_ldata()":"","usage#Usage":"ret = sys.set_ldata(\u003cldname\u003e, \u003cflags\u003e);","where-used#Where Used":"sys.set_ldata() can be called from anywhere."},"title":"sys.set_ldata"},"/docs/systempcls/sys-set_mod/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"There is no corresponding sys.set_look() PCL.","description#Description":"sys.set_mod() is called when you want the default rcd access mode to be “Modify”. When called, 4C first checks to see if the XLMODETOGGLE var is set to ON. If it is and sys.mode is already “Modify”, 4C sets it back to “Lookup”. If it is anything else, then 4C sets sys.mode to “Modify”. Next, 4C checks to see if it is in a field processing state. If so, then the next field state is set to exit that field. This will only happen after all nested PCLs are exited normally. The next field to process will be sys.cur_field if no input was entered on that field. If input was entered, then the next field to process will be sys.cur_field + 1.\nsys.mode can be reset to “Lookup” by pressing the key, or if XLMODETOGGLE is “ON”, by calling sys.set_mod() again.\nThe main effect of calling sys.set_mod() is that the system variable sys.mode in ‘$syslocalf’ is set to “Modify”. This affects calls to sys.read_file() with the F_DEFAULT flag. Since sys.mode is in the local system file, this only affects the current program.\nCurrently, there are no other side effects of calling sys.set_mod() but I would advise not to call it except during field processing.","example#Example":"In the development program sys.prog.mstr, sys.set_mod() is called if the key is pressed on the sys.pr_name field.","purpose#Purpose":"sys.set_mod() sets or toggles “Modify” mode.","returns#Returns":"None","see-also#See Also":"sys.set_add() sys.set_del() sys.read_file()","sysset_mod#sys.set_mod()":"","usage#Usage":"sys.set_mod();","where-used#Where Used":"sys.set_mod() should only be called during field processing of input screens. sys.set_mod() is most often called from the key PCL processing."},"title":"sys.set_mod"},"/docs/systempcls/sys-set_msgline1/":{"data":{"":"","arguments#Arguments":"integer - The line number to display normal help messages on. If non-positive, this is assumed to be relative to last line of the screen.","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of Course this is subject to change.","description#Description":"sys.set_msgline1() sets the value of the 4C environment variable XLMSGLINE1. This env variable specifies the line number to display help messages. When \u003c= 0, 4C calculates the real line number relative to the last line of the screen. Thus, for a 25 line screen, a value of -2 set XLMSGLINE1 to 23.","example#Example":"In the system program sys.help.set, the EndFld PCL for ok calls sethelp() which in turn calls sys.set_msgline1() to set the user specified value for XLMSGLINE1. The entire sethelp() PCL follows:\nsys.set_help(helpmsg); sys.set_fkhelp(fkhelp); sys.set_msgline1(msgl1); sys.set_msgline2(msgl2); sys.set_return(retsel);","purpose#Purpose":"sys.set_msgline1() allows you to modify the 4C environment variable XLMSGLINE1.","returns#Returns":"None","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline1() sys.get_msgline2() sys.get_return() sys.set_fkhelp() sys.set_help() sys.set_msgline2() sys.set_return()","sysset_msgline1#sys.set_msgline1()":"","usage#Usage":"sys.set_msgline1(\u003cmsgline1\u003e);","where-used#Where Used":"sys.set_msgline1() can be called from anywhere. It is most likely used in system programs that allow the user to change their environment."},"title":"sys.set_msgline1"},"/docs/systempcls/sys-set_msgline2/":{"data":{"":"","arguments#Arguments":"integer - The line number to display fkey help messages on. If non-positive, this is assumed to be relative to last line of the screen.","bugs--features--comments#Bugs / Features / Comments":"The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of Course this is subject to change.","description#Description":"sys.set_msgline2() sets the value of the 4C environment variable XLMSGLINE2. This env variable specifies the line number to display fkey help messages. When \u003c= 0, 4C calculates the real line number relative to the last line of the screen. Thus, for a 25 line screen, a value of -2 set XLMSGLINE2 to 23.","example#Example":"In the system program sys.help.set, the EndFld PCL for ok calls sethelp() which in turn calls sys.set_msgline2() to set the user specified value for XLMSGLINE2. The entire sethelp() PCL follows:\nsys.set_help(helpmsg); sys.set_fkhelp(fkhelp); sys.set_msgline1(msgl1); sys.set_msgline2(msgl2); sys.set_return(retsel);","purpose#Purpose":"sys.set_msgline2() allows you to modify the 4C environment variable XLMSGLINE2.","returns#Returns":"None","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline1() sys.get_msgline2() sys.get_return() sys.set_fkhelp() sys.set_help() sys.set_msgline1() sys.set_return()","sysset_msgline2#sys.set_msgline2()":"","usage#Usage":"sys.set_msgline2(\u003cmsgline2\u003e);","where-used#Where Used":"sys.set_msgline2() can be called from anywhere. It is most likely used in system programs that allow the user to change their environment."},"title":"sys.set_msgline2"},"/docs/systempcls/sys-set_pagenum/":{"data":{"":"","arguments#Arguments":"integer - The new pagenumber to set for the current output device.","bugs--features--comments#Bugs / Features / Comments":"No checks for ridiculous numbers (i.e. negative) are done.","description#Description":"sys.set_pagenum() changes the internal variable for the current page number of the current output device. This only affects the return of the system PCL sys.get_pagenum(). Internally, another variable is kept that maintains the absolute page number. This means that sys.get_linediff() and sys.get_pagediff() work even after a call to sys.set_pagenum(). Both of those PCLs rely on the internal absolute page number variable.","example#Example":"None","purpose#Purpose":"sys.set_pagenum() allows you to modify the internal 4C page number variable.","returns#Returns":"integer 0 - OK\n-1 - Current program has no current output device.","see-also#See Also":"sys.page() sys.get_pagenum()","sysset_pagenum#sys.set_pagenum()":"","usage#Usage":"ret = sys.set_pagenum(\u003cnewpagenum\u003e);","where-used#Where Used":"sys.set_pagenum() can be called from anywhere. It makes most sense to call it in report programs after a sys.page() call and before the printing of any headers, especially those that may print the page number."},"title":"sys.set_pagenum"},"/docs/systempcls/sys-set_pnlcolor/":{"data":{"":"","arguments#Arguments":"integer - Use the C Define for the panel for this arg.\nalpha - alpha var in “rrr:ggg:bbb” format.","bugs--features--comments#Bugs / Features / Comments":"sys.set_pnlcolor() always sends a message to the client. There is no check to see if the panel bg color is already the same as it is being set to.","description#Description":"sys.set_pnlcolor() allows the application to change the background color of a panel at runtime. If the value of is “Default”, the panel background will be set to the default background color for that panel. Otherwise the panel background will be set to the color corresponding to .","example#Example":"ret = sys.set_pnlcolor(PNL_MAIN,\"173:216:230\");","purpose#Purpose":"sys.set_pnlcolor() changes the background color of a panel.","returns#Returns":"0 - OK - Message sent to client to change the background color\n-1 - Error, one of:\nClient version earlier than 4.4.4 Current program doesnt have a window. Invalid","see-also#See Also":"sys.set_pnlimage()","sysset_pnlcolor#sys.set_pnlcolor()":"","usage#Usage":"ret = sys.set_pnlcolor(\u003cpnlcdef\u003e,\u003crgbval\u003e);","where-used#Where Used":"sys.set_pnlcolor() can be called for any Panel Class program from any PCL except the InitPCL and the ExitPCL."},"title":"sys.set_pnlcolor"},"/docs/systempcls/sys-set_pnlimage/":{"data":{"":"","arguments#Arguments":"integer - The CDefine for the panel.\nalpha - The path to the image. This can be either a full pathname on the server, a relative pathname from the FC_IMAGE directory on the server, or a url.","bugs--features--comments#Bugs / Features / Comments":"Any program that uses sys.set_pnlimage() should always initialize any of the images that may change in the “Open” pcl to the default image that you want displayed. Otherwise that last image set may be displayed the next time the program is run if the layout is still running.","description#Description":"sys.set_pnlimage() changes the background image of a 4C panel. The panel must have image info associated with it at compile time. Other than the path, this image info can not change during run time.","example#Example":"See the demo.image.5 and demo.tile.1 demo programs for examples of using sys.set_pnlimage().","purpose#Purpose":"sys.set_pnlimage() changes the background image of a panel.","returns#Returns":"integer 0 - OK\n\u003c 0 - Invalid , or cur program is not a screen program","see-also#See Also":"sys.set_pnlcolor()","sysset_pnlimage#sys.set_pnlimage()":"","usage#Usage":"ret = sys.set_pnlimage(\u003cpnlcdef\u003e,\u003cimagepath\u003e);","where-used#Where Used":"sys.set_pnlimage() can be called from any screen program that is open. You can not call sys.set_pnlimage() in the InitPCL."},"title":"sys.set_pnlimage"},"/docs/systempcls/sys-set_pnltitle/":{"data":{"":"","arguments#Arguments":"integer - The CDEF for the Panel.\nalpha \u003c/code\u003e - Text of the new title.","bugs--features--comments#Bugs / Features / Comments":"The panel must have been originally defined to have a title.","description#Description":"sys.set_pnltitle() changes the title for a single panel in a panel program.","example#Example":"None","purpose#Purpose":"sys.set_pnltitle() modifies the title of a panel in a panel program.","returns#Returns":"0 - OK\n-1 - Not a panel program or panel does not exist.","see-also#See Also":"sys.set_pnltitle()","sysset_pnltitle#sys.set_pnltitle()":"","usage#Usage":"ret = sys.set_pnltitle(\u003cpnlcdef\u003e,\u003ctitle\u003e);","where-used#Where Used":"sys.set_pnltitle() can be called from anywhere inside of a panel program except in the InitPCL."},"title":"sys.set_pnltitle"},"/docs/systempcls/sys-set_prcolor/":{"data":{"":"","arguments#Arguments":"- alpha var in “rrr:ggg:bbb” format If is “”, it will not be changed. If it is “Default”, it will change to the programs default foreground. - alpha var in “rrr:ggg:bbb” format If is “”, it will not be changed. If it is “Default”, it will change to the programs default background.","bugs--features--comments#Bugs / Features / Comments":"sys.set_prcolor() is only implemented for scrolling programs.","description#Description":"sys.set_prcolor() allows a program to dynamically change the background and foreground color of a program. This can be useful if it cannot be known at layout compile time.","example#Example":"None","purpose#Purpose":"sys.set_prcolor() allows a program to dynamically change the background and foreground color of a program.","returns#Returns":"The only value returned currently is 0.","see-also#See Also":"sys.set_dfcolor() sys.set_dricolor()","sysset_prcolor#sys.set_prcolor()":"","usage#Usage":"ret = sys.set_prcolor(\u003cfgrgbval\u003e,\u003cbgrgbval\u003e);","where-used#Where Used":"sys.set_prcolor() can be called from anywhere but probably should be called from either the Init PCL or the DrInit PCL."},"title":"sys.set_prcolor"},"/docs/systempcls/sys-set_return/":{"data":{"":"","arguments#Arguments":"alpha - Should be “SELECT” or “NOSELECT”","bugs--features--comments#Bugs / Features / Comments":"No errors returned for illegal val. If not set to “SELECT”, “NOSELECT” is assumed. The values stored in the 4C Environment variables may be different than those at the shell. Calls to sys.set_help() etc do not modify the shell’s environment, only 4C’s internal copy. Even shells started from 4C will not share the same environment if the 4C environment has changed during running. Of Course this is subject to change.","description#Description":"sys.set_return() sets the value of the 4C environment variable XLRETURN. This env variable is used to control how a select screen acts when a is typed. If set to “SELECT”, then a select screen will treat the key like accept. Otherwise, it will not.","example#Example":"In the system program sys.help.set, the EndFld PCL for ok calls sethelp() which in turn calls sys.set_return() to set the user specified value for XLRETURN. The entire sethelp() PCL follows:\nsys.set_help(helpmsg); sys.set_fkhelp(fkhelp); sys.set_msgline1(msgl1); sys.set_msgline2(msgl2); sys.set_return(retsel);","purpose#Purpose":"sys.set_return() allows you to change the 4C environment variable XLRETURN.","returns#Returns":"None","see-also#See Also":"sys.get_fkhelp() sys.get_help() sys.get_msgline1() sys.get_msgline2() sys.get_return() sys.set_fkhelp() sys.set_help() sys.set_msgline1() sys.set_msgline2()","sysset_return#sys.set_return()":"","usage#Usage":"sys.set_return(\u003cretsel\u003e);","where-used#Where Used":"sys.set_return() can be called from anywhere. It is most likely used in system programs that may allow the user to change the environment."},"title":"sys.set_return"},"/docs/systempcls/sys-set_skey/":{"data":{"":"","arguments#Arguments":"asfile - - The asfile name of the file you are setting the start key pos for.\ninteger - The cdef of the fld you want to seek to.\ninteger - Either MATCH_FULL or MATCH_PARTIAL","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_skey() sets the starting position for sequential reading of a file. It is typically used along with sys.set_ekey(), and sys.seek_key() before calling sys.read_file(...,F_SEQNEXT). Before calling sys.set_skey() set values into the fields that need them.","example#Example":"See the demo.seekkey.1 demo program for an example.","purpose#Purpose":"sys.set_skey() sets the start position for sequential reads.","returns#Returns":"0 - Start Pos Set OK\n-1 - Some Error","see-also#See Also":"sys.set_ekey() sys.seek_key() sys.read_file()","sysset_skey#sys.set_skey()":"","usage#Usage":"ret = sys.set_skey(\u003casfile\u003e,\u003cfldcdef\u003e,\u003cmatchtype\u003e);","where-used#Where Used":"sys.set_skey() will typically be called before reading a file sequentially."},"title":"sys.set_skey"},"/docs/systempcls/sys-set_sortdf/":{"data":{"":"","arguments#Arguments":"integer - The CDEF for the display field.\ninteger - Either SORT_NORMAL or SORT_REVERSE","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_sortdf() sets a bitmap on the column label of a listview column to indicate that the list is sorted on that field in either ascending or descending order.","example#Example":"The bootstrap program sys.df.fm.pnl uses sys.set_sortdf().","purpose#Purpose":"sys.set_sortdf() sets a bitmap on the column label of a listview column to indicate that the list is sorted on that field in either ascending or descending order.","returns#Returns":"-1 - Not a scrolling program or no such dfldidx.","see-also#See Also":"sys.set_sortdf()","sysset_sortdf#sys.set_sortdf()":"","usage#Usage":"ret = sys.set_sortdf(\u003cdfldcdef\u003e,\u003csortflag\u003e);","where-used#Where Used":"sys.set_sortdf() will normally be called from the DrInit PCL of a scrolling panel program with a listview panel."},"title":"sys.set_sortdf"},"/docs/systempcls/sys-set_spcalt/":{"data":{"":"","arguments#Arguments":"alpha - The name of the spc to set the alt sequence for. This will be a key to the file sys.spc_char.\nalpha - The new alt sequence that this spc has. Characters preceded by a ‘\\ or a ‘^’ are treated as control characters and are converted first.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_spcalt() changes the alternate escape sequence that 4C is expecting for a particular function key, such as the key.","example#Example":"The sys.spc.set program has the following code in the elp() PCL.\nif (spcalt) sys.set_spcalt(sys.spc_name,spcalt);","purpose#Purpose":"sys.set_spcalt() allows a program to change the alternate escape sequence that 4C expects for a function key.","returns#Returns":"integer 0 - OK\n-1 - Probably an illegal","see-also#See Also":"sys.set_spcstr() sys.set_spclabel() sys.get_spcstr() sys.get_spclabel() sys.get_spcalt()","sysset_spcalt#sys.set_spcalt()":"","usage#Usage":"ret = sys.set_spcalt(\u003cspcname\u003e,\u003cvalue\u003e);","where-used#Where Used":"sys.set_spcalt() can be called from anywhere. It normally would be called from a program that remaps the function keys to a particular users liking."},"title":"sys.set_spcalt"},"/docs/systempcls/sys-set_spclabel/":{"data":{"":"","arguments#Arguments":"alpha - The name of the spc to set the label for. This will be a key to the file sys.spc_char.\nalpha - The new label that this spc has.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_spclabel() changes the label that 4C associates with a particular function key, such as the key.","example#Example":"The sys.spc.ex1 program has the following code in the elp() PCL.\nif (spcstring[12]) { sys.set_spcstr(\"user13\",spcstring[12]); sys.set_spclabel(\"user13\",\"F11\"); }","purpose#Purpose":"sys.set_spclabel() allows a program to change the value of a function key label at run time.","returns#Returns":"integer 0 - OK\n-1 - Probably an illegal","see-also#See Also":"sys.set_spcstr() sys.set_spclabel() sys.set_spcalt() sys.get_spcstr() sys.get_spclabel() sys.get_spcalt()","sysset_spclabel#sys.set_spclabel()":"","usage#Usage":"ret = sys.set_spclabel(\u003cspcname\u003e,\u003clabel\u003e);","where-used#Where Used":"sys.set_spclabel() can be called from anywhere. It normally would be called from a program that remaps the function keys to a particular users liking."},"title":"sys.set_spclabel"},"/docs/systempcls/sys-set_spcstr/":{"data":{"":"","arguments#Arguments":"alpha - The name of the spc to set. This will be a key to the file sys.spc_char.\nalpha - The new value that this spc has. Characters preceded by a ‘\\ or a ‘^’ are treated as control characters and are converted first.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_spcstr() changes the escape sequence that 4C is expecting for a particular function key, such as the key.","example#Example":"The sys.spc.ex1 program has the following code in the elp() PCL.\nif (spcstring[12]) { sys.set_spcstr(\"user13\",spcstring[12]); sys.set_spclabel(\"user13\",\"F11\"); }","purpose#Purpose":"sys.set_spcstr() allows a program to change the value of a function key at run time.","returns#Returns":"integer 0 - OK\n-1 - Probably an illegal","see-also#See Also":"sys.set_spcstr() sys.set_spclabel() sys.set_spcalt() sys.get_spcstr() sys.get_spclabel() sys.get_spcalt()","sysset_spcstr#sys.set_spcstr()":"","usage#Usage":"ret = sys.set_spcstr(,);","where-used#Where Used":"sys.set_spcstr() can be called from anywhere. It normally would be called from a program that remaps the function keys to a particular users liking."},"title":"sys.set_spcstr"},"/docs/systempcls/sys-set_timeout/":{"data":{"":"","arguments#Arguments":"TIMEOUT_TYPE must be one of:\nTO_SVGLOBAL - Server Session Timeout. TO_SVPROGRAM - Server Program Timeout TO_CLGLOBAL - Client Session Timeout TO_CLPROGRAM - Client Program Timeout. integer is the number of seconds to wait for user input before the timeout is triggered.\nalpha is an optional argument specifying program name and arguments separated by colons. The timeoutprog will be called when the timeout is triggered.","bugs--features--comments#Bugs / Features / Comments":"TIMEOUT_GLOBAL can be used interchangeably with TO_SVGLOBAL and TIMEOUT_PROGRAM can be used interchangeably with TO_SVPROGRAM. Newer programs should use TO_SVGLOBAL and TO_SVPROGRAM. If a program is used to catch a timeout, it may be necessary to disable further timeouts until the program exits.","description#Description":"sys.set_timeout() allows setting of a server program and session timeouts as well as client program and session timeouts dynamically. For a server session timeout, if no timeout prog is specified, then the 4csrvr will exit after killing all 4c programs. For client session timeout, if no timeout prog is specified, the 4C client will exit, but the 4csrvr will not immediately exit. For a server program or a client program timeout, if no timeout program is specified, the program will exit with a -4 code when the timeout is reached. To disable a timeout, use a timeoutval of 0.","example#Example":"The demo programs that catch timeouts have examples. See:\ndemo.main.s locksreen.s","purpose#Purpose":"sys.set_timeout() sets either a program or session timeout.","returns#Returns":"There is no return value for this SysPcl.","see-also#See Also":"sys.set_alarm() sys.get_timeoutp() sys.get_timeoutv() sys.lock_clientws() sys.exit_client() sys.exit_4c()","sysset_timeout#sys.set_timeout()":"","usage#Usage":"sys.set_timeout(TIMEOUT_TYPE,\u003ctimeoutval\u003e,[\u003ctimeoutprog\u003e]);","where-used#Where Used":"sys.set_timeout() can be called from anywhere. More than likely though, it will be called from the InitPCL of a program that needs to set timeouts."},"title":"sys.set_timeout"},"/docs/systempcls/sys-set_winlabel/":{"data":{"":"","arguments#Arguments":"integer - - wlflags can be any combination of WL_TABC, WL_MENU, and WL_OVERRIDE.\nalpha - - The new value for either the Window menu label or the TabContainer tab.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.set_winlabel() lets the application change the label that appears either on the Window menu or on the TabContainer tab for the current 4C group. The WL_OVERRIDE flag allows you to override an earlier call to sys.set_winlabel.","example#Example":"Run sys.menu.tv to see working examples.","purpose#Purpose":"sys.set_winlabel() lets the application change the label that appears either on the Window menu or on the TabContainer tab for the current 4C group.","returns#Returns":"0 - OK\n-1 - Error.","see-also#See Also":"sys.sl_settab()","sysset_winlabel#sys.set_winlabel()":"","usage#Usage":"ret = sys.set_winlabel(\u003cwlflags\u003e,\u003clabel\u003e);","where-used#Where Used":"sys.set_winlabel() can be called anytime."},"title":"sys.set_winlabel"},"/docs/systempcls/sys-share_field/":{"data":{"":"","arguments#Arguments":"- Any field in the program\n- Any field in the program\nNote: and are passed by name, not by cdefine or by dpy field label. Any data type is allowed, but they both must be compatible to allow sharing.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.share_field() allows you to set up field sharing at run time for fields within the same program. If you know ahead of time which fields will be shared, it is better to use the local field sharing definition. However, if it is not known until run time which fields will be shared, then this PCL can be used. This PCL always causes Full Sharing.","example#Example":"None","purpose#Purpose":"sys.share_field() allow you to set up sharing of fields at run time.","returns#Returns":"0 - OK\n-1 - Field Data Types not compatible for sharing","see-also#See Also":"sys.unshare_field()","sysshare_field#sys.share_field()":"","usage#Usage":"ret = sys.share_field(\u003cfield1\u003e,\u003cfield2\u003e);","where-used#Where Used":"sys.share_field() can be called from anywhere. However, since fields cannot be unshared, it is most useful in the Init PCL."},"title":"sys.share_field"},"/docs/systempcls/sys-show_dfield/":{"data":{"":"","arguments#Arguments":"integer - unique display field id.\ninteger - Combinations of SF_SHOW, SF_HIDE, SF_ENABLE, SF_DISABLE, SF_IGNORE, SF_NOIGNORE, SF_NOSHOWPARENT","bugs--features--comments#Bugs / Features / Comments":"If sys.show_dfield() is called in the SFldPCL for a display field, it may be necessary to specify SF_NOIGNORE with SF_DISABLE or SF_HIDE. Otherwise, the same SFldPCL cannot be used to enable/show the DField because it won’t ever be executed until the dfield has been enabled/shown.","description#Description":"sys.show_dfield() is used to show, hide, enable, or disable a single display field. The way sys.show_dfield() works depends on which showflags are specified.\nSF_SHOW - Make the specified display field visible. Unless SF_NOSHOWPARENT is specified, then all containing panels will be made visible as well. SF_HIDE - Hide the specified display field. SF_ENABLE - Enable the specified display field as well as all containing panels. SF_DISABLE - Disable the display field. SF_IGNORE - When specified with either SF_DISABLE or SF_HIDE, the display field will be ignored during the display field processing loop. Since this is the default behaviour for both SF_DISABLE and SF_HIDE, it is not necessary to specify SF_IGNORE. SF_NOIGNORE - When specified with either SF_DISABLE or SF_HIDE, the display field will be processed normally during the display field processing loop. SF_NOSHOWPARENT - Don’t immediately show containing panels. This is useful when the dfield is embedded within a Panel tabfolder and you do not want to immediately show the tab.","example#Example":"See the demo.hrc.2 demo program for examples.","purpose#Purpose":"sys.show_dfield() is used to show, hide, enable, or disable a display field.","returns#Returns":"integer 0 - OK\n-1 - Not a screen program, invalid dflabel, or client version not up to date.","see-also#See Also":"sys.show_panel() sys.show_fkey()","sysshow_dfield#sys.show_dfield()":"","usage#Usage":"ret = sys.show_dfield(\u003cdflabel\u003e,\u003cshowflags\u003e);","where-used#Where Used":"sys.show_dfield() can be called from any PCL in a Screen program except the InitPCL, EndPCL, and ExitPCL."},"title":"sys.show_dfield"},"/docs/systempcls/sys-show_fkey/":{"data":{"":"","arguments#Arguments":"alpha - The name of the function key. integer - Combinations of SF_SHOW, SF_HIDE, SF_ENABLE, SF_DISABLE","bugs--features--comments#Bugs / Features / Comments":"Even when SF_HIDE is specified, menu buttons will still appear, but in the disabled state.","description#Description":"sys.show_fkey() is used to show, hide, enable, or disable items dependant on a single function key for the current program only. Items that are dependant on function keys include action area buttons and menu buttons. At the same time, sys.show_fkey() either enables or disables processing of the function key. When a function key is either hidden or disabled, processing of the function key is disabled. When the processing of the function key is disabled, if the user presses the specified key, 4C will beep and ignore the function key. The way sys.show_fkey() works depends on which showflags are specified.\nSF_SHOW - Make items dependant on the specified function key visible. SF_HIDE - Make items dependant on the specified function key invisible, and disables processing of the function key. SF_ENABLE - Make items dependant on the specified function key enabled. SF_DISABLE - Disables items dependant on the specified function key, and disables processing of the function key.","example#Example":"See the demo.hrc.2 demo program for an example.","purpose#Purpose":"sys.show_fkey() is used to show, hide, enable, or disable items associated with a function key.","returns#Returns":"integer 0 - OK -1 - Invalid","see-also#See Also":"sys.show_panel() sys.show_dfield()","sysshow_fkey#sys.show_fkey()":"","usage#Usage":"ret = sys.show_fkey(\u003cfkeyname\u003e,\u003cshowflags\u003e);","where-used#Where Used":"sys.show_fkey() can be called from any PCL in a Screen program except the InitPCL, EndPCL, and ExitPCL."},"title":"sys.show_fkey"},"/docs/systempcls/sys-show_panel/":{"data":{"":"","arguments#Arguments":"integer - the cdef of the panel.\ninteger - Combinations of SF_SHOW, SF_HIDE, SF_ENABLE, SF_DISABLE, SF_IGNORE, SF_NOIGNORE, SF_NOSHOWPARENT","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.show_panel() is used to show, hide, enable, or disable a panel. The way sys.show_panel() works depends on which showflags are specified.\nSF_SHOW - Make the specified panel visible. Unless SF_NOSHOWPARENT is specified, then all containing panels will be made visible as well. Any child panel or display field that was implicitly hidden due to the specified panel being hidden will also be made visible. Any subpanel or dfield that was explicitly hidden will not be made visible. SF_HIDE - Hide the specified panel. Any subpanels of the panel as well as all contained dfields will be implicitly hidden. Hiding a child of a TabFolder will remove the corresponding label from the TabFolder. The label will be added back to the TabFolder when the child panel is unhidden programmatically. SF_ENABLE - Enable the specified panel as well as all containing panels. Any child panel or display field that was implicitly disabled due to the specified panel being disabled will also be enabled. Any subpanel or dfield that was explicitly disabled will not be enabled. SF_DISABLE - Disable the panel. Any subpanels of the panel as well as all contained dfields will be implicitly disabled. Disabling a child of a TabFolder will disable the label for that panel and you will not be able to raise that panel until it has been enabled. SF_IGNORE - When specified with either SF_DISABLE or SF_HIDE, all contained dfields will be ignored during the display field processing loop. Since this is the default behaviour for both SF_DISABLE and SF_HIDE, it is not necessary to specify SF_IGNORE. SF_NOIGNORE - When specified with either SF_DISABLE or SF_HIDE, contained dfields will be processed normally during the display field processing loop. SF_NOSHOWPARENT - Don’t immediately show containing panels. This is useful when the Panel is embedded within a Panel tabfolder and you do not want to immediately show the tab. In the case of tabfolder or overlay sub panels, making one sub panel visible will result in making any sibling sub panels invisible. Hiding a panel will not automatically make any other panels visible.","example#Example":"See the demo.hrc.2, demo.ovly.2, demo.ovly.3, and demo.tabf.3 demo programs for examples. An example of using sys.show_panel() with the SF_NOSHOWPARENT flag is in the bootstrap program sys.df.fm.pnl.","purpose#Purpose":"sys.show_panel() is used to show, hide, enable, or disable a panel.","returns#Returns":"integer 0 - OK\n-1 - Not a screen program, invalid pnlcdef, or client version not up to date.","see-also#See Also":"sys.show_dfield() sys.show_fkey()","sysshow_panel#sys.show_panel()":"","usage#Usage":"ret = sys.show_panel(\u003cpnlcdef\u003e,\u003cshowflags\u003e);","where-used#Where Used":"sys.show_panel() can be called from any PCL in a Panel program except the InitPCL, EndPCL, and ExitPCL."},"title":"sys.show_panel"},"/docs/systempcls/sys-skip/":{"data":{"":"","arguments#Arguments":"integer nlines;\nnlines is the number of lines that you want to skip.","bugs--features--comments#Bugs / Features / Comments":"If used in scrolling screens, sys.skip() is unpredictable. If used in the Program DrProc PCL and this causes a Page Break, then the DrProc PCL will execute again with the same rcd.","description#Description":"sys.skip() is used mainly by scrolling programs to skip over nested programs. It can, however, be used by programs that do not print anything. If used this way, programs that are called by the non-printing program probably use sys.get_linenum() to set $row_ofst or sys.page_ofst.\nIf nlines is great enough to pass the physical end of page for the current device, then it acts EXACTLY like a call to sys.page(). Likewise, if it is great enough to pass the logical end of page for a scrolling program then it will also act EXACTLY like sys.page(). In these cases ALL cautions that pertain to sys.page() also pertain to sys.skip().\nWhen used by programs that do not print, all sys.skip() does is update the current line number for the current device. The current linenumber is updated based on the position of the last printed item by any program using that device, not necessarily the highest line number used by that device.\nWhen sys.page() is called from a program that does print, then the current linenumber is updated based on the last item to print for the current program.\nWhen called from a scrolling program, after updating the current line number for the current device, 4C updates the remaining lines of the current page with their new positions. Only lines that have not yet printed are updated. This may change the number of records that 4C can actually print on a logical page for the scrolling program. Of course, if it changes it, it will change it to a smaller number.","example#Example":"if (sys.get_linediff()) sys.skip(sys.get_linediff() + 1);","purpose#Purpose":"sys.skip() skips nlines for the current program and updates the current line number counter for the current device.","returns#Returns":"0 Normal return\n-1 Error - nskips \u003c= 0 - And NO action is taken.\nFor this PCL, the return code is not really very useful, but it is there.","see-also#See Also":"sys.page() sys.end_page() sys.exit_page() sys.page_isfull() sys.get_pagediff() sys.get_linediff()","sysskip#sys.skip()":"","usage#Usage":"retcode = sys.skip(nlines); or\nsys.skip(nlines);","where-used#Where Used":"sys.skip() is usually used with Control Break PCLS."},"title":"sys.skip"},"/docs/systempcls/sys-sl_settab/":{"data":{"":"","arguments#Arguments":"alpha - - The name of the layout that has that TabFolder. This is the name of the top level layout, not a sublayout. If you specify \"\" as the layout name, then the current layout is assumed. alpha - - This is the label specified in the specs for this TabFolder item. Use the same itemname even if you change the label on the tab. integer - - slflags can be any combination of SL_HIDE, SL_SHOW, SL_DISABLE, SL_ENABLE, SL_SHOW, SL_LABEL alpha - - Optional new label to use for the TabFolder item.","bugs--features--comments#Bugs / Features / Comments":"There is currently no way to distinguish between items on multiple TabFolders in the same layout that use the same label.","description#Description":"Use sys.sl_settab() to dynamically change the appearance of TabFolder items in a screen layout. If you specify SL_HIDE, then the tab item will be invisible until some other call specifies SL_SHOW. If you specify SL_DISABLE, then the Tab will be grayed out and the user will not be able to select that tab until another call specifies SL_ENABLE. You can change the text on the tab by specifying SL_LABEL, . The text should not be any longer than the original label or it may be truncated. It is possible to hide or disable a tab that is currently in use. It is also possible for the application to start a program that may be hidden because the tab is hidden. It is the application’s responsibility to deal with these possibilities.","example#Example":"The sys.prog.mstr bootstrap program dynamically changes the DpyFields item of the TabFolder in the sys.prog.mstr.sl1 layout. Notice that the sys.df.maint1 program exits from the the InitPCL if the program is either an Update or a TreeView program.","purpose#Purpose":"None","returns#Returns":"0 - OK -1 - Error.","see-also#See Also":"sys.set_winlabel()","syssl_settab#sys.sl_settab()":"","usage#Usage":"ret = sys.sl_settab(\u003clayoutname\u003e,\u003citemname\u003e,\u003csltype\u003e[,\u003clabel\u003e]);","where-used#Where Used":"sys.sl_settab() can be called anytime after a screen layout has been displayed. Don’t call it from the InitPCL of the first program that starts the layout."},"title":"sys.sl_settab"},"/docs/systempcls/sys-sort_by/":{"data":{"":"","arguments#Arguments":"asfile - The asfile name of the file containing the field to use in the sort.\ninteger - The CDefine of the field in to sort by.\ninteger - Either SORT_NORMAL or SORT_REVERSE.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.sort_by() causes driver rcds to be sorted by the field specified in the sys.sort_by() statement. Multiple sys.sort_by statements can be used to sort by more than one field. The first sys.sort_by() statement specified has highest priority. If the field to sort by is not in the driver file, then it must be set in the DrSel PCL, possibly by reading another file.","example#Example":"The following code is from the drinit() PCL in the an.call.de.sel program in the tutorial application.\nsys.sort_by(call_hdr,CH_DATE,SORT_REVERSE); sys.sort_by(call_hdr,CH_TIME,SORT_REVERSE);","purpose#Purpose":"sys.sort_by() allows you to specify the order that driver rcds are sorted in.","returns#Returns":"integer 0 - OK\n-1 - No current driver, or current driver not in DRINIT state.","see-also#See Also":"sys.dr_init() sys.dr_include()","syssort_by#sys.sort_by()":"","usage#Usage":"ret = sys.sort_by(\u003casfile\u003e,\u003cfldcdef\u003e,\u003csorttype\u003e);","where-used#Where Used":"sys.sort_by() can be called ONLY from the DrInit PCL. It always applies to the current driver. It makes no difference where during the DrInit PCL that sys.sort_by() is called."},"title":"sys.sort_by"},"/docs/systempcls/sys-spc_code/":{"data":{"":"","arguments#Arguments":"alpha - The 4C name for the function key. (i.e. “add”, “search”, “user1”, “user2”, etc.)","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"This PCL is really a kludge to make up for the fact that some system PCLs, particularly sys.get_answer(), used to not deal with function keys. There really is very little use for this anymore. Check sys_ret after calling sys.get_answer() instead.","example#Example":"None","purpose#Purpose":"sys.spc_code() returns the internal code associated with a 4C function key.","returns#Returns":"integer \u003e= 0 - The internal code\n\u003c 0 - Error - probably no such key","see-also#See Also":"sys.get_answer()","sysspc_code#sys.spc_code()":"","usage#Usage":"spccode = sys.spc_code(\u003cfkeyname\u003e);","where-used#Where Used":"sys.spc_code() can be called from anywhere."},"title":"sys.spc_code"},"/docs/systempcls/sys-split_string/":{"data":{"":"","arguments#Arguments":"integer - Either SP_DEFAULT or any combination of\nSP_NOQUOTE - Treat single or double quotes as normal characters SP_NOSTRIP - Do not strip out empty values. This is important when position in the string is important. SP_PRESERVEQUOTE - Preserve outer single or double quotes. Only meaningful when SP_NOQUOTE is not specified. alpha - The string to split.\nalpha - This should be the first member of a dimensioned var.\nalpha - A string made up of the characters you want to use to determine where to split the string.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.split_string() splits a string into one or more strings and stores the resulting strings in a dimensioned variable. The splitting occurs at any character that matches one of the characters in . The character matched is not saved. By default single and double quotes are special and any delimiters inside of a quoted part of the string do not cause the string to split. To avoid this special treatment of single and double quotes, specify SP_NOQUOTE in . Quotes act kind of odd when they are at the start of a split word. Unless SP_PRESERVEQUOTE is specified, quotes at the start of a split are stripped and the ending quote is stripped also and it also acts like a delimiter. Empty values are stripped out by default. To avoid this and have empty strings returned in the avarray specify SP_NOSTRIP in .","example#Example":"n = sys.split_string(SP_DEFAULT,\"abc,def,xyz\",avar[0],\",\"); Assuming avar has a dimension of 10, this call will set n to 3, avar[0] to “abc”, avar[1] to “def”, and avar[2] to “xyz”. avar[3] - avar[9] will each be set to “”.","purpose#Purpose":"sys.split_string() splits a string variable into multiple vars.","returns#Returns":"integer - The number of strings stored in","see-also#See Also":"SP_DEFAULT() SP_NOQUOTE() SP_NOSTRIP() SP_PRESERVEQUOTE()","syssplit_string#sys.split_string()":"","usage#Usage":"count = sys.split_string(\u003cspflags\u003e,\u003cstring\u003e,\u003cavararray\u003e,\u003cdelimstr\u003e);","where-used#Where Used":"sys.split_string() can be called from anywhere."},"title":"sys.split_string"},"/docs/systempcls/sys-stack_fkey/":{"data":{"":"","arguments#Arguments":"fkey1 - fkey16 - Up to 16 alpha args\nEach arg should be a valid name from the sys.spc_char file.\n(i.e. “cancel”,“accept”,“user1”, “user2”, etc.)\nfkey1 is mandatory and fkey2 through fkey16 are optional.","bugs--features--comments#Bugs / Features / Comments":"There is no error return, a bad key name is just ignored.","description#Description":"sys.stack_fkey() allows a program to stack function keys as input. It is similar to sys.stack_input(), but only valid function key names can be used, and no is automatically generated by 4C. A stacked function key acts as if the user entered that key. The 4C function key help programs (sys.spchelp and sys.spcshelp) use this feature when you hit the accept key, or any of the displayed keys. This is not really a stack, it is a FirstIn FirstOut list. So successive stack fkey calls are added to the end of the list rather than the head of the list. The arguments passed to sys.stack_fkey() are also processed in the same order. This can be used when you want to try to anticipate a users response and save keystrokes. Calls to sys.stack_fkey() and sys.stack_input() can be intermixed with predictable results.","example#Example":"The following could be used by a scrolling program if it wanted to automatically set add mode if there were no records displayed.\nif (sys.dr_count() == 0) sys.stack_fkey(\"add\");","purpose#Purpose":"sys.stack_fkey() stacks function keys so that the program acts as if the user entered those keys in the same order that they were stacked.","returns#Returns":"0 - Normal\nThere are no error returns.","see-also#See Also":"sys.stack_input()","sysstack_fkey#sys.stack_fkey()":"","usage#Usage":"ret = sys.stack_fkey(fkey1 [,fkey2 [..., [fkey16]] ... ]);","where-used#Where Used":"sys.stack_fkey() can be called from anywhere. Of course, it has no affect until input is needed from the user."},"title":"sys.stack_fkey"},"/docs/systempcls/sys-stack_input/":{"data":{"":"","arguments#Arguments":"inp1 - inp16 - Up to 16 alpha args\ninp1 is mandatory and inp2 through inp16 are optional.","bugs--features--comments#Bugs / Features / Comments":"Every argument passed to sys.stack_input() gets a appended to it, even though this is not always wanted.","description#Description":"sys.stack_input() allows a program to stack input. Stacked input acts as if the user entered that which is stacked in the same order it was stacked. Each stacked input is followed by a . This is not really a stack, it is a FirstIn FirstOut list. So successive stack input calls are added to the end of the list rather than the head of the list. The arguments passed to sys.stack_input() are also processed in the same order. This can be used when you want to try to anticipate a users response and save keystrokes. Calls to sys.stack_input() and sys.stack_fkey() can be intermixed with predictable results.","example#Example":"sys.stack_input(\"0001\");","purpose#Purpose":"sys.stack_input() allows a program to stack input.","returns#Returns":"0 - OK\nThere are no error returns.","see-also#See Also":"sys.stack_fkey()","sysstack_input#sys.stack_input()":"","usage#Usage":"ret = sys.stack_input(inp1 [,inp2 [..., [inp16]] ... ]);","where-used#Where Used":"sys.stack_input() can be called from anywhere. Of course, it has no affect until input is needed from the user."},"title":"sys.stack_input"},"/docs/systempcls/sys-start_busy/":{"data":{"":"","arguments#Arguments":"- an alpha that can be used to reference this progress bar in subsequent calls to sys.stop_busy() and sys.set_busy()\n- The text to display as the title.\n\u003cp\u003e\u003clabel\u003e - The text to display as the label.\n\u003cp\u003e\u003cflags\u003e - and integer argument that consists of any of the following ored together.\n\u003cul\u003e \u003cli\u003eSB_DEFAULT - same as SB_TITLE|SB_LABEL|SB_NOCANCEL|SB_PROGRESS|SB_STATUS\u003c/li\u003e \u003cli\u003eSB_TITLE, SB_NOTITLE\u003c/li\u003e \u003cli\u003eSB_LABEL, SB_NOLABEL\u003c/li\u003e \u003cli\u003eSB_CANCEL, SB_NOCANCEL\u003c/li\u003e \u003cli\u003eSB_PROGRESS, SB_NOPROGRESS\u003c/li\u003e \u003cli\u003eSB_STATUS, SB_NOSTATUS\u003c/li\u003e \u003cli\u003eSB_OK, SB_NONOOK\u003c/li\u003e \u003cli\u003eSB_FOCUS, SB_NOFOCUS\u003c/li\u003e \u003c/ul\u003e","bugs--features--comments#Bugs / Features / Comments":"If the status area is present on a progress bar, sys.msg() output goes there.","description#Description":"This system pcl causes a progress bar to start on the client’s display if one with the same name is not already there. The progress bar will stop automatically when the program that started it either exits or needs user input on a field or at end page. The application can stop the progress bar by itself by calling sys.stop_busy(). If the user cancels on the progress bar, the program that started the progress bar as well as all pushed programs will exit with a -3 code. This is why cancel is not used in SB_DEFAULT.","example#Example":"None","purpose#Purpose":"sys.start_busy() starts a progress bar on the client.","returns#Returns":"This pcl should always return 0.","see-also#See Also":"sys.stop_busy() sys.set_busy()","sysstart_busy#sys.start_busy()":"","usage#Usage":"sys.start_busy(\u003cname\u003e,\u003ctitle\u003e,\u003clabel\u003e,\u003cflags\u003e);","where-used#Where Used":"sys.start_busy() can be called from anywhere."},"title":"sys.start_busy"},"/docs/systempcls/sys-start_task/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"No Nested transactions.\nBeware of ENORMOUS log files.\n4C will eventually need to accommodate other file systems that allow transaction processing. A new more general call will probably replace sys.start_task().","description#Description":"sys.start_task() starts a CISAM transaction. If you have already started a transaction and have not called sys.end_task(), then CISAM will abort the transaction in progress and start a new one. sys.start_task() calls isbegin(). You should read and understand the isbegin() documentation in the CISAM manuals.","example#Example":"None","purpose#Purpose":"sys.start_task() starts a CISAM transaction.","returns#Returns":"ret\n0 - OK\n-1 - CISAM Not Available or CISAM ERROR\nFor CISAM errors, a message has been displayed including the CISAM errno.","see-also#See Also":"sys.open_log() sys.close_log() sys.end_task() sys.abort_task()","sysstart_task#sys.start_task()":"","usage#Usage":"ret = sys.start_task();","where-used#Where Used":"sys.start_task() can be called from anywhere, but its usage will need to coincide with logical transactions."},"title":"sys.start_task"},"/docs/systempcls/sys-stop_busy/":{"data":{"":"","arguments#Arguments":"- The alpha that was used to start this progress bar in sys.start_busy()","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"This system pcl causes a currently running progress bar to stop running on the client’s display.","example#Example":"None","purpose#Purpose":"sys.stop_busy() stops a progress bar on the client.","returns#Returns":"-1 - means no progress bar with name was found. Otherwise 0 is returned.","see-also#See Also":"sys.start_busy() sys.set_busy()","sysstop_busy#sys.stop_busy()":"","usage#Usage":"sys.stop_busy(\u003cname\u003e);","where-used#Where Used":"sys.stop_busy() can be called from anywhere."},"title":"sys.stop_busy"},"/docs/systempcls/sys-stop_tab/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"There really should be a bootstrap defined field to allow this also.","description#Description":"sys.stop_tab() ends the tabbing action started by the user pressing the key.","example#Example":"None","purpose#Purpose":"sys.stop_tab() stops the tabbing initiated by the user pressing the key.","returns#Returns":"None","see-also#See Also":"None","sysstop_tab#sys.stop_tab()":"","usage#Usage":"sys.stop_tab();","where-used#Where Used":"sys.stop_tab() can be called anytime during field processing. The most likely place to call it is from the StFld PCL of the field that wants to force input."},"title":"sys.stop_tab"},"/docs/systempcls/sys-tv_add/":{"data":{"":"","arguments#Arguments":"- Can be combination of TV_DEFAULT, TV_EXPAND and TV_NOEXPAND.\n- The depth of this item. You must use 0 for the roots of the tree.\n- The text to display with this item.\n- the name of an image file, if any, to display when this item is not selected. The name should be relative to the 4c images directory. The image must reside on the server and it will be copied to the client when needed and then future uses will get the image file from the client.\n- the name of an image file, if any, to display when this item is selected. If blank, then the will be used.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.tv_add() adds 1 item to the TreeView program at the requested depth. Items are always added at the bottom of the list.","example#Example":"See the sys.menu.tv bootstrap program for an example of how to use sys.tv_add().","purpose#Purpose":"sys.tv_add() adds a new item to a TreeView program.","returns#Returns":"-1 - Program is not a TreeView program or program is not open yet.\n0 - Normal.","see-also#See Also":"sys.tv_getsel()","systv_add#sys.tv_add()":"","usage#Usage":"sys.tv_add(\u003cflags\u003e,\u003cdepth\u003e, \u003clabel\u003e, \u003cnormalimage\u003e, \u003cselimage\u003e);","where-used#Where Used":"sys.tv_add() should be called from the OpenPCL of a TreeView program."},"title":"sys.tv_add"},"/docs/systempcls/sys-tv_getsel/":{"data":{"":"","arguments#Arguments":"None","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.tv_getsel() returns the index of the currently selected item for the TreeView program. The index is based on the order the items were added to the TreeView program. The first item always has an index of 0 and the last item always has an index of nitems-1. The easiest way for an application to know what info goes with a particular item is to build a temp file, indexed by item idx, while adding items to the TreeView program. Sys.tv_getsel() can then be used to set the key for the temp file when the TVSelectPCL or TVActionPCL is executed.","example#Example":"See the sys.menu.tv program for an example of how to use sys.tv_getsel().","purpose#Purpose":"sys.tv_getsel() returns the index of the currently selected item for the TreeView program.","returns#Returns":"-1 - Program is not a TreeView program or program is not open yet. 0 - OK","see-also#See Also":"sys.tv_add()","systv_getsel#sys.tv_getsel()":"","usage#Usage":"idx = sys.tv_getsel();","where-used#Where Used":"sys.tv_getsel() should be used in the TVSelectPCL or the TVActionPCL."},"title":"sys.tv_getsel"},"/docs/systempcls/sys-unshare_field/":{"data":{"":"","arguments#Arguments":"- Any valid file variable in the program","bugs--features--comments#Bugs / Features / Comments":"Bugs","description#Description":"sys.unshare_field() stops sharing of one field with other fields This is most likely used when dynamic sharing was used in a program by calling sys.set_share()","example#Example":"None","purpose#Purpose":"sys.unshare_field() stops sharing of one field with other fields","returns#Returns":"integer - 0 if is unshared successfully, -1 if was not shared to start with.","see-also#See Also":"sys.share_field()","sysunshare_field#sys.unshare_field()":"","usage#Usage":"ret = sys.unshare_field(\u003cfield\u003e);","where-used#Where Used":"sys.unshare_field() can be called from anywhere. It is most likely to be used in programs where sys.share_field() was used to dynamically shared fields at run time."},"title":"sys.unshare_field"},"/docs/systempcls/sys-upd_file/":{"data":{"":"","arguments#Arguments":"file - the asfile name of the file to update.\ninteger - flags that can be combined using the ‘|’ operator.\nAllowable flags are:\nF_DEFAULT - update file based on last sys.read_file() access.\nF_ADD - Add new rcd. If last sys.read_file() did not specify F_ADD, then read rcd first specifying\nF_ADD|F_NOMSG|F_KEYEQ|F_NODEBLOCK|F_LOCK\nF_DELETE - Delete rcd. If last sys.read_file() did not specify F_DELETE, then read rcd first specifying\nF_DELETE|F_NOMSG|F_KEYEQ|F_NODEBLOCK|F_LOCK\nF_MODIFY - Modify rcd. If last sys.read_file() did not specify F_MODIFY, then read rcd first specifying\nF_MODIFY|F_NOMSG|F_KEYEQ|F_NODEBLOCK|F_LOCK\nF_NOMSG - Don’t print default message for READ errors and don’t prompt if delete OK for F_DEFAULT.\nF_FORCE - Don’t read this file in the current upd mode","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.upd_file() allows updating a single rcd in a file. The file is normally updated based on the mode of the last access, but a mode can be specified with sys.upd_file() instead. If the mode specified with sys.upd_file() is different than the mode of the last read, then rcd is accessed in the updmode first, unless F_FORCE is specified, to allow for locking and for error checking.\nsys.errno does not get set like it does with sys.read_file().","example#Example":"In the tutorial application, the program cm.fm calls updfiles() from the EndFldLp PCL. Here is that PCL. It makes two calls to sys.upd_file().\n/* End Field Loop PCL Name: updfiles Usage: updfiles(); This PCL updates the file cust_mstr based on sys.mode For Add or modify modes, if no record exists in the zip code file, add one now */ if ( (sys.mode==\"Add\")||(sys.mode==\"Modify\") ) { zc_zip = cm_zip; if (sys.read_file(zip_code,F_ADD|F_NOMSG) == 0 ) { zc_city = cm_city; zc_state = cm_state; zc_phprefix = cm_phone[0](0,2); sys.upd_file(zip_code,F_DEFAULT); } } sys.upd_file(cust_mstr,F_DEFAULT);","purpose#Purpose":"sys.upd_file() updates a rcd on disk.","returns#Returns":"0 - Update OK\n-1 - Error - could be error in reading if F_DEFAULT not used, update error, or user typed ’n’ to Delete OK prompt.","see-also#See Also":"sys.read_file()","sysupd_file#sys.upd_file()":"","usage#Usage":"ret = sys.upd_file(, );","where-used#Where Used":"sys.upd_file() can be called from anywhere but is quite often used from the EndFldLp PCL for screen programs."},"title":"sys.upd_file"},"/docs/systempcls/sys-utf8_charat/":{"data":{"":"","arguments#Arguments":"utf8 - A valid UTF8 string integer - The character, not byte, index into to get the character.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.utf8_charat() returns the utf8 character at in . The single utf8 character can be up to 4 bytes in length.","example#Example":"The demo.utf8.1 has an example of using sys.utf8_charat() in the test1() PCL.","purpose#Purpose":"sys.utf8_charat() returns the utf8 character at in .","returns#Returns":"utf8 - A utf8 string corresponding to a single Unicode codepoint. can be from 0 to 4 bytes. If 0 bytes, then either was invalid or was not a valid UTF8 string.","see-also#See Also":"sys.cp_toutf8() sys.utf8_charat() sys.utf8_count() sys.utf8_fix() sys.utf8_join() sys.utf8_split() sys.utf8_tocp() sys.utf8_verify()","sysutf8_charat#sys.utf8_charat()":"","usage#Usage":"utf8char = sys.utf8_charat(\u003cutf8str\u003e,\u003cidx\u003e);","where-used#Where Used":"sys.utf8_charat() can be called from anywhere."},"title":"sys.utf8_charat"},"/docs/systempcls/sys-utf8_count/":{"data":{"":"","arguments#Arguments":"utf8 - A valid UTF8 string","bugs--features--comments#Bugs / Features / Comments":"Requirements: 4csrvr version 6.4.3 or later","description#Description":"sys.utf8_count() returns the number UTF8 characters in . If is not a valid UTF8 string, then -1 is returned.","example#Example":"None","purpose#Purpose":"sys.utf8_count() returns the number UTF8 characters in","returns#Returns":"integer - The number of UTF8 characters in , -1 for error","see-also#See Also":"sys.cp_toutf8() sys.utf8_charat() sys.utf8_count() sys.utf8_fix() sys.utf8_join() sys.utf8_split() sys.utf8_tocp() sys.utf8_verify()","sysutf8_count#sys.utf8_count()":"","usage#Usage":"count = sys.utf8_count(\u003cutf8str\u003e);","where-used#Where Used":"sys.utf8_count() can be called from anywhere."},"title":"sys.utf8_count"},"/docs/systempcls/sys-utf8_join/":{"data":{"":"","arguments#Arguments":"utf8 OR integer - The starting element of either a UTF8 character array or a Unicode codepoint array integer - Optional argument that specifies the maximum number of elements from the array to join. If not specified, then all elements starting at index until the end of the array are joined.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.utf8_join() joins the elements in either a utf8 character array or a unicode codepoint array and returns a new utf8 string.","example#Example":"None","purpose#Purpose":"None","returns#Returns":"utf8 - The UTF8 string created by joining the elements of the array into a utf8 string","see-also#See Also":"sys.cp_toutf8() sys.utf8_charat() sys.utf8_count() sys.utf8_fix() sys.utf8_join() sys.utf8_split() sys.utf8_tocp() sys.utf8_verify()","sysutf8_join#sys.utf8_join()":"","usage#Usage":"\u003cutf8str\u003e = sys.utf8_join(\u003carray[idx]\u003e [, \u003cmaxelements\u003e]);","where-used#Where Used":"sys.utf8_join() can be called from anywhere."},"title":"sys.utf8_join"},"/docs/systempcls/sys-utf8_tocp/":{"data":{"":"","arguments#Arguments":"utf8 - A single utf8 character byte string","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"sys.utf8_tocp() returns the 32bit integer codepoint for the utf8 character starting at byte 0 in . If the return is \u003e= 0, then corresponded to the start of a valid UTF8 character and the number of bytes in that character is then stored in sys_ret. If the codepoint returned is less than 0, then the first byte in was not the beginning of a valid UTF8 character.","example#Example":"The demo.test.1 program has an example of using sys.utf8_tocp().","purpose#Purpose":"sys.utf8_tocp() returns the 32bit integer codepoint for the utf8 character starting at byte 0 in .","returns#Returns":"integer - The unicode code point for the utf8 char starting at byte 0 in or -1 if the first byte is the start of an invalid utf8 character.","see-also#See Also":"sys.cp_toutf8() sys.utf8_charat() sys.utf8_count() sys.utf8_fix() sys.utf8_join() sys.utf8_split() sys.utf8_tocp() sys.utf8_verify()","sysutf8_tocp#sys.utf8_tocp()":"","usage#Usage":"cp = sys.utf8_tocp(\u003cutf8char\u003e);","where-used#Where Used":"sys.utf8_tocp() can be called from anywhere."},"title":"sys.utf8_tocp"},"/docs/systempcls/sys-utf8_verify/":{"data":{"":"","arguments#Arguments":"utf8 - A string of bytes that may or may not be a valid utf8 str.","bugs--features--comments#Bugs / Features / Comments":"Requirements: 4csrvr version 6.4.3 or later","description#Description":"sys.utf8_verify() verifys that all bytes in are valid and returns 0 if they are and -1 if they are not. When -1 is returned, the byte index into of the start of the 1st invalid utf8 character is saved in sys_ret.","example#Example":"None","purpose#Purpose":"sys.utf8_verify() verifys that all bytes in are valid and returns 0 if they are and -1 if they are not.","returns#Returns":"integer - 0 if is a valid UTF8 string, -1 if not","see-also#See Also":"sys.cp_toutf8() sys.utf8_charat() sys.utf8_count() sys.utf8_fix() sys.utf8_join() sys.utf8_split() sys.utf8_tocp() sys.utf8_verify()","sysutf8_verify#sys.utf8_verify()":"","usage#Usage":"ret = sys.utf8_verify(\u003cutf8str\u003e);","where-used#Where Used":"sys.utf8_verify() can be called from anywhere."},"title":"sys.utf8_verify"},"/docs/systempcls/tolower/":{"data":{"":"","arguments#Arguments":"alpha - The alpha variable to convert.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"tolower() translates an alpha variable by converting all upper case letters to lowercase. All other characters are left untouched. The converted alpha is the return value of tolower(). The original alpha is left unchanged unless it is specified as .","example#Example":"None","purpose#Purpose":"tolower() converts any upper case letters in an alpha variable to lower case.","returns#Returns":"alpha - The converted alpha.","see-also#See Also":"toupper() isdigit() islower() isupper()","tolower#tolower()":"","usage#Usage":"aret = tolower(\u003cavar\u003e);","where-used#Where Used":"tolower() can be called from anywhere."},"title":"tolower"},"/docs/systempcls/toupper/":{"data":{"":"","arguments#Arguments":"alpha - The alpha variable to convert.","bugs--features--comments#Bugs / Features / Comments":"None","description#Description":"toupper() translates an alpha variable by converting all lower case letters to uppercase. All other characters are left untouched. The converted alpha is the return value of toupper(). The original alpha is left unchanged unless it is specified as .","example#Example":"In the file/field definition program sys.fd.maint, toupper() is used to construct the CDefine. When the key is pressed, the PCL setcdef2() is called. The code from setcdef2() follows:\n/* Set up a CDEF */ len = strlen(sys.fd_fieldname); sys.fd_cdef = \"\"; for (i = 0; i \u003c len; i+=1) { if (sys.fd_fieldname(i,i) == \".\") sys.fd_cdef(i,i) = \"_\"; else sys.fd_cdef(i,i) = toupper(sys.fd_fieldname(i,i)); }","purpose#Purpose":"toupper() converts any lower case letters in an alpha variable to upper case.","returns#Returns":"alpha - The converted alpha.","see-also#See Also":"tolower() isdigit() islower() isupper()","toupper#toupper()":"","usage#Usage":"aret = toupper(\u003cavar\u003e);","where-used#Where Used":"toupper() can be called from anywhere."},"title":"toupper"}}